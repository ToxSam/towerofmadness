"use strict";var D3=Object.create;var gf=Object.defineProperty;var W3=Object.getOwnPropertyDescriptor;var j3=Object.getOwnPropertyNames;var F3=Object.getPrototypeOf,H3=Object.prototype.hasOwnProperty;var en=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),V3=(e,n)=>{for(var a in n)gf(e,a,{get:n[a],enumerable:!0})},RE=(e,n,a,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of j3(n))!H3.call(e,r)&&r!==a&&gf(e,r,{get:()=>n[r],enumerable:!(t=W3(n,r))||t.enumerable});return e};var we=(e,n,a)=>(a=e!=null?D3(F3(e)):{},RE(n||!e||!e.__esModule?gf(a,"default",{value:e,enumerable:!0}):a,e)),G3=e=>RE(gf({},"__esModule",{value:!0}),e);var NE=en((xv,CE)=>{"use strict";CE.exports=Y3;function Y3(e,n){for(var a=new Array(arguments.length-1),t=0,r=2,o=!0;r<arguments.length;)a[t++]=arguments[r++];return new Promise(function(u,c){a[t]=function(y){if(o)if(o=!1,y)c(y);else{for(var R=new Array(arguments.length-1),g=0;g<R.length;)R[g++]=arguments[g];u.apply(null,R)}};try{e.apply(n||null,a)}catch(m){o&&(o=!1,c(m))}})}});var OE=en(kE=>{"use strict";var Ef=kE;Ef.length=function(n){var a=n.length;if(!a)return 0;for(var t=0;--a%4>1&&n.charAt(a)==="=";)++t;return Math.ceil(n.length*3)/4-t};var Es=new Array(64),vE=new Array(123);for(ir=0;ir<64;)vE[Es[ir]=ir<26?ir+65:ir<52?ir+71:ir<62?ir-4:ir-59|43]=ir++;var ir;Ef.encode=function(n,a,t){for(var r=null,o=[],f=0,u=0,c;a<t;){var m=n[a++];switch(u){case 0:o[f++]=Es[m>>2],c=(m&3)<<4,u=1;break;case 1:o[f++]=Es[c|m>>4],c=(m&15)<<2,u=2;break;case 2:o[f++]=Es[c|m>>6],o[f++]=Es[m&63],u=0;break}f>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),f=0)}return u&&(o[f++]=Es[c],o[f++]=61,u===1&&(o[f++]=61)),r?(f&&r.push(String.fromCharCode.apply(String,o.slice(0,f))),r.join("")):String.fromCharCode.apply(String,o.slice(0,f))};var IE="invalid encoding";Ef.decode=function(n,a,t){for(var r=t,o=0,f,u=0;u<n.length;){var c=n.charCodeAt(u++);if(c===61&&o>1)break;if((c=vE[c])===void 0)throw Error(IE);switch(o){case 0:f=c,o=1;break;case 1:a[t++]=f<<2|(c&48)>>4,f=c,o=2;break;case 2:a[t++]=(f&15)<<4|(c&60)>>2,f=c,o=3;break;case 3:a[t++]=(f&3)<<6|c,o=0;break}}if(o===1)throw Error(IE);return t-r};Ef.test=function(n){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(n)}});var ME=en((Av,wE)=>{"use strict";wE.exports=Tf;function Tf(){this._listeners={}}Tf.prototype.on=function(n,a,t){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:a,ctx:t||this}),this};Tf.prototype.off=function(n,a){if(n===void 0)this._listeners={};else if(a===void 0)this._listeners[n]=[];else for(var t=this._listeners[n],r=0;r<t.length;)t[r].fn===a?t.splice(r,1):++r;return this};Tf.prototype.emit=function(n){var a=this._listeners[n];if(a){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);for(r=0;r<a.length;)a[r].fn.apply(a[r++].ctx,t)}return this}});var WE=en((Rv,DE)=>{"use strict";DE.exports=PE(PE);function PE(e){return typeof Float32Array<"u"?function(){var n=new Float32Array([-0]),a=new Uint8Array(n.buffer),t=a[3]===128;function r(c,m,y){n[0]=c,m[y]=a[0],m[y+1]=a[1],m[y+2]=a[2],m[y+3]=a[3]}function o(c,m,y){n[0]=c,m[y]=a[3],m[y+1]=a[2],m[y+2]=a[1],m[y+3]=a[0]}e.writeFloatLE=t?r:o,e.writeFloatBE=t?o:r;function f(c,m){return a[0]=c[m],a[1]=c[m+1],a[2]=c[m+2],a[3]=c[m+3],n[0]}function u(c,m){return a[3]=c[m],a[2]=c[m+1],a[1]=c[m+2],a[0]=c[m+3],n[0]}e.readFloatLE=t?f:u,e.readFloatBE=t?u:f}():function(){function n(t,r,o,f){var u=r<0?1:0;if(u&&(r=-r),r===0)t(1/r>0?0:2147483648,o,f);else if(isNaN(r))t(2143289344,o,f);else if(r>34028234663852886e22)t((u<<31|2139095040)>>>0,o,f);else if(r<11754943508222875e-54)t((u<<31|Math.round(r/1401298464324817e-60))>>>0,o,f);else{var c=Math.floor(Math.log(r)/Math.LN2),m=Math.round(r*Math.pow(2,-c)*8388608)&8388607;t((u<<31|c+127<<23|m)>>>0,o,f)}}e.writeFloatLE=n.bind(null,zE),e.writeFloatBE=n.bind(null,LE);function a(t,r,o){var f=t(r,o),u=(f>>31)*2+1,c=f>>>23&255,m=f&8388607;return c===255?m?NaN:u*(1/0):c===0?u*1401298464324817e-60*m:u*Math.pow(2,c-150)*(m+8388608)}e.readFloatLE=a.bind(null,BE),e.readFloatBE=a.bind(null,UE)}(),typeof Float64Array<"u"?function(){var n=new Float64Array([-0]),a=new Uint8Array(n.buffer),t=a[7]===128;function r(c,m,y){n[0]=c,m[y]=a[0],m[y+1]=a[1],m[y+2]=a[2],m[y+3]=a[3],m[y+4]=a[4],m[y+5]=a[5],m[y+6]=a[6],m[y+7]=a[7]}function o(c,m,y){n[0]=c,m[y]=a[7],m[y+1]=a[6],m[y+2]=a[5],m[y+3]=a[4],m[y+4]=a[3],m[y+5]=a[2],m[y+6]=a[1],m[y+7]=a[0]}e.writeDoubleLE=t?r:o,e.writeDoubleBE=t?o:r;function f(c,m){return a[0]=c[m],a[1]=c[m+1],a[2]=c[m+2],a[3]=c[m+3],a[4]=c[m+4],a[5]=c[m+5],a[6]=c[m+6],a[7]=c[m+7],n[0]}function u(c,m){return a[7]=c[m],a[6]=c[m+1],a[5]=c[m+2],a[4]=c[m+3],a[3]=c[m+4],a[2]=c[m+5],a[1]=c[m+6],a[0]=c[m+7],n[0]}e.readDoubleLE=t?f:u,e.readDoubleBE=t?u:f}():function(){function n(t,r,o,f,u,c){var m=f<0?1:0;if(m&&(f=-f),f===0)t(0,u,c+r),t(1/f>0?0:2147483648,u,c+o);else if(isNaN(f))t(0,u,c+r),t(2146959360,u,c+o);else if(f>17976931348623157e292)t(0,u,c+r),t((m<<31|2146435072)>>>0,u,c+o);else{var y;if(f<22250738585072014e-324)y=f/5e-324,t(y>>>0,u,c+r),t((m<<31|y/4294967296)>>>0,u,c+o);else{var R=Math.floor(Math.log(f)/Math.LN2);R===1024&&(R=1023),y=f*Math.pow(2,-R),t(y*4503599627370496>>>0,u,c+r),t((m<<31|R+1023<<20|y*1048576&1048575)>>>0,u,c+o)}}}e.writeDoubleLE=n.bind(null,zE,0,4),e.writeDoubleBE=n.bind(null,LE,4,0);function a(t,r,o,f,u){var c=t(f,u+r),m=t(f,u+o),y=(m>>31)*2+1,R=m>>>20&2047,g=4294967296*(m&1048575)+c;return R===2047?g?NaN:y*(1/0):R===0?y*5e-324*g:y*Math.pow(2,R-1075)*(g+4503599627370496)}e.readDoubleLE=a.bind(null,BE,0,4),e.readDoubleBE=a.bind(null,UE,4,0)}(),e}function zE(e,n,a){n[a]=e&255,n[a+1]=e>>>8&255,n[a+2]=e>>>16&255,n[a+3]=e>>>24}function LE(e,n,a){n[a]=e>>>24,n[a+1]=e>>>16&255,n[a+2]=e>>>8&255,n[a+3]=e&255}function BE(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0}function UE(e,n){return(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])>>>0}});var jE=en((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var Sf=en(FE=>{"use strict";var Nh=FE;Nh.length=function(n){for(var a=0,t=0,r=0;r<n.length;++r)t=n.charCodeAt(r),t<128?a+=1:t<2048?a+=2:(t&64512)===55296&&(n.charCodeAt(r+1)&64512)===56320?(++r,a+=4):a+=3;return a};Nh.read=function(n,a,t){var r=t-a;if(r<1)return"";for(var o=null,f=[],u=0,c;a<t;)c=n[a++],c<128?f[u++]=c:c>191&&c<224?f[u++]=(c&31)<<6|n[a++]&63:c>239&&c<365?(c=((c&7)<<18|(n[a++]&63)<<12|(n[a++]&63)<<6|n[a++]&63)-65536,f[u++]=55296+(c>>10),f[u++]=56320+(c&1023)):f[u++]=(c&15)<<12|(n[a++]&63)<<6|n[a++]&63,u>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,f)),u=0);return o?(u&&o.push(String.fromCharCode.apply(String,f.slice(0,u))),o.join("")):String.fromCharCode.apply(String,f.slice(0,u))};Nh.write=function(n,a,t){for(var r=t,o,f,u=0;u<n.length;++u)o=n.charCodeAt(u),o<128?a[t++]=o:o<2048?(a[t++]=o>>6|192,a[t++]=o&63|128):(o&64512)===55296&&((f=n.charCodeAt(u+1))&64512)===56320?(o=65536+((o&1023)<<10)+(f&1023),++u,a[t++]=o>>18|240,a[t++]=o>>12&63|128,a[t++]=o>>6&63|128,a[t++]=o&63|128):(a[t++]=o>>12|224,a[t++]=o>>6&63|128,a[t++]=o&63|128);return t-r}});var VE=en((Nv,HE)=>{"use strict";HE.exports=q3;function q3(e,n,a){var t=a||8192,r=t>>>1,o=null,f=t;return function(c){if(c<1||c>r)return e(c);f+c>t&&(o=e(t),f=0);var m=n.call(o,f,f+=c);return f&7&&(f=(f|7)+1),m}}});var YE=en((Iv,GE)=>{"use strict";GE.exports=wn;var Tu=Wi();function wn(e,n){this.lo=e>>>0,this.hi=n>>>0}var Ia=wn.zero=new wn(0,0);Ia.toNumber=function(){return 0};Ia.zzEncode=Ia.zzDecode=function(){return this};Ia.length=function(){return 1};var $3=wn.zeroHash="\0\0\0\0\0\0\0\0";wn.fromNumber=function(n){if(n===0)return Ia;var a=n<0;a&&(n=-n);var t=n>>>0,r=(n-t)/4294967296>>>0;return a&&(r=~r>>>0,t=~t>>>0,++t>4294967295&&(t=0,++r>4294967295&&(r=0))),new wn(t,r)};wn.from=function(n){if(typeof n=="number")return wn.fromNumber(n);if(Tu.isString(n))if(Tu.Long)n=Tu.Long.fromString(n);else return wn.fromNumber(parseInt(n,10));return n.low||n.high?new wn(n.low>>>0,n.high>>>0):Ia};wn.prototype.toNumber=function(n){if(!n&&this.hi>>>31){var a=~this.lo+1>>>0,t=~this.hi>>>0;return a||(t=t+1>>>0),-(a+t*4294967296)}return this.lo+this.hi*4294967296};wn.prototype.toLong=function(n){return Tu.Long?new Tu.Long(this.lo|0,this.hi|0,!!n):{low:this.lo|0,high:this.hi|0,unsigned:!!n}};var Di=String.prototype.charCodeAt;wn.fromHash=function(n){return n===$3?Ia:new wn((Di.call(n,0)|Di.call(n,1)<<8|Di.call(n,2)<<16|Di.call(n,3)<<24)>>>0,(Di.call(n,4)|Di.call(n,5)<<8|Di.call(n,6)<<16|Di.call(n,7)<<24)>>>0)};wn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};wn.prototype.zzEncode=function(){var n=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^n)>>>0,this.lo=(this.lo<<1^n)>>>0,this};wn.prototype.zzDecode=function(){var n=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^n)>>>0,this.hi=(this.hi>>>1^n)>>>0,this};wn.prototype.length=function(){var n=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?a===0?n<16384?n<128?1:2:n<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:t<128?9:10}});var Wi=en(Ih=>{"use strict";var Le=Ih;Le.asPromise=NE();Le.base64=OE();Le.EventEmitter=ME();Le.float=WE();Le.inquire=jE();Le.utf8=Sf();Le.pool=VE();Le.LongBits=YE();Le.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Le.global=Le.isNode&&global||!1||typeof self<"u"&&self||Ih;Le.emptyArray=Object.freeze?Object.freeze([]):[];Le.emptyObject=Object.freeze?Object.freeze({}):{};Le.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};Le.isString=function(n){return typeof n=="string"||n instanceof String};Le.isObject=function(n){return n&&typeof n=="object"};Le.isset=Le.isSet=function(n,a){var t=n[a];return t!=null&&n.hasOwnProperty(a)?typeof t!="object"||(Array.isArray(t)?t.length:Object.keys(t).length)>0:!1};Le.Buffer=function(){try{var e=Le.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();Le._Buffer_from=null;Le._Buffer_allocUnsafe=null;Le.newBuffer=function(n){return typeof n=="number"?Le.Buffer?Le._Buffer_allocUnsafe(n):new Le.Array(n):Le.Buffer?Le._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)};Le.Array=typeof Uint8Array<"u"?Uint8Array:Array;Le.Long=Le.global.dcodeIO&&Le.global.dcodeIO.Long||Le.global.Long||Le.inquire("long");Le.key2Re=/^true|false|0|1$/;Le.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Le.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Le.longToHash=function(n){return n?Le.LongBits.from(n).toHash():Le.LongBits.zeroHash};Le.longFromHash=function(n,a){var t=Le.LongBits.fromHash(n);return Le.Long?Le.Long.fromBits(t.lo,t.hi,a):t.toNumber(!!a)};function qE(e,n,a){for(var t=Object.keys(n),r=0;r<t.length;++r)(e[t[r]]===void 0||!a)&&(e[t[r]]=n[t[r]]);return e}Le.merge=qE;Le.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function $E(e){function n(a,t){if(!(this instanceof n))return new n(a,t);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&qE(this,t)}return n.prototype=Object.create(Error.prototype,{constructor:{value:n,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),n}Le.newError=$E;Le.ProtocolError=$E("ProtocolError");Le.oneOfGetter=function(n){for(var a={},t=0;t<n.length;++t)a[n[t]]=1;return function(){for(var r=Object.keys(this),o=r.length-1;o>-1;--o)if(a[r[o]]===1&&this[r[o]]!==void 0&&this[r[o]]!==null)return r[o]}};Le.oneOfSetter=function(n){return function(a){for(var t=0;t<n.length;++t)n[t]!==a&&delete this[n[t]]}};Le.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Le._configure=function(){var e=Le.Buffer;if(!e){Le._Buffer_from=Le._Buffer_allocUnsafe=null;return}Le._Buffer_from=e.from!==Uint8Array.from&&e.from||function(a,t){return new e(a,t)},Le._Buffer_allocUnsafe=e.allocUnsafe||function(a){return new e(a)}}});var zh=en((kv,XE)=>{"use strict";XE.exports=gt;var Uo=Wi(),vh,_f=Uo.LongBits,JE=Uo.base64,KE=Uo.utf8;function Su(e,n,a){this.fn=e,this.len=n,this.next=void 0,this.val=a}function Oh(){}function J3(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function gt(){this.len=0,this.head=new Su(Oh,0,0),this.tail=this.head,this.states=null}var QE=function(){return Uo.Buffer?function(){return(gt.create=function(){return new vh})()}:function(){return new gt}};gt.create=QE();gt.alloc=function(n){return new Uo.Array(n)};Uo.Array!==Array&&(gt.alloc=Uo.pool(gt.alloc,Uo.Array.prototype.subarray));gt.prototype._push=function(n,a,t){return this.tail=this.tail.next=new Su(n,a,t),this.len+=a,this};function wh(e,n,a){n[a]=e&255}function K3(e,n,a){for(;e>127;)n[a++]=e&127|128,e>>>=7;n[a]=e}function Mh(e,n){this.len=e,this.next=void 0,this.val=n}Mh.prototype=Object.create(Su.prototype);Mh.prototype.fn=K3;gt.prototype.uint32=function(n){return this.len+=(this.tail=this.tail.next=new Mh((n=n>>>0)<128?1:n<16384?2:n<2097152?3:n<268435456?4:5,n)).len,this};gt.prototype.int32=function(n){return n<0?this._push(Ph,10,_f.fromNumber(n)):this.uint32(n)};gt.prototype.sint32=function(n){return this.uint32((n<<1^n>>31)>>>0)};function Ph(e,n,a){for(;e.hi;)n[a++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)n[a++]=e.lo&127|128,e.lo=e.lo>>>7;n[a++]=e.lo}gt.prototype.uint64=function(n){var a=_f.from(n);return this._push(Ph,a.length(),a)};gt.prototype.int64=gt.prototype.uint64;gt.prototype.sint64=function(n){var a=_f.from(n).zzEncode();return this._push(Ph,a.length(),a)};gt.prototype.bool=function(n){return this._push(wh,1,n?1:0)};function kh(e,n,a){n[a]=e&255,n[a+1]=e>>>8&255,n[a+2]=e>>>16&255,n[a+3]=e>>>24}gt.prototype.fixed32=function(n){return this._push(kh,4,n>>>0)};gt.prototype.sfixed32=gt.prototype.fixed32;gt.prototype.fixed64=function(n){var a=_f.from(n);return this._push(kh,4,a.lo)._push(kh,4,a.hi)};gt.prototype.sfixed64=gt.prototype.fixed64;gt.prototype.float=function(n){return this._push(Uo.float.writeFloatLE,4,n)};gt.prototype.double=function(n){return this._push(Uo.float.writeDoubleLE,8,n)};var Q3=Uo.Array.prototype.set?function(n,a,t){a.set(n,t)}:function(n,a,t){for(var r=0;r<n.length;++r)a[t+r]=n[r]};gt.prototype.bytes=function(n){var a=n.length>>>0;if(!a)return this._push(wh,1,0);if(Uo.isString(n)){var t=gt.alloc(a=JE.length(n));JE.decode(n,t,0),n=t}return this.uint32(a)._push(Q3,a,n)};gt.prototype.string=function(n){var a=KE.length(n);return a?this.uint32(a)._push(KE.write,a,n):this._push(wh,1,0)};gt.prototype.fork=function(){return this.states=new J3(this),this.head=this.tail=new Su(Oh,0,0),this.len=0,this};gt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Su(Oh,0,0),this.len=0),this};gt.prototype.ldelim=function(){var n=this.head,a=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=n.next,this.tail=a,this.len+=t),this};gt.prototype.finish=function(){for(var n=this.head.next,a=this.constructor.alloc(this.len),t=0;n;)n.fn(n.val,a,t),t+=n.len,n=n.next;return a};gt._configure=function(e){vh=e,gt.create=QE(),vh._configure()}});var tT=en((Ov,eT)=>{"use strict";eT.exports=Or;var ZE=zh();(Or.prototype=Object.create(ZE.prototype)).constructor=Or;var ji=Wi();function Or(){ZE.call(this)}Or._configure=function(){Or.alloc=ji._Buffer_allocUnsafe,Or.writeBytesBuffer=ji.Buffer&&ji.Buffer.prototype instanceof Uint8Array&&ji.Buffer.prototype.set.name==="set"?function(n,a,t){a.set(n,t)}:function(n,a,t){if(n.copy)n.copy(a,t,0,n.length);else for(var r=0;r<n.length;)a[t++]=n[r++]}};Or.prototype.bytes=function(n){ji.isString(n)&&(n=ji._Buffer_from(n,"base64"));var a=n.length>>>0;return this.uint32(a),a&&this._push(Or.writeBytesBuffer,a,n),this};function X3(e,n,a){e.length<40?ji.utf8.write(e,n,a):n.utf8Write?n.utf8Write(e,a):n.write(e,a)}Or.prototype.string=function(n){var a=ji.Buffer.byteLength(n);return this.uint32(a),a&&this._push(X3,a,n),this};Or._configure()});var Uh=en((wv,aT)=>{"use strict";aT.exports=mn;var wr=Wi(),Bh,rT=wr.LongBits,Z3=wr.utf8;function ar(e,n){return RangeError("index out of range: "+e.pos+" + "+(n||1)+" > "+e.len)}function mn(e){this.buf=e,this.pos=0,this.len=e.length}var nT=typeof Uint8Array<"u"?function(n){if(n instanceof Uint8Array||Array.isArray(n))return new mn(n);throw Error("illegal buffer")}:function(n){if(Array.isArray(n))return new mn(n);throw Error("illegal buffer")},iT=function(){return wr.Buffer?function(a){return(mn.create=function(r){return wr.Buffer.isBuffer(r)?new Bh(r):nT(r)})(a)}:nT};mn.create=iT();mn.prototype._slice=wr.Array.prototype.subarray||wr.Array.prototype.slice;mn.prototype.uint32=function(){var n=4294967295;return function(){if(n=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(n=(n|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,ar(this,10);return n}}();mn.prototype.int32=function(){return this.uint32()|0};mn.prototype.sint32=function(){var n=this.uint32();return n>>>1^-(n&1)|0};function Lh(){var e=new rT(0,0),n=0;if(this.len-this.pos>4){for(;n<4;++n)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw ar(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,e}if(this.len-this.pos>4){for(;n<5;++n)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;n<5;++n){if(this.pos>=this.len)throw ar(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}mn.prototype.bool=function(){return this.uint32()!==0};function xf(e,n){return(e[n-4]|e[n-3]<<8|e[n-2]<<16|e[n-1]<<24)>>>0}mn.prototype.fixed32=function(){if(this.pos+4>this.len)throw ar(this,4);return xf(this.buf,this.pos+=4)};mn.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ar(this,4);return xf(this.buf,this.pos+=4)|0};function oT(){if(this.pos+8>this.len)throw ar(this,8);return new rT(xf(this.buf,this.pos+=4),xf(this.buf,this.pos+=4))}mn.prototype.float=function(){if(this.pos+4>this.len)throw ar(this,4);var n=wr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,n};mn.prototype.double=function(){if(this.pos+8>this.len)throw ar(this,4);var n=wr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,n};mn.prototype.bytes=function(){var n=this.uint32(),a=this.pos,t=this.pos+n;if(t>this.len)throw ar(this,n);return this.pos+=n,Array.isArray(this.buf)?this.buf.slice(a,t):a===t?new this.buf.constructor(0):this._slice.call(this.buf,a,t)};mn.prototype.string=function(){var n=this.bytes();return Z3.read(n,0,n.length)};mn.prototype.skip=function(n){if(typeof n=="number"){if(this.pos+n>this.len)throw ar(this,n);this.pos+=n}else do if(this.pos>=this.len)throw ar(this);while(this.buf[this.pos++]&128);return this};mn.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};mn._configure=function(e){Bh=e,mn.create=iT(),Bh._configure();var n=wr.Long?"toLong":"toNumber";wr.merge(mn.prototype,{int64:function(){return Lh.call(this)[n](!1)},uint64:function(){return Lh.call(this)[n](!0)},sint64:function(){return Lh.call(this).zzDecode()[n](!1)},fixed64:function(){return oT.call(this)[n](!0)},sfixed64:function(){return oT.call(this)[n](!1)}})}});var lT=en((Mv,uT)=>{"use strict";uT.exports=va;var cT=Uh();(va.prototype=Object.create(cT.prototype)).constructor=va;var sT=Wi();function va(e){cT.call(this,e)}va._configure=function(){sT.Buffer&&(va.prototype._slice=sT.Buffer.prototype.slice)};va.prototype.string=function(){var n=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+n,this.len))};va._configure()});var dT=en((Pv,fT)=>{"use strict";fT.exports=_u;var Dh=Wi();(_u.prototype=Object.create(Dh.EventEmitter.prototype)).constructor=_u;function _u(e,n,a){if(typeof e!="function")throw TypeError("rpcImpl must be a function");Dh.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!n,this.responseDelimited=!!a}_u.prototype.rpcCall=function e(n,a,t,r,o){if(!r)throw TypeError("request must be specified");var f=this;if(!o)return Dh.asPromise(e,f,n,a,t,r);if(!f.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return f.rpcImpl(n,a[f.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(c,m){if(c)return f.emit("error",c,n),o(c);if(m===null){f.end(!0);return}if(!(m instanceof t))try{m=t[f.responseDelimited?"decodeDelimited":"decode"](m)}catch(y){return f.emit("error",y,n),o(y)}return f.emit("data",m,n),o(null,m)})}catch(u){f.emit("error",u,n),setTimeout(function(){o(u)},0);return}};_u.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var mT=en(pT=>{"use strict";var eA=pT;eA.Service=dT()});var yT=en((Lv,hT)=>{"use strict";hT.exports={}});var TT=en(ET=>{"use strict";var so=ET;so.build="minimal";so.Writer=zh();so.BufferWriter=tT();so.Reader=Uh();so.BufferReader=lT();so.util=Wi();so.rpc=mT();so.roots=yT();so.configure=gT;function gT(){so.util._configure(),so.Writer._configure(so.BufferWriter),so.Reader._configure(so.BufferReader)}gT()});var Pe=en((Uv,ST)=>{"use strict";ST.exports=TT()});var F_=en(ft=>{"use strict";var Xu=Symbol.for("react.element"),wC=Symbol.for("react.portal"),MC=Symbol.for("react.fragment"),PC=Symbol.for("react.strict_mode"),zC=Symbol.for("react.profiler"),LC=Symbol.for("react.provider"),BC=Symbol.for("react.context"),UC=Symbol.for("react.forward_ref"),DC=Symbol.for("react.suspense"),WC=Symbol.for("react.memo"),jC=Symbol.for("react.lazy"),O_=Symbol.iterator;function FC(e){return e===null||typeof e!="object"?null:(e=O_&&e[O_]||e["@@iterator"],typeof e=="function"?e:null)}var P_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,L_={};function Mc(e,n,a){this.props=e,this.context=n,this.refs=L_,this.updater=a||P_}Mc.prototype.isReactComponent={};Mc.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Mc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B_(){}B_.prototype=Mc.prototype;function _y(e,n,a){this.props=e,this.context=n,this.refs=L_,this.updater=a||P_}var xy=_y.prototype=new B_;xy.constructor=_y;z_(xy,Mc.prototype);xy.isPureReactComponent=!0;var w_=Array.isArray,U_=Object.prototype.hasOwnProperty,by={current:null},D_={key:!0,ref:!0,__self:!0,__source:!0};function W_(e,n,a){var t,r={},o=null,f=null;if(n!=null)for(t in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(o=""+n.key),n)U_.call(n,t)&&!D_.hasOwnProperty(t)&&(r[t]=n[t]);var u=arguments.length-2;if(u===1)r.children=a;else if(1<u){for(var c=Array(u),m=0;m<u;m++)c[m]=arguments[m+2];r.children=c}if(e&&e.defaultProps)for(t in u=e.defaultProps,u)r[t]===void 0&&(r[t]=u[t]);return{$$typeof:Xu,type:e,key:o,ref:f,props:r,_owner:by.current}}function HC(e,n){return{$$typeof:Xu,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Ay(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xu}function VC(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return n[a]})}var M_=/\/+/g;function Sy(e,n){return typeof e=="object"&&e!==null&&e.key!=null?VC(""+e.key):n.toString(36)}function vp(e,n,a,t,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(o){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Xu:case wC:f=!0}}if(f)return f=e,r=r(f),e=t===""?"."+Sy(f,0):t,w_(r)?(a="",e!=null&&(a=e.replace(M_,"$&/")+"/"),vp(r,n,a,"",function(m){return m})):r!=null&&(Ay(r)&&(r=HC(r,a+(!r.key||f&&f.key===r.key?"":(""+r.key).replace(M_,"$&/")+"/")+e)),n.push(r)),1;if(f=0,t=t===""?".":t+":",w_(e))for(var u=0;u<e.length;u++){o=e[u];var c=t+Sy(o,u);f+=vp(o,n,a,c,r)}else if(c=FC(e),typeof c=="function")for(e=c.call(e),u=0;!(o=e.next()).done;)o=o.value,c=t+Sy(o,u++),f+=vp(o,n,a,c,r);else if(o==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function Ip(e,n,a){if(e==null)return e;var t=[],r=0;return vp(e,t,"","",function(o){return n.call(a,o,r++)}),t}function GC(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var eo={current:null},kp={transition:null},YC={ReactCurrentDispatcher:eo,ReactCurrentBatchConfig:kp,ReactCurrentOwner:by};function j_(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Ip,forEach:function(e,n,a){Ip(e,function(){n.apply(this,arguments)},a)},count:function(e){var n=0;return Ip(e,function(){n++}),n},toArray:function(e){return Ip(e,function(n){return n})||[]},only:function(e){if(!Ay(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=Mc;ft.Fragment=MC;ft.Profiler=zC;ft.PureComponent=_y;ft.StrictMode=PC;ft.Suspense=DC;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YC;ft.act=j_;ft.cloneElement=function(e,n,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var t=z_({},e.props),r=e.key,o=e.ref,f=e._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,f=by.current),n.key!==void 0&&(r=""+n.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in n)U_.call(n,c)&&!D_.hasOwnProperty(c)&&(t[c]=n[c]===void 0&&u!==void 0?u[c]:n[c])}var c=arguments.length-2;if(c===1)t.children=a;else if(1<c){u=Array(c);for(var m=0;m<c;m++)u[m]=arguments[m+2];t.children=u}return{$$typeof:Xu,type:e.type,key:r,ref:o,props:t,_owner:f}};ft.createContext=function(e){return e={$$typeof:BC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LC,_context:e},e.Consumer=e};ft.createElement=W_;ft.createFactory=function(e){var n=W_.bind(null,e);return n.type=e,n};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:UC,render:e}};ft.isValidElement=Ay;ft.lazy=function(e){return{$$typeof:jC,_payload:{_status:-1,_result:e},_init:GC}};ft.memo=function(e,n){return{$$typeof:WC,type:e,compare:n===void 0?null:n}};ft.startTransition=function(e){var n=kp.transition;kp.transition={};try{e()}finally{kp.transition=n}};ft.unstable_act=j_;ft.useCallback=function(e,n){return eo.current.useCallback(e,n)};ft.useContext=function(e){return eo.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return eo.current.useDeferredValue(e)};ft.useEffect=function(e,n){return eo.current.useEffect(e,n)};ft.useId=function(){return eo.current.useId()};ft.useImperativeHandle=function(e,n,a){return eo.current.useImperativeHandle(e,n,a)};ft.useInsertionEffect=function(e,n){return eo.current.useInsertionEffect(e,n)};ft.useLayoutEffect=function(e,n){return eo.current.useLayoutEffect(e,n)};ft.useMemo=function(e,n){return eo.current.useMemo(e,n)};ft.useReducer=function(e,n,a){return eo.current.useReducer(e,n,a)};ft.useRef=function(e){return eo.current.useRef(e)};ft.useState=function(e){return eo.current.useState(e)};ft.useSyncExternalStore=function(e,n,a){return eo.current.useSyncExternalStore(e,n,a)};ft.useTransition=function(){return eo.current.useTransition()};ft.version="18.3.1"});var Op=en((T6,H_)=>{"use strict";H_.exports=F_()});var Z_=en(jt=>{"use strict";function Iy(e,n){var a=e.length;e.push(n);e:for(;0<a;){var t=a-1>>>1,r=e[t];if(0<Mp(r,n))e[t]=n,e[a]=r,a=t;else break e}}function pr(e){return e.length===0?null:e[0]}function zp(e){if(e.length===0)return null;var n=e[0],a=e.pop();if(a!==n){e[0]=a;e:for(var t=0,r=e.length,o=r>>>1;t<o;){var f=2*(t+1)-1,u=e[f],c=f+1,m=e[c];if(0>Mp(u,a))c<r&&0>Mp(m,u)?(e[t]=m,e[c]=a,t=c):(e[t]=u,e[f]=a,t=f);else if(c<r&&0>Mp(m,a))e[t]=m,e[c]=a,t=c;else break e}}return n}function Mp(e,n){var a=e.sortIndex-n.sortIndex;return a!==0?a:e.id-n.id}typeof performance=="object"&&typeof performance.now=="function"?(V_=performance,jt.unstable_now=function(){return V_.now()}):(Ry=Date,G_=Ry.now(),jt.unstable_now=function(){return Ry.now()-G_});var V_,Ry,G_,Br=[],Ki=[],qC=1,Go=null,Jn=3,Lp=!1,Ka=!1,el=!1,$_=typeof setTimeout=="function"?setTimeout:null,J_=typeof clearTimeout=="function"?clearTimeout:null,Y_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vy(e){for(var n=pr(Ki);n!==null;){if(n.callback===null)zp(Ki);else if(n.startTime<=e)zp(Ki),n.sortIndex=n.expirationTime,Iy(Br,n);else break;n=pr(Ki)}}function ky(e){if(el=!1,vy(e),!Ka)if(pr(Br)!==null)Ka=!0,wy(Oy);else{var n=pr(Ki);n!==null&&My(ky,n.startTime-e)}}function Oy(e,n){Ka=!1,el&&(el=!1,J_(tl),tl=-1),Lp=!0;var a=Jn;try{for(vy(n),Go=pr(Br);Go!==null&&(!(Go.expirationTime>n)||e&&!X_());){var t=Go.callback;if(typeof t=="function"){Go.callback=null,Jn=Go.priorityLevel;var r=t(Go.expirationTime<=n);n=jt.unstable_now(),typeof r=="function"?Go.callback=r:Go===pr(Br)&&zp(Br),vy(n)}else zp(Br);Go=pr(Br)}if(Go!==null)var o=!0;else{var f=pr(Ki);f!==null&&My(ky,f.startTime-n),o=!1}return o}finally{Go=null,Jn=a,Lp=!1}}var Bp=!1,Pp=null,tl=-1,K_=5,Q_=-1;function X_(){return!(jt.unstable_now()-Q_<K_)}function Cy(){if(Pp!==null){var e=jt.unstable_now();Q_=e;var n=!0;try{n=Pp(!0,e)}finally{n?Zu():(Bp=!1,Pp=null)}}else Bp=!1}var Zu;typeof Y_=="function"?Zu=function(){Y_(Cy)}:typeof MessageChannel<"u"?(Ny=new MessageChannel,q_=Ny.port2,Ny.port1.onmessage=Cy,Zu=function(){q_.postMessage(null)}):Zu=function(){$_(Cy,0)};var Ny,q_;function wy(e){Pp=e,Bp||(Bp=!0,Zu())}function My(e,n){tl=$_(function(){e(jt.unstable_now())},n)}jt.unstable_IdlePriority=5;jt.unstable_ImmediatePriority=1;jt.unstable_LowPriority=4;jt.unstable_NormalPriority=3;jt.unstable_Profiling=null;jt.unstable_UserBlockingPriority=2;jt.unstable_cancelCallback=function(e){e.callback=null};jt.unstable_continueExecution=function(){Ka||Lp||(Ka=!0,wy(Oy))};jt.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K_=0<e?Math.floor(1e3/e):5};jt.unstable_getCurrentPriorityLevel=function(){return Jn};jt.unstable_getFirstCallbackNode=function(){return pr(Br)};jt.unstable_next=function(e){switch(Jn){case 1:case 2:case 3:var n=3;break;default:n=Jn}var a=Jn;Jn=n;try{return e()}finally{Jn=a}};jt.unstable_pauseExecution=function(){};jt.unstable_requestPaint=function(){};jt.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=Jn;Jn=e;try{return n()}finally{Jn=a}};jt.unstable_scheduleCallback=function(e,n,a){var t=jt.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?t+a:t):a=t,e){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return r=a+r,e={id:qC++,callback:n,priorityLevel:e,startTime:a,expirationTime:r,sortIndex:-1},a>t?(e.sortIndex=a,Iy(Ki,e),pr(Br)===null&&e===pr(Ki)&&(el?(J_(tl),tl=-1):el=!0,My(ky,a-t))):(e.sortIndex=r,Iy(Br,e),Ka||Lp||(Ka=!0,wy(Oy))),e};jt.unstable_shouldYield=X_;jt.unstable_wrapCallback=function(e){var n=Jn;return function(){var a=Jn;Jn=n;try{return e.apply(this,arguments)}finally{Jn=a}}}});var t2=en((x6,e2)=>{"use strict";e2.exports=Z_()});var o2=en((b6,n2)=>{"use strict";n2.exports=function(n){var a={},t=Op(),r=t2(),o=Object.assign;function f(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ue=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var H=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}function Z(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case y:return"Fragment";case m:return"Portal";case g:return"Profiler";case R:return"StrictMode";case C:return"Suspense";case M:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case x:return(i.displayName||"Context")+".Consumer";case E:return(i._context.displayName||"Context")+".Provider";case _:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return s=i.displayName||null,s!==null?s:Z(i.type)||"Memo";case ue:s=i._payload,i=i._init;try{return Z(i(s))}catch{}}return null}function ie(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function P(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function G(i){if(P(i)!==i)throw Error(f(188))}function z(i){var s=i.alternate;if(!s){if(s=P(i),s===null)throw Error(f(188));return s!==i?null:i}for(var l=i,d=s;;){var p=l.return;if(p===null)break;var h=p.alternate;if(h===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===h.child){for(h=p.child;h;){if(h===l)return G(p),i;if(h===d)return G(p),s;h=h.sibling}throw Error(f(188))}if(l.return!==d.return)l=p,d=h;else{for(var b=!1,D=p.child;D;){if(D===l){b=!0,l=p,d=h;break}if(D===d){b=!0,d=p,l=h;break}D=D.sibling}if(!b){for(D=h.child;D;){if(D===l){b=!0,l=h,d=p;break}if(D===d){b=!0,d=h,l=p;break}D=D.sibling}if(!b)throw Error(f(189))}}if(l.alternate!==d)throw Error(f(190))}if(l.tag!==3)throw Error(f(188));return l.stateNode.current===l?i:s}function N(i){return i=z(i),i!==null?$(i):null}function $(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$(i);if(s!==null)return s;i=i.sibling}return null}function ee(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var s=ee(i);if(s!==null)return s}i=i.sibling}return null}var fe=Array.isArray,_e=n.getPublicInstance,ze=n.getRootHostContext,Be=n.getChildHostContext,Xe=n.prepareForCommit,Ze=n.resetAfterCommit,ct=n.createInstance,pt=n.appendInitialChild,Ot=n.finalizeInitialChildren,ot=n.prepareUpdate,Tn=n.shouldSetTextContent,Q=n.createTextInstance,le=n.scheduleTimeout,xe=n.cancelTimeout,V=n.noTimeout,oe=n.isPrimaryRenderer,Ne=n.supportsMutation,mt=n.supportsPersistence,Nn=n.supportsHydration,aa=n.getInstanceFromNode,bi=n.preparePortalMount,sa=n.getCurrentEventPriority,Tr=n.detachDeletedInstance,Sr=n.supportsMicrotasks,Ai=n.scheduleMicrotask,Qo=n.supportsTestSelectors,Gr=n.findFiberRoot,zt=n.getBoundingRect,Ri=n.getTextContent,Xo=n.isHiddenSubtree,Ci=n.matchAccessibilityRole,ca=n.setFocusIfFocusable,Yr=n.setupIntersectionObserver,Ni=n.appendChild,ua=n.appendChildToContainer,Ii=n.commitTextUpdate,Zo=n.commitMount,la=n.commitUpdate,qr=n.insertBefore,fa=n.insertInContainerBefore,da=n.removeChild,vi=n.removeChildFromContainer,$r=n.resetTextContent,pa=n.hideInstance,ma=n.hideTextInstance,v=n.unhideInstance,B=n.unhideTextInstance,X=n.clearContainer,be=n.cloneInstance,Se=n.createContainerChildSet,Ie=n.appendChildToContainerChildSet,je=n.finalizeContainerChildren,Ut=n.replaceContainerChildren,O=n.cloneHiddenInstance,W=n.cloneHiddenTextInstance,J=n.canHydrateInstance,me=n.canHydrateTextInstance,se=n.canHydrateSuspenseInstance,Ae=n.isSuspenseInstancePending,nt=n.isSuspenseInstanceFallback,St=n.getSuspenseInstanceFallbackErrorDetails,Ht=n.registerSuspenseInstanceRetry,Co=n.getNextHydratableSibling,ha=n.getFirstHydratableChild,$t=n.getFirstHydratableChildWithinContainer,S=n.getFirstHydratableChildWithinSuspenseInstance,I=n.hydrateInstance,k=n.hydrateTextInstance,w=n.hydrateSuspenseInstance,j=n.getNextHydratableInstanceAfterSuspenseInstance,de=n.commitHydratedContainer,ce=n.commitHydratedSuspenseInstance,Te=n.clearSuspenseBoundary,ke=n.clearSuspenseBoundaryFromContainer,Ye=n.shouldDeleteUnhydratedTailInstances,Je=n.didNotMatchHydratedContainerTextInstance,yt=n.didNotMatchHydratedTextInstance,$e;function Lt(i){if($e===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$e=s&&s[1]||""}return`
`+$e+i}var Vt=!1;function on(i,s){if(!i||Vt)return"";Vt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Ee){var d=Ee}Reflect.construct(i,[],s)}else{try{s.call()}catch(Ee){d=Ee}i.call(s.prototype)}else{try{throw Error()}catch(Ee){d=Ee}i()}}catch(Ee){if(Ee&&d&&typeof Ee.stack=="string"){for(var p=Ee.stack.split(`
`),h=d.stack.split(`
`),b=p.length-1,D=h.length-1;1<=b&&0<=D&&p[b]!==h[D];)D--;for(;1<=b&&0<=D;b--,D--)if(p[b]!==h[D]){if(b!==1||D!==1)do if(b--,D--,0>D||p[b]!==h[D]){var re=`
`+p[b].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=b&&0<=D);break}}}finally{Vt=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Lt(i):""}var Jt=Object.prototype.hasOwnProperty,We=[],ln=-1;function fn(i){return{current:i}}function ut(i){0>ln||(i.current=We[ln],We[ln]=null,ln--)}function it(i,s){ln++,We[ln]=i.current,i.current=s}var dn={},It=fn(dn),Dt=fn(!1),zn=dn;function jn(i,s){var l=i.type.contextTypes;if(!l)return dn;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},h;for(h in l)p[h]=s[h];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function Kt(i){return i=i.childContextTypes,i!=null}function No(){ut(Dt),ut(It)}function _r(i,s,l){if(It.current!==dn)throw Error(f(168));it(It,s),it(Dt,l)}function Qt(i,s,l){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(f(108,ie(i)||"Unknown",p));return o({},l,d)}function Io(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||dn,zn=It.current,it(It,i),it(Dt,Dt.current),!0}function xr(i,s,l){var d=i.stateNode;if(!d)throw Error(f(169));l?(i=Qt(i,s,zn),d.__reactInternalMemoizedMergedChildContext=i,ut(Dt),ut(It),it(It,i)):ut(Dt),it(Dt,l)}var Sn=Math.clz32?Math.clz32:Qr,Jr=Math.log,Kr=Math.LN2;function Qr(i){return i>>>=0,i===0?32:31-(Jr(i)/Kr|0)|0}var vo=64,ya=4194304;function ki(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ga(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,h=i.pingedLanes,b=l&268435455;if(b!==0){var D=b&~p;D!==0?d=ki(D):(h&=b,h!==0&&(d=ki(h)))}else b=l&~p,b!==0?d=ki(b):h!==0&&(d=ki(h));if(d===0)return 0;if(s!==0&&s!==d&&!(s&p)&&(p=d&-d,h=s&-s,p>=h||p===16&&(h&4194240)!==0))return s;if(d&4&&(d|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)l=31-Sn(s),p=1<<l,d|=i[l],s&=~p;return d}function Rl(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,h=i.pendingLanes;0<h;){var b=31-Sn(h),D=1<<b,re=p[b];re===-1?(!(D&l)||D&d)&&(p[b]=Rl(D,s)):re<=s&&(i.expiredLanes|=D),h&=~D}}function Zc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Nl(){var i=vo;return vo<<=1,!(vo&4194240)&&(vo=64),i}function eu(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ea(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Sn(s),i[s]=l}function Sm(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Sn(l),h=1<<p;s[p]=0,d[p]=-1,i[p]=-1,l&=~h}}function tu(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-Sn(l),p=1<<d;p&s|i[d]&s&&(i[d]|=s),l&=~p}}var ht=0;function Il(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var nu=r.unstable_scheduleCallback,vl=r.unstable_cancelCallback,_m=r.unstable_shouldYield,xm=r.unstable_requestPaint,In=r.unstable_now,bm=r.unstable_ImmediatePriority,n3=r.unstable_UserBlockingPriority,Am=r.unstable_NormalPriority,o3=r.unstable_IdlePriority,kl=null,br=null;function r3(i){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(kl,i,void 0,(i.current.flags&128)===128)}catch{}}function i3(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var er=typeof Object.is=="function"?Object.is:i3,Xr=null,Ol=!1,Rm=!1;function K0(i){Xr===null?Xr=[i]:Xr.push(i)}function a3(i){Ol=!0,K0(i)}function Ar(){if(!Rm&&Xr!==null){Rm=!0;var i=0,s=ht;try{var l=Xr;for(ht=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Xr=null,Ol=!1}catch(p){throw Xr!==null&&(Xr=Xr.slice(i+1)),nu(bm,Ar),p}finally{ht=s,Rm=!1}}return null}var as=[],ss=0,wl=null,Ml=0,ko=[],Oo=0,Ta=null,Zr=1,ei="";function Sa(i,s){as[ss++]=Ml,as[ss++]=wl,wl=i,Ml=s}function Q0(i,s,l){ko[Oo++]=Zr,ko[Oo++]=ei,ko[Oo++]=Ta,Ta=i;var d=Zr;i=ei;var p=32-Sn(d)-1;d&=~(1<<p),l+=1;var h=32-Sn(s)+p;if(30<h){var b=p-p%5;h=(d&(1<<b)-1).toString(32),d>>=b,p-=b,Zr=1<<32-Sn(s)+p|l<<p|d,ei=h+i}else Zr=1<<h|l<<p|d,ei=i}function Cm(i){i.return!==null&&(Sa(i,1),Q0(i,1,0))}function Nm(i){for(;i===wl;)wl=as[--ss],as[ss]=null,Ml=as[--ss],as[ss]=null;for(;i===Ta;)Ta=ko[--Oo],ko[Oo]=null,ei=ko[--Oo],ko[Oo]=null,Zr=ko[--Oo],ko[Oo]=null}var go=null,wo=null,Xt=!1,ou=!1,tr=null;function X0(i,s){var l=Bo(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Z0(i,s){switch(i.tag){case 5:return s=J(s,i.type,i.pendingProps),s!==null?(i.stateNode=s,go=i,wo=ha(s),!0):!1;case 6:return s=me(s,i.pendingProps),s!==null?(i.stateNode=s,go=i,wo=null,!0):!1;case 13:if(s=se(s),s!==null){var l=Ta!==null?{id:Zr,overflow:ei}:null;return i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Bo(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,go=i,wo=null,!0}return!1;default:return!1}}function Im(i){return(i.mode&1)!==0&&(i.flags&128)===0}function vm(i){if(Xt){var s=wo;if(s){var l=s;if(!Z0(i,s)){if(Im(i))throw Error(f(418));s=Co(l);var d=go;s&&Z0(i,s)?X0(d,l):(i.flags=i.flags&-4097|2,Xt=!1,go=i)}}else{if(Im(i))throw Error(f(418));i.flags=i.flags&-4097|2,Xt=!1,go=i}}}function eg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;go=i}function Pl(i){if(!Nn||i!==go)return!1;if(!Xt)return eg(i),Xt=!0,!1;if(i.tag!==3&&(i.tag!==5||Ye(i.type)&&!Tn(i.type,i.memoizedProps))){var s=wo;if(s){if(Im(i))throw tg(),Error(f(418));for(;s;)X0(i,s),s=Co(s)}}if(eg(i),i.tag===13){if(!Nn)throw Error(f(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(f(317));wo=j(i)}else wo=go?Co(i.stateNode):null;return!0}function tg(){for(var i=wo;i;)i=Co(i)}function cs(){Nn&&(wo=go=null,ou=Xt=!1)}function km(i){tr===null?tr=[i]:tr.push(i)}var s3=u.ReactCurrentBatchConfig;function zl(i,s){if(er(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!Jt.call(s,p)||!er(i[p],s[p]))return!1}return!0}function c3(i){switch(i.tag){case 5:return Lt(i.type);case 16:return Lt("Lazy");case 13:return Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 2:case 15:return i=on(i.type,!1),i;case 11:return i=on(i.type.render,!1),i;case 1:return i=on(i.type,!0),i;default:return""}}function ru(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(f(309));var d=l.stateNode}if(!d)throw Error(f(147,i));var p=d,h=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===h?s.ref:(s=function(b){var D=p.refs;b===null?delete D[h]:D[h]=b},s._stringRef=h,s)}if(typeof i!="string")throw Error(f(284));if(!l._owner)throw Error(f(290,i))}return i}function Ll(i,s){throw i=Object.prototype.toString.call(s),Error(f(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function ng(i){var s=i._init;return s(i._payload)}function og(i){function s(te,Y){if(i){var ae=te.deletions;ae===null?(te.deletions=[Y],te.flags|=16):ae.push(Y)}}function l(te,Y){if(!i)return null;for(;Y!==null;)s(te,Y),Y=Y.sibling;return null}function d(te,Y){for(te=new Map;Y!==null;)Y.key!==null?te.set(Y.key,Y):te.set(Y.index,Y),Y=Y.sibling;return te}function p(te,Y){return te=Bi(te,Y),te.index=0,te.sibling=null,te}function h(te,Y,ae){return te.index=ae,i?(ae=te.alternate,ae!==null?(ae=ae.index,ae<Y?(te.flags|=2,Y):ae):(te.flags|=2,Y)):(te.flags|=1048576,Y)}function b(te){return i&&te.alternate===null&&(te.flags|=2),te}function D(te,Y,ae,Ce){return Y===null||Y.tag!==6?(Y=Rh(ae,te.mode,Ce),Y.return=te,Y):(Y=p(Y,ae),Y.return=te,Y)}function re(te,Y,ae,Ce){var Fe=ae.type;return Fe===y?Oe(te,Y,ae.props.children,Ce,ae.key):Y!==null&&(Y.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===ue&&ng(Fe)===Y.type)?(Ce=p(Y,ae.props),Ce.ref=ru(te,Y,ae),Ce.return=te,Ce):(Ce=mf(ae.type,ae.key,ae.props,null,te.mode,Ce),Ce.ref=ru(te,Y,ae),Ce.return=te,Ce)}function Ee(te,Y,ae,Ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ae.containerInfo||Y.stateNode.implementation!==ae.implementation?(Y=Ch(ae,te.mode,Ce),Y.return=te,Y):(Y=p(Y,ae.children||[]),Y.return=te,Y)}function Oe(te,Y,ae,Ce,Fe){return Y===null||Y.tag!==7?(Y=Na(ae,te.mode,Ce,Fe),Y.return=te,Y):(Y=p(Y,ae),Y.return=te,Y)}function et(te,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Rh(""+Y,te.mode,ae),Y.return=te,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case c:return ae=mf(Y.type,Y.key,Y.props,null,te.mode,ae),ae.ref=ru(te,null,Y),ae.return=te,ae;case m:return Y=Ch(Y,te.mode,ae),Y.return=te,Y;case ue:var Ce=Y._init;return et(te,Ce(Y._payload),ae)}if(fe(Y)||U(Y))return Y=Na(Y,te.mode,ae,null),Y.return=te,Y;Ll(te,Y)}return null}function Re(te,Y,ae,Ce){var Fe=Y!==null?Y.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Fe!==null?null:D(te,Y,""+ae,Ce);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case c:return ae.key===Fe?re(te,Y,ae,Ce):null;case m:return ae.key===Fe?Ee(te,Y,ae,Ce):null;case ue:return Fe=ae._init,Re(te,Y,Fe(ae._payload),Ce)}if(fe(ae)||U(ae))return Fe!==null?null:Oe(te,Y,ae,Ce,null);Ll(te,ae)}return null}function Gt(te,Y,ae,Ce,Fe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return te=te.get(ae)||null,D(Y,te,""+Ce,Fe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case c:return te=te.get(Ce.key===null?ae:Ce.key)||null,re(Y,te,Ce,Fe);case m:return te=te.get(Ce.key===null?ae:Ce.key)||null,Ee(Y,te,Ce,Fe);case ue:var rt=Ce._init;return Gt(te,Y,ae,rt(Ce._payload),Fe)}if(fe(Ce)||U(Ce))return te=te.get(ae)||null,Oe(Y,te,Ce,Fe,null);Ll(Y,Ce)}return null}function Bt(te,Y,ae,Ce){for(var Fe=null,rt=null,tt=Y,_t=Y=0,On=null;tt!==null&&_t<ae.length;_t++){tt.index>_t?(On=tt,tt=null):On=tt.sibling;var xt=Re(te,tt,ae[_t],Ce);if(xt===null){tt===null&&(tt=On);break}i&&tt&&xt.alternate===null&&s(te,tt),Y=h(xt,Y,_t),rt===null?Fe=xt:rt.sibling=xt,rt=xt,tt=On}if(_t===ae.length)return l(te,tt),Xt&&Sa(te,_t),Fe;if(tt===null){for(;_t<ae.length;_t++)tt=et(te,ae[_t],Ce),tt!==null&&(Y=h(tt,Y,_t),rt===null?Fe=tt:rt.sibling=tt,rt=tt);return Xt&&Sa(te,_t),Fe}for(tt=d(te,tt);_t<ae.length;_t++)On=Gt(tt,te,_t,ae[_t],Ce),On!==null&&(i&&On.alternate!==null&&tt.delete(On.key===null?_t:On.key),Y=h(On,Y,_t),rt===null?Fe=On:rt.sibling=On,rt=On);return i&&tt.forEach(function(Ui){return s(te,Ui)}),Xt&&Sa(te,_t),Fe}function ao(te,Y,ae,Ce){var Fe=U(ae);if(typeof Fe!="function")throw Error(f(150));if(ae=Fe.call(ae),ae==null)throw Error(f(151));for(var rt=Fe=null,tt=Y,_t=Y=0,On=null,xt=ae.next();tt!==null&&!xt.done;_t++,xt=ae.next()){tt.index>_t?(On=tt,tt=null):On=tt.sibling;var Ui=Re(te,tt,xt.value,Ce);if(Ui===null){tt===null&&(tt=On);break}i&&tt&&Ui.alternate===null&&s(te,tt),Y=h(Ui,Y,_t),rt===null?Fe=Ui:rt.sibling=Ui,rt=Ui,tt=On}if(xt.done)return l(te,tt),Xt&&Sa(te,_t),Fe;if(tt===null){for(;!xt.done;_t++,xt=ae.next())xt=et(te,xt.value,Ce),xt!==null&&(Y=h(xt,Y,_t),rt===null?Fe=xt:rt.sibling=xt,rt=xt);return Xt&&Sa(te,_t),Fe}for(tt=d(te,tt);!xt.done;_t++,xt=ae.next())xt=Gt(tt,te,_t,xt.value,Ce),xt!==null&&(i&&xt.alternate!==null&&tt.delete(xt.key===null?_t:xt.key),Y=h(xt,Y,_t),rt===null?Fe=xt:rt.sibling=xt,rt=xt);return i&&tt.forEach(function(U3){return s(te,U3)}),Xt&&Sa(te,_t),Fe}function ri(te,Y,ae,Ce){if(typeof ae=="object"&&ae!==null&&ae.type===y&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case c:e:{for(var Fe=ae.key,rt=Y;rt!==null;){if(rt.key===Fe){if(Fe=ae.type,Fe===y){if(rt.tag===7){l(te,rt.sibling),Y=p(rt,ae.props.children),Y.return=te,te=Y;break e}}else if(rt.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===ue&&ng(Fe)===rt.type){l(te,rt.sibling),Y=p(rt,ae.props),Y.ref=ru(te,rt,ae),Y.return=te,te=Y;break e}l(te,rt);break}else s(te,rt);rt=rt.sibling}ae.type===y?(Y=Na(ae.props.children,te.mode,Ce,ae.key),Y.return=te,te=Y):(Ce=mf(ae.type,ae.key,ae.props,null,te.mode,Ce),Ce.ref=ru(te,Y,ae),Ce.return=te,te=Ce)}return b(te);case m:e:{for(rt=ae.key;Y!==null;){if(Y.key===rt)if(Y.tag===4&&Y.stateNode.containerInfo===ae.containerInfo&&Y.stateNode.implementation===ae.implementation){l(te,Y.sibling),Y=p(Y,ae.children||[]),Y.return=te,te=Y;break e}else{l(te,Y);break}else s(te,Y);Y=Y.sibling}Y=Ch(ae,te.mode,Ce),Y.return=te,te=Y}return b(te);case ue:return rt=ae._init,ri(te,Y,rt(ae._payload),Ce)}if(fe(ae))return Bt(te,Y,ae,Ce);if(U(ae))return ao(te,Y,ae,Ce);Ll(te,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Y!==null&&Y.tag===6?(l(te,Y.sibling),Y=p(Y,ae),Y.return=te,te=Y):(l(te,Y),Y=Rh(ae,te.mode,Ce),Y.return=te,te=Y),b(te)):l(te,Y)}return ri}var us=og(!0),rg=og(!1),Bl=fn(null),Ul=null,ls=null,Om=null;function wm(){Om=ls=Ul=null}function ig(i,s,l){oe?(it(Bl,s._currentValue),s._currentValue=l):(it(Bl,s._currentValue2),s._currentValue2=l)}function Mm(i){var s=Bl.current;ut(Bl),oe?i._currentValue=s:i._currentValue2=s}function Pm(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function fs(i,s){Ul=i,Om=ls=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(oo=!0),i.firstContext=null)}function Mo(i){var s=oe?i._currentValue:i._currentValue2;if(Om!==i)if(i={context:i,memoizedValue:s,next:null},ls===null){if(Ul===null)throw Error(f(308));ls=i,Ul.dependencies={lanes:0,firstContext:i}}else ls=ls.next=i;return s}var _a=null;function zm(i){_a===null?_a=[i]:_a.push(i)}function ag(i,s,l,d){var p=s.interleaved;return p===null?(l.next=l,zm(s)):(l.next=p.next,p.next=l),s.interleaved=l,Rr(i,d)}function Rr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Oi=!1;function Lm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ti(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function wi(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,lt&2){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Rr(i,l)}return p=d.interleaved,p===null?(s.next=s,zm(d)):(s.next=p.next,p.next=s),d.interleaved=s,Rr(i,l)}function Dl(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,tu(i,l)}}function cg(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};h===null?p=h=b:h=h.next=b,l=l.next}while(l!==null);h===null?p=h=s:h=h.next=s}else p=h=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:h,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Wl(i,s,l,d){var p=i.updateQueue;Oi=!1;var h=p.firstBaseUpdate,b=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var re=D,Ee=re.next;re.next=null,b===null?h=Ee:b.next=Ee,b=re;var Oe=i.alternate;Oe!==null&&(Oe=Oe.updateQueue,D=Oe.lastBaseUpdate,D!==b&&(D===null?Oe.firstBaseUpdate=Ee:D.next=Ee,Oe.lastBaseUpdate=re))}if(h!==null){var et=p.baseState;b=0,Oe=Ee=re=null,D=h;do{var Re=D.lane,Gt=D.eventTime;if((d&Re)===Re){Oe!==null&&(Oe=Oe.next={eventTime:Gt,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Bt=i,ao=D;switch(Re=s,Gt=l,ao.tag){case 1:if(Bt=ao.payload,typeof Bt=="function"){et=Bt.call(Gt,et,Re);break e}et=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=ao.payload,Re=typeof Bt=="function"?Bt.call(Gt,et,Re):Bt,Re==null)break e;et=o({},et,Re);break e;case 2:Oi=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,Re=p.effects,Re===null?p.effects=[D]:Re.push(D))}else Gt={eventTime:Gt,lane:Re,tag:D.tag,payload:D.payload,callback:D.callback,next:null},Oe===null?(Ee=Oe=Gt,re=et):Oe=Oe.next=Gt,b|=Re;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;Re=D,D=Re.next,Re.next=null,p.lastBaseUpdate=Re,p.shared.pending=null}}while(1);if(Oe===null&&(re=et),p.baseState=re,p.firstBaseUpdate=Ee,p.lastBaseUpdate=Oe,s=p.shared.interleaved,s!==null){p=s;do b|=p.lane,p=p.next;while(p!==s)}else h===null&&(p.shared.lanes=0);ba|=b,i.lanes=b,i.memoizedState=et}}function ug(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(f(191,p));p.call(d)}}}var iu={},Po=fn(iu),au=fn(iu),ds=fn(iu);function Cr(i){if(i===iu)throw Error(f(174));return i}function Bm(i,s){it(ds,s),it(au,i),it(Po,iu),i=ze(s),ut(Po),it(Po,i)}function ps(){ut(Po),ut(au),ut(ds)}function lg(i){var s=Cr(ds.current),l=Cr(Po.current);s=Be(l,i.type,s),l!==s&&(it(au,i),it(Po,s))}function Um(i){au.current===i&&(ut(Po),ut(au))}var rn=fn(0);function jl(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Ae(l)||nt(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dm=[];function Wm(){for(var i=0;i<Dm.length;i++){var s=Dm[i];oe?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}Dm.length=0}var Fl=u.ReactCurrentDispatcher,jm=u.ReactCurrentBatchConfig,xa=0,an=null,_n=null,vn=null,Hl=!1,su=!1,cu=0,u3=0;function Fn(){throw Error(f(321))}function Fm(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!er(i[l],s[l]))return!1;return!0}function Hm(i,s,l,d,p,h){if(xa=h,an=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fl.current=i===null||i.memoizedState===null?p3:m3,i=l(d,p),su){h=0;do{if(su=!1,cu=0,25<=h)throw Error(f(301));h+=1,vn=_n=null,s.updateQueue=null,Fl.current=h3,i=l(d,p)}while(su)}if(Fl.current=Yl,s=_n!==null&&_n.next!==null,xa=0,vn=_n=an=null,Hl=!1,s)throw Error(f(300));return i}function Vm(){var i=cu!==0;return cu=0,i}function Nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?an.memoizedState=vn=i:vn=vn.next=i,vn}function zo(){if(_n===null){var i=an.alternate;i=i!==null?i.memoizedState:null}else i=_n.next;var s=vn===null?an.memoizedState:vn.next;if(s!==null)vn=s,_n=i;else{if(i===null)throw Error(f(310));_n=i,i={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},vn===null?an.memoizedState=vn=i:vn=vn.next=i}return vn}function uu(i,s){return typeof s=="function"?s(i):s}function Gm(i){var s=zo(),l=s.queue;if(l===null)throw Error(f(311));l.lastRenderedReducer=i;var d=_n,p=d.baseQueue,h=l.pending;if(h!==null){if(p!==null){var b=p.next;p.next=h.next,h.next=b}d.baseQueue=p=h,l.pending=null}if(p!==null){h=p.next,d=d.baseState;var D=b=null,re=null,Ee=h;do{var Oe=Ee.lane;if((xa&Oe)===Oe)re!==null&&(re=re.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),d=Ee.hasEagerState?Ee.eagerState:i(d,Ee.action);else{var et={lane:Oe,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};re===null?(D=re=et,b=d):re=re.next=et,an.lanes|=Oe,ba|=Oe}Ee=Ee.next}while(Ee!==null&&Ee!==h);re===null?b=d:re.next=D,er(d,s.memoizedState)||(oo=!0),s.memoizedState=d,s.baseState=b,s.baseQueue=re,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do h=p.lane,an.lanes|=h,ba|=h,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ym(i){var s=zo(),l=s.queue;if(l===null)throw Error(f(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,h=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do h=i(h,b.action),b=b.next;while(b!==p);er(h,s.memoizedState)||(oo=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),l.lastRenderedState=h}return[h,d]}function fg(){}function dg(i,s){var l=an,d=zo(),p=s(),h=!er(d.memoizedState,p);if(h&&(d.memoizedState=p,oo=!0),d=d.queue,qm(hg.bind(null,l,d,i),[i]),d.getSnapshot!==s||h||vn!==null&&vn.memoizedState.tag&1){if(l.flags|=2048,lu(9,mg.bind(null,l,d,p,s),void 0,null),kn===null)throw Error(f(349));xa&30||pg(l,s,p)}return p}function pg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=an.updateQueue,s===null?(s={lastEffect:null,stores:null},an.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function mg(i,s,l,d){s.value=l,s.getSnapshot=d,yg(s)&&gg(i)}function hg(i,s,l){return l(function(){yg(s)&&gg(i)})}function yg(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!er(i,l)}catch{return!0}}function gg(i){var s=Rr(i,1);s!==null&&Lo(s,i,1,-1)}function Eg(i){var s=Nr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:i},s.queue=i,i=i.dispatch=d3.bind(null,an,i),[s.memoizedState,i]}function lu(i,s,l,d){return i={tag:i,create:s,destroy:l,deps:d,next:null},s=an.updateQueue,s===null?(s={lastEffect:null,stores:null},an.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i)),i}function Tg(){return zo().memoizedState}function Vl(i,s,l,d){var p=Nr();an.flags|=i,p.memoizedState=lu(1|s,l,void 0,d===void 0?null:d)}function Gl(i,s,l,d){var p=zo();d=d===void 0?null:d;var h=void 0;if(_n!==null){var b=_n.memoizedState;if(h=b.destroy,d!==null&&Fm(d,b.deps)){p.memoizedState=lu(s,l,h,d);return}}an.flags|=i,p.memoizedState=lu(1|s,l,h,d)}function Sg(i,s){return Vl(8390656,8,i,s)}function qm(i,s){return Gl(2048,8,i,s)}function _g(i,s){return Gl(4,2,i,s)}function xg(i,s){return Gl(4,4,i,s)}function bg(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Ag(i,s,l){return l=l!=null?l.concat([i]):null,Gl(4,4,bg.bind(null,s,i),l)}function $m(){}function Rg(i,s){var l=zo();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Fm(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function Cg(i,s){var l=zo();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Fm(s,d[1])?d[0]:(i=i(),l.memoizedState=[i,s],i)}function Ng(i,s,l){return xa&21?(er(l,s)||(l=Nl(),an.lanes|=l,ba|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,oo=!0),i.memoizedState=l)}function l3(i,s){var l=ht;ht=l!==0&&4>l?l:4,i(!0);var d=jm.transition;jm.transition={};try{i(!1),s()}finally{ht=l,jm.transition=d}}function Ig(){return zo().memoizedState}function f3(i,s,l){var d=zi(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},vg(i))kg(s,l);else if(l=ag(i,s,l,d),l!==null){var p=Gn();Lo(l,i,d,p),Og(l,s,d)}}function d3(i,s,l){var d=zi(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(vg(i))kg(s,p);else{var h=i.alternate;if(i.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var b=s.lastRenderedState,D=h(b,l);if(p.hasEagerState=!0,p.eagerState=D,er(D,b)){var re=s.interleaved;re===null?(p.next=p,zm(s)):(p.next=re.next,re.next=p),s.interleaved=p;return}}catch{}finally{}l=ag(i,s,p,d),l!==null&&(p=Gn(),Lo(l,i,d,p),Og(l,s,d))}}function vg(i){var s=i.alternate;return i===an||s!==null&&s===an}function kg(i,s){su=Hl=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Og(i,s,l){if(l&4194240){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,tu(i,l)}}var Yl={readContext:Mo,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},p3={readContext:Mo,useCallback:function(i,s){return Nr().memoizedState=[i,s===void 0?null:s],i},useContext:Mo,useEffect:Sg,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Vl(4194308,4,bg.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Vl(4194308,4,i,s)},useInsertionEffect:function(i,s){return Vl(4,2,i,s)},useMemo:function(i,s){var l=Nr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var d=Nr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=f3.bind(null,an,i),[d.memoizedState,i]},useRef:function(i){var s=Nr();return i={current:i},s.memoizedState=i},useState:Eg,useDebugValue:$m,useDeferredValue:function(i){return Nr().memoizedState=i},useTransition:function(){var i=Eg(!1),s=i[0];return i=l3.bind(null,i[1]),Nr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var d=an,p=Nr();if(Xt){if(l===void 0)throw Error(f(407));l=l()}else{if(l=s(),kn===null)throw Error(f(349));xa&30||pg(d,s,l)}p.memoizedState=l;var h={value:l,getSnapshot:s};return p.queue=h,Sg(hg.bind(null,d,h,i),[i]),d.flags|=2048,lu(9,mg.bind(null,d,h,l,s),void 0,null),l},useId:function(){var i=Nr(),s=kn.identifierPrefix;if(Xt){var l=ei,d=Zr;l=(d&~(1<<32-Sn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=cu++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=u3++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},m3={readContext:Mo,useCallback:Rg,useContext:Mo,useEffect:qm,useImperativeHandle:Ag,useInsertionEffect:_g,useLayoutEffect:xg,useMemo:Cg,useReducer:Gm,useRef:Tg,useState:function(){return Gm(uu)},useDebugValue:$m,useDeferredValue:function(i){var s=zo();return Ng(s,_n.memoizedState,i)},useTransition:function(){var i=Gm(uu)[0],s=zo().memoizedState;return[i,s]},useMutableSource:fg,useSyncExternalStore:dg,useId:Ig,unstable_isNewReconciler:!1},h3={readContext:Mo,useCallback:Rg,useContext:Mo,useEffect:qm,useImperativeHandle:Ag,useInsertionEffect:_g,useLayoutEffect:xg,useMemo:Cg,useReducer:Ym,useRef:Tg,useState:function(){return Ym(uu)},useDebugValue:$m,useDeferredValue:function(i){var s=zo();return _n===null?s.memoizedState=i:Ng(s,_n.memoizedState,i)},useTransition:function(){var i=Ym(uu)[0],s=zo().memoizedState;return[i,s]},useMutableSource:fg,useSyncExternalStore:dg,useId:Ig,unstable_isNewReconciler:!1};function nr(i,s){if(i&&i.defaultProps){s=o({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Jm(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:o({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ql={isMounted:function(i){return(i=i._reactInternals)?P(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=Gn(),p=zi(i),h=ti(d,p);h.payload=s,l!=null&&(h.callback=l),s=wi(i,h,p),s!==null&&(Lo(s,i,p,d),Dl(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=Gn(),p=zi(i),h=ti(d,p);h.tag=1,h.payload=s,l!=null&&(h.callback=l),s=wi(i,h,p),s!==null&&(Lo(s,i,p,d),Dl(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Gn(),d=zi(i),p=ti(l,d);p.tag=2,s!=null&&(p.callback=s),s=wi(i,p,d),s!==null&&(Lo(s,i,d,l),Dl(s,i,d))}};function wg(i,s,l,d,p,h,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,h,b):s.prototype&&s.prototype.isPureReactComponent?!zl(l,d)||!zl(p,h):!0}function Mg(i,s,l){var d=!1,p=dn,h=s.contextType;return typeof h=="object"&&h!==null?h=Mo(h):(p=Kt(s)?zn:It.current,d=s.contextTypes,h=(d=d!=null)?jn(i,p):dn),s=new s(l,h),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ql,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=h),s}function Pg(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&ql.enqueueReplaceState(s,s.state,null)}function Km(i,s,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Lm(i);var h=s.contextType;typeof h=="object"&&h!==null?p.context=Mo(h):(h=Kt(s)?zn:It.current,p.context=jn(i,h)),p.state=i.memoizedState,h=s.getDerivedStateFromProps,typeof h=="function"&&(Jm(i,s,h,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&ql.enqueueReplaceState(p,p.state,null),Wl(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function ms(i,s){try{var l="",d=s;do l+=c3(d),d=d.return;while(d);var p=l}catch(h){p=`
Error generating stack: `+h.message+`
`+h.stack}return{value:i,source:s,stack:p,digest:null}}function Qm(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Xm(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var y3=typeof WeakMap=="function"?WeakMap:Map;function zg(i,s,l){l=ti(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){cf||(cf=!0,Eh=d),Xm(i,s)},l}function Lg(i,s,l){l=ti(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Xm(i,s)}}var h=i.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(l.callback=function(){Xm(i,s),typeof d!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),l}function Bg(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new y3;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),i=k3.bind(null,i,s,l),s.then(i,i))}function Ug(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Dg(i,s,l,d,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ti(-1,1),s.tag=2,wi(l,s,1))),l.lanes|=1),i)}var g3=u.ReactCurrentOwner,oo=!1;function Zn(i,s,l,d){s.child=i===null?rg(s,null,l,d):us(s,i.child,l,d)}function Wg(i,s,l,d,p){l=l.render;var h=s.ref;return fs(s,p),d=Hm(i,s,l,d,h,p),l=Vm(),i!==null&&!oo?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,ni(i,s,p)):(Xt&&l&&Cm(s),s.flags|=1,Zn(i,s,d,p),s.child)}function jg(i,s,l,d,p){if(i===null){var h=l.type;return typeof h=="function"&&!Ah(h)&&h.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=h,Fg(i,s,h,d,p)):(i=mf(l.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(h=i.child,!(i.lanes&p)){var b=h.memoizedProps;if(l=l.compare,l=l!==null?l:zl,l(b,d)&&i.ref===s.ref)return ni(i,s,p)}return s.flags|=1,i=Bi(h,d),i.ref=s.ref,i.return=s,s.child=i}function Fg(i,s,l,d,p){if(i!==null){var h=i.memoizedProps;if(zl(h,d)&&i.ref===s.ref)if(oo=!1,s.pendingProps=d=h,(i.lanes&p)!==0)i.flags&131072&&(oo=!0);else return s.lanes=i.lanes,ni(i,s,p)}return Zm(i,s,l,d,p)}function Hg(i,s,l){var d=s.pendingProps,p=d.children,h=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ys,Eo),Eo|=l;else{if(!(l&1073741824))return i=h!==null?h.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,it(ys,Eo),Eo|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=h!==null?h.baseLanes:l,it(ys,Eo),Eo|=d}else h!==null?(d=h.baseLanes|l,s.memoizedState=null):d=l,it(ys,Eo),Eo|=d;return Zn(i,s,p,l),s.child}function Vg(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Zm(i,s,l,d,p){var h=Kt(l)?zn:It.current;return h=jn(s,h),fs(s,p),l=Hm(i,s,l,d,h,p),d=Vm(),i!==null&&!oo?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,ni(i,s,p)):(Xt&&d&&Cm(s),s.flags|=1,Zn(i,s,l,p),s.child)}function Gg(i,s,l,d,p){if(Kt(l)){var h=!0;Io(s)}else h=!1;if(fs(s,p),s.stateNode===null)Jl(i,s),Mg(s,l,d),Km(s,l,d,p),d=!0;else if(i===null){var b=s.stateNode,D=s.memoizedProps;b.props=D;var re=b.context,Ee=l.contextType;typeof Ee=="object"&&Ee!==null?Ee=Mo(Ee):(Ee=Kt(l)?zn:It.current,Ee=jn(s,Ee));var Oe=l.getDerivedStateFromProps,et=typeof Oe=="function"||typeof b.getSnapshotBeforeUpdate=="function";et||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==d||re!==Ee)&&Pg(s,b,d,Ee),Oi=!1;var Re=s.memoizedState;b.state=Re,Wl(s,d,b,p),re=s.memoizedState,D!==d||Re!==re||Dt.current||Oi?(typeof Oe=="function"&&(Jm(s,l,Oe,d),re=s.memoizedState),(D=Oi||wg(s,l,D,d,Re,re,Ee))?(et||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=re),b.props=d,b.state=re,b.context=Ee,d=D):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,sg(i,s),D=s.memoizedProps,Ee=s.type===s.elementType?D:nr(s.type,D),b.props=Ee,et=s.pendingProps,Re=b.context,re=l.contextType,typeof re=="object"&&re!==null?re=Mo(re):(re=Kt(l)?zn:It.current,re=jn(s,re));var Gt=l.getDerivedStateFromProps;(Oe=typeof Gt=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==et||Re!==re)&&Pg(s,b,d,re),Oi=!1,Re=s.memoizedState,b.state=Re,Wl(s,d,b,p);var Bt=s.memoizedState;D!==et||Re!==Bt||Dt.current||Oi?(typeof Gt=="function"&&(Jm(s,l,Gt,d),Bt=s.memoizedState),(Ee=Oi||wg(s,l,Ee,d,Re,Bt,re)||!1)?(Oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Bt,re),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Bt,re)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||D===i.memoizedProps&&Re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&Re===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Bt),b.props=d,b.state=Bt,b.context=re,d=Ee):(typeof b.componentDidUpdate!="function"||D===i.memoizedProps&&Re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&Re===i.memoizedState||(s.flags|=1024),d=!1)}return eh(i,s,l,d,h,p)}function eh(i,s,l,d,p,h){Vg(i,s);var b=(s.flags&128)!==0;if(!d&&!b)return p&&xr(s,l,!1),ni(i,s,h);d=s.stateNode,g3.current=s;var D=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&b?(s.child=us(s,i.child,null,h),s.child=us(s,null,D,h)):Zn(i,s,D,h),s.memoizedState=d.state,p&&xr(s,l,!0),s.child}function Yg(i){var s=i.stateNode;s.pendingContext?_r(i,s.pendingContext,s.pendingContext!==s.context):s.context&&_r(i,s.context,!1),Bm(i,s.containerInfo)}function qg(i,s,l,d,p){return cs(),km(p),s.flags|=256,Zn(i,s,l,d),s.child}var th={dehydrated:null,treeContext:null,retryLane:0};function nh(i){return{baseLanes:i,cachePool:null,transitions:null}}function $g(i,s,l){var d=s.pendingProps,p=rn.current,h=!1,b=(s.flags&128)!==0,D;if((D=b)||(D=i!==null&&i.memoizedState===null?!1:(p&2)!==0),D?(h=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),it(rn,p&1),i===null)return vm(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?nt(i)?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(b=d.children,i=d.fallback,h?(d=s.mode,h=s.child,b={mode:"hidden",children:b},!(d&1)&&h!==null?(h.childLanes=0,h.pendingProps=b):h=hf(b,d,0,null),i=Na(i,d,l,null),h.return=s,i.return=s,h.sibling=i,s.child=h,s.child.memoizedState=nh(l),s.memoizedState=th,i):oh(s,b));if(p=i.memoizedState,p!==null&&(D=p.dehydrated,D!==null))return E3(i,s,b,d,D,p,l);if(h){h=d.fallback,b=s.mode,p=i.child,D=p.sibling;var re={mode:"hidden",children:d.children};return!(b&1)&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=re,s.deletions=null):(d=Bi(p,re),d.subtreeFlags=p.subtreeFlags&14680064),D!==null?h=Bi(D,h):(h=Na(h,b,l,null),h.flags|=2),h.return=s,d.return=s,d.sibling=h,s.child=d,d=h,h=s.child,b=i.child.memoizedState,b=b===null?nh(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},h.memoizedState=b,h.childLanes=i.childLanes&~l,s.memoizedState=th,d}return h=i.child,i=h.sibling,d=Bi(h,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=d,s.memoizedState=null,d}function oh(i,s){return s=hf({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function $l(i,s,l,d){return d!==null&&km(d),us(s,i.child,null,l),i=oh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function E3(i,s,l,d,p,h,b){if(l)return s.flags&256?(s.flags&=-257,d=Qm(Error(f(422))),$l(i,s,b,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(h=d.fallback,p=s.mode,d=hf({mode:"visible",children:d.children},p,0,null),h=Na(h,p,b,null),h.flags|=2,d.return=s,h.return=s,d.sibling=h,s.child=d,s.mode&1&&us(s,i.child,null,b),s.child.memoizedState=nh(b),s.memoizedState=th,h);if(!(s.mode&1))return $l(i,s,b,null);if(nt(p))return d=St(p).digest,h=Error(f(419)),d=Qm(h,d,void 0),$l(i,s,b,d);if(l=(b&i.childLanes)!==0,oo||l){if(d=kn,d!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|b)?0:p,p!==0&&p!==h.retryLane&&(h.retryLane=p,Rr(i,p),Lo(d,i,p,-1))}return bh(),d=Qm(Error(f(421))),$l(i,s,b,d)}return Ae(p)?(s.flags|=128,s.child=i.child,s=O3.bind(null,i),Ht(p,s),null):(i=h.treeContext,Nn&&(wo=S(p),go=s,Xt=!0,tr=null,ou=!1,i!==null&&(ko[Oo++]=Zr,ko[Oo++]=ei,ko[Oo++]=Ta,Zr=i.id,ei=i.overflow,Ta=s)),s=oh(s,d.children),s.flags|=4096,s)}function Jg(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Pm(i.return,s,l)}function rh(i,s,l,d,p){var h=i.memoizedState;h===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=d,h.tail=l,h.tailMode=p)}function Kg(i,s,l){var d=s.pendingProps,p=d.revealOrder,h=d.tail;if(Zn(i,s,d.children,l),d=rn.current,d&2)d=d&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jg(i,l,s);else if(i.tag===19)Jg(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(it(rn,d),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&jl(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),rh(s,!1,p,l,h);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&jl(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}rh(s,!0,l,null,h);break;case"together":rh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Jl(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function ni(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ba|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(f(153));if(s.child!==null){for(i=s.child,l=Bi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Bi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function T3(i,s,l){switch(s.tag){case 3:Yg(s),cs();break;case 5:lg(s);break;case 1:Kt(s.type)&&Io(s);break;case 4:Bm(s,s.stateNode.containerInfo);break;case 10:ig(s,s.type._context,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(it(rn,rn.current&1),s.flags|=128,null):l&s.child.childLanes?$g(i,s,l):(it(rn,rn.current&1),i=ni(i,s,l),i!==null?i.sibling:null);it(rn,rn.current&1);break;case 19:if(d=(l&s.childLanes)!==0,i.flags&128){if(d)return Kg(i,s,l);s.flags|=128}var p=s.memoizedState;if(p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),it(rn,rn.current),d)break;return null;case 22:case 23:return s.lanes=0,Hg(i,s,l)}return ni(i,s,l)}function Ir(i){i.flags|=4}function Qg(i,s){if(i!==null&&i.child===s.child)return!0;if(s.flags&16)return!1;for(i=s.child;i!==null;){if(i.flags&12854||i.subtreeFlags&12854)return!1;i=i.sibling}return!0}var fu,du,Kl,Ql;if(Ne)fu=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)pt(i,l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},du=function(){},Kl=function(i,s,l,d,p){if(i=i.memoizedProps,i!==d){var h=s.stateNode,b=Cr(Po.current);l=ot(h,l,i,d,p,b),(s.updateQueue=l)&&Ir(s)}},Ql=function(i,s,l,d){l!==d&&Ir(s)};else if(mt){fu=function(i,s,l,d){for(var p=s.child;p!==null;){if(p.tag===5){var h=p.stateNode;l&&d&&(h=O(h,p.type,p.memoizedProps,p)),pt(i,h)}else if(p.tag===6)h=p.stateNode,l&&d&&(h=W(h,p.memoizedProps,p)),pt(i,h);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)h=p.child,h!==null&&(h.return=p),fu(i,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===s)break;for(;p.sibling===null;){if(p.return===null||p.return===s)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};var Xg=function(i,s,l,d){for(var p=s.child;p!==null;){if(p.tag===5){var h=p.stateNode;l&&d&&(h=O(h,p.type,p.memoizedProps,p)),Ie(i,h)}else if(p.tag===6)h=p.stateNode,l&&d&&(h=W(h,p.memoizedProps,p)),Ie(i,h);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)h=p.child,h!==null&&(h.return=p),Xg(i,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===s)break;for(;p.sibling===null;){if(p.return===null||p.return===s)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};du=function(i,s){var l=s.stateNode;if(!Qg(i,s)){i=l.containerInfo;var d=Se(i);Xg(d,s,!1,!1),l.pendingChildren=d,Ir(s),je(i,d)}},Kl=function(i,s,l,d,p){var h=i.stateNode,b=i.memoizedProps;if((i=Qg(i,s))&&b===d)s.stateNode=h;else{var D=s.stateNode,re=Cr(Po.current),Ee=null;b!==d&&(Ee=ot(D,l,b,d,p,re)),i&&Ee===null?s.stateNode=h:(h=be(h,Ee,l,b,d,s,i,D),Ot(h,l,d,p,re)&&Ir(s),s.stateNode=h,i?Ir(s):fu(h,s,!1,!1))}},Ql=function(i,s,l,d){l!==d?(i=Cr(ds.current),l=Cr(Po.current),s.stateNode=Q(d,i,l,s),Ir(s)):s.stateNode=i.stateNode}}else du=function(){},Kl=function(){},Ql=function(){};function pu(i,s){if(!Xt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Hn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function S3(i,s,l){var d=s.pendingProps;switch(Nm(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(s),null;case 1:return Kt(s.type)&&No(),Hn(s),null;case 3:return l=s.stateNode,ps(),ut(Dt),ut(It),Wm(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Pl(s)?Ir(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,tr!==null&&(_h(tr),tr=null))),du(i,s),Hn(s),null;case 5:Um(s),l=Cr(ds.current);var p=s.type;if(i!==null&&s.stateNode!=null)Kl(i,s,p,d,l),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(f(166));return Hn(s),null}if(i=Cr(Po.current),Pl(s)){if(!Nn)throw Error(f(175));i=I(s.stateNode,s.type,s.memoizedProps,l,i,s,!ou),s.updateQueue=i,i!==null&&Ir(s)}else{var h=ct(p,d,l,i,s);fu(h,s,!1,!1),s.stateNode=h,Ot(h,p,d,l,i)&&Ir(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Hn(s),null;case 6:if(i&&s.stateNode!=null)Ql(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(f(166));if(i=Cr(ds.current),l=Cr(Po.current),Pl(s)){if(!Nn)throw Error(f(176));if(i=s.stateNode,l=s.memoizedProps,(d=k(i,l,s,!ou))&&(p=go,p!==null))switch(p.tag){case 3:Je(p.stateNode.containerInfo,i,l,(p.mode&1)!==0);break;case 5:yt(p.type,p.memoizedProps,p.stateNode,i,l,(p.mode&1)!==0)}d&&Ir(s)}else s.stateNode=Q(d,i,l,s)}return Hn(s),null;case 13:if(ut(rn),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Xt&&wo!==null&&s.mode&1&&!(s.flags&128))tg(),cs(),s.flags|=98560,p=!1;else if(p=Pl(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(f(318));if(!Nn)throw Error(f(344));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(f(317));w(p,s)}else cs(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Hn(s),p=!1}else tr!==null&&(_h(tr),tr=null),p=!0;if(!p)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(l=d!==null,l!==(i!==null&&i.memoizedState!==null)&&l&&(s.child.flags|=8192,s.mode&1&&(i===null||rn.current&1?xn===0&&(xn=3):bh())),s.updateQueue!==null&&(s.flags|=4),Hn(s),null);case 4:return ps(),du(i,s),i===null&&bi(s.stateNode.containerInfo),Hn(s),null;case 10:return Mm(s.type._context),Hn(s),null;case 17:return Kt(s.type)&&No(),Hn(s),null;case 19:if(ut(rn),p=s.memoizedState,p===null)return Hn(s),null;if(d=(s.flags&128)!==0,h=p.rendering,h===null)if(d)pu(p,!1);else{if(xn!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(h=jl(i),h!==null){for(s.flags|=128,pu(p,!1),i=h.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=l,l=s.child;l!==null;)d=l,p=i,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=p,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,p=h.dependencies,d.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),l=l.sibling;return it(rn,rn.current&1|2),s.child}i=i.sibling}p.tail!==null&&In()>gh&&(s.flags|=128,d=!0,pu(p,!1),s.lanes=4194304)}else{if(!d)if(i=jl(h),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),pu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!h.alternate&&!Xt)return Hn(s),null}else 2*In()-p.renderingStartTime>gh&&l!==1073741824&&(s.flags|=128,d=!0,pu(p,!1),s.lanes=4194304);p.isBackwards?(h.sibling=s.child,s.child=h):(i=p.last,i!==null?i.sibling=h:s.child=h,p.last=h)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=In(),s.sibling=null,i=rn.current,it(rn,d?i&1|2:i&1),s):(Hn(s),null);case 22:case 23:return xh(),l=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==l&&(s.flags|=8192),l&&s.mode&1?Eo&1073741824&&(Hn(s),Ne&&s.subtreeFlags&6&&(s.flags|=8192)):Hn(s),null;case 24:return null;case 25:return null}throw Error(f(156,s.tag))}function _3(i,s){switch(Nm(s),s.tag){case 1:return Kt(s.type)&&No(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ps(),ut(Dt),ut(It),Wm(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Um(s),null;case 13:if(ut(rn),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(f(340));cs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ut(rn),null;case 4:return ps(),null;case 10:return Mm(s.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var Xl=!1,Vn=!1,x3=typeof WeakSet=="function"?WeakSet:Set,ve=null;function hs(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Zt(i,s,d)}else l.current=null}function ih(i,s,l){try{l()}catch(d){Zt(i,s,d)}}var Zg=!1;function b3(i,s){for(Xe(i.containerInfo),ve=s;ve!==null;)if(i=ve,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ve=s;else for(;ve!==null;){i=ve;try{var l=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(l!==null){var d=l.memoizedProps,p=l.memoizedState,h=i.stateNode,b=h.getSnapshotBeforeUpdate(i.elementType===i.type?d:nr(i.type,d),p);h.__reactInternalSnapshotBeforeUpdate=b}break;case 3:Ne&&X(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(D){Zt(i,i.return,D)}if(s=i.sibling,s!==null){s.return=i.return,ve=s;break}ve=i.return}return l=Zg,Zg=!1,l}function mu(i,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var h=p.destroy;p.destroy=void 0,h!==void 0&&ih(s,l,h)}p=p.next}while(p!==d)}}function Zl(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function ah(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=_e(l);break;default:i=l}typeof s=="function"?s(i):s.current=i}}function eE(i){var s=i.alternate;s!==null&&(i.alternate=null,eE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Tr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function tE(i){return i.tag===5||i.tag===3||i.tag===4}function nE(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||tE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sh(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?fa(l,i,s):ua(l,i);else if(d!==4&&(i=i.child,i!==null))for(sh(i,s,l),i=i.sibling;i!==null;)sh(i,s,l),i=i.sibling}function ch(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?qr(l,i,s):Ni(l,i);else if(d!==4&&(i=i.child,i!==null))for(ch(i,s,l),i=i.sibling;i!==null;)ch(i,s,l),i=i.sibling}var Ln=null,or=!1;function vr(i,s,l){for(l=l.child;l!==null;)uh(i,s,l),l=l.sibling}function uh(i,s,l){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(kl,l)}catch{}switch(l.tag){case 5:Vn||hs(l,s);case 6:if(Ne){var d=Ln,p=or;Ln=null,vr(i,s,l),Ln=d,or=p,Ln!==null&&(or?vi(Ln,l.stateNode):da(Ln,l.stateNode))}else vr(i,s,l);break;case 18:Ne&&Ln!==null&&(or?ke(Ln,l.stateNode):Te(Ln,l.stateNode));break;case 4:Ne?(d=Ln,p=or,Ln=l.stateNode.containerInfo,or=!0,vr(i,s,l),Ln=d,or=p):(mt&&(d=l.stateNode.containerInfo,p=Se(d),Ut(d,p)),vr(i,s,l));break;case 0:case 11:case 14:case 15:if(!Vn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var h=p,b=h.destroy;h=h.tag,b!==void 0&&(h&2||h&4)&&ih(l,s,b),p=p.next}while(p!==d)}vr(i,s,l);break;case 1:if(!Vn&&(hs(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){Zt(l,s,D)}vr(i,s,l);break;case 21:vr(i,s,l);break;case 22:l.mode&1?(Vn=(d=Vn)||l.memoizedState!==null,vr(i,s,l),Vn=d):vr(i,s,l);break;default:vr(i,s,l)}}function oE(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new x3),s.forEach(function(d){var p=w3.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function rr(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var h=i,b=s;if(Ne){var D=b;e:for(;D!==null;){switch(D.tag){case 5:Ln=D.stateNode,or=!1;break e;case 3:Ln=D.stateNode.containerInfo,or=!0;break e;case 4:Ln=D.stateNode.containerInfo,or=!0;break e}D=D.return}if(Ln===null)throw Error(f(160));uh(h,b,p),Ln=null,or=!1}else uh(h,b,p);var re=p.alternate;re!==null&&(re.return=null),p.return=null}catch(Ee){Zt(p,s,Ee)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)rE(s,i),s=s.sibling}function rE(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(rr(s,i),kr(i),d&4){try{mu(3,i,i.return),Zl(3,i)}catch(Re){Zt(i,i.return,Re)}try{mu(5,i,i.return)}catch(Re){Zt(i,i.return,Re)}}break;case 1:rr(s,i),kr(i),d&512&&l!==null&&hs(l,l.return);break;case 5:if(rr(s,i),kr(i),d&512&&l!==null&&hs(l,l.return),Ne){if(i.flags&32){var p=i.stateNode;try{$r(p)}catch(Re){Zt(i,i.return,Re)}}if(d&4&&(p=i.stateNode,p!=null)){var h=i.memoizedProps;if(l=l!==null?l.memoizedProps:h,d=i.type,s=i.updateQueue,i.updateQueue=null,s!==null)try{la(p,s,d,l,h,i)}catch(Re){Zt(i,i.return,Re)}}}break;case 6:if(rr(s,i),kr(i),d&4&&Ne){if(i.stateNode===null)throw Error(f(162));p=i.stateNode,h=i.memoizedProps,l=l!==null?l.memoizedProps:h;try{Ii(p,l,h)}catch(Re){Zt(i,i.return,Re)}}break;case 3:if(rr(s,i),kr(i),d&4){if(Ne&&Nn&&l!==null&&l.memoizedState.isDehydrated)try{de(s.containerInfo)}catch(Re){Zt(i,i.return,Re)}if(mt){p=s.containerInfo,h=s.pendingChildren;try{Ut(p,h)}catch(Re){Zt(i,i.return,Re)}}}break;case 4:if(rr(s,i),kr(i),d&4&&mt){h=i.stateNode,p=h.containerInfo,h=h.pendingChildren;try{Ut(p,h)}catch(Re){Zt(i,i.return,Re)}}break;case 13:rr(s,i),kr(i),p=i.child,p.flags&8192&&(h=p.memoizedState!==null,p.stateNode.isHidden=h,!h||p.alternate!==null&&p.alternate.memoizedState!==null||(yh=In())),d&4&&oE(i);break;case 22:var b=l!==null&&l.memoizedState!==null;if(i.mode&1?(Vn=(l=Vn)||b,rr(s,i),Vn=l):rr(s,i),kr(i),d&8192){if(l=i.memoizedState!==null,(i.stateNode.isHidden=l)&&!b&&i.mode&1)for(ve=i,d=i.child;d!==null;){for(s=ve=d;ve!==null;){b=ve;var D=b.child;switch(b.tag){case 0:case 11:case 14:case 15:mu(4,b,b.return);break;case 1:hs(b,b.return);var re=b.stateNode;if(typeof re.componentWillUnmount=="function"){var Ee=b,Oe=b.return;try{var et=Ee;re.props=et.memoizedProps,re.state=et.memoizedState,re.componentWillUnmount()}catch(Re){Zt(Ee,Oe,Re)}}break;case 5:hs(b,b.return);break;case 22:if(b.memoizedState!==null){sE(s);continue}}D!==null?(D.return=b,ve=D):sE(s)}d=d.sibling}if(Ne){e:if(d=null,Ne)for(s=i;;){if(s.tag===5){if(d===null){d=s;try{p=s.stateNode,l?pa(p):v(s.stateNode,s.memoizedProps)}catch(Re){Zt(i,i.return,Re)}}}else if(s.tag===6){if(d===null)try{h=s.stateNode,l?ma(h):B(h,s.memoizedProps)}catch(Re){Zt(i,i.return,Re)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}}}break;case 19:rr(s,i),kr(i),d&4&&oE(i);break;case 21:break;default:rr(s,i),kr(i)}}function kr(i){var s=i.flags;if(s&2){try{if(Ne){e:{for(var l=i.return;l!==null;){if(tE(l)){var d=l;break e}l=l.return}throw Error(f(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&($r(p),d.flags&=-33);var h=nE(i);ch(i,h,p);break;case 3:case 4:var b=d.stateNode.containerInfo,D=nE(i);sh(i,D,b);break;default:throw Error(f(161))}}}catch(re){Zt(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function A3(i,s,l){ve=i,iE(i,s,l)}function iE(i,s,l){for(var d=(i.mode&1)!==0;ve!==null;){var p=ve,h=p.child;if(p.tag===22&&d){var b=p.memoizedState!==null||Xl;if(!b){var D=p.alternate,re=D!==null&&D.memoizedState!==null||Vn;D=Xl;var Ee=Vn;if(Xl=b,(Vn=re)&&!Ee)for(ve=p;ve!==null;)b=ve,re=b.child,b.tag===22&&b.memoizedState!==null?cE(p):re!==null?(re.return=b,ve=re):cE(p);for(;h!==null;)ve=h,iE(h,s,l),h=h.sibling;ve=p,Xl=D,Vn=Ee}aE(i,s,l)}else p.subtreeFlags&8772&&h!==null?(h.return=p,ve=h):aE(i,s,l)}}function aE(i){for(;ve!==null;){var s=ve;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Vn||Zl(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Vn)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:nr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var h=s.updateQueue;h!==null&&ug(s,h,d);break;case 3:var b=s.updateQueue;if(b!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=_e(s.child.stateNode);break;case 1:l=s.child.stateNode}ug(s,b,l)}break;case 5:var D=s.stateNode;l===null&&s.flags&4&&Zo(D,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(Nn&&s.memoizedState===null){var re=s.alternate;if(re!==null){var Ee=re.memoizedState;if(Ee!==null){var Oe=Ee.dehydrated;Oe!==null&&ce(Oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(f(163))}Vn||s.flags&512&&ah(s)}catch(et){Zt(s,s.return,et)}}if(s===i){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function sE(i){for(;ve!==null;){var s=ve;if(s===i){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function cE(i){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Zl(4,s)}catch(re){Zt(s,l,re)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(re){Zt(s,p,re)}}var h=s.return;try{ah(s)}catch(re){Zt(s,h,re)}break;case 5:var b=s.return;try{ah(s)}catch(re){Zt(s,b,re)}}}catch(re){Zt(s,s.return,re)}if(s===i){ve=null;break}var D=s.sibling;if(D!==null){D.return=s.return,ve=D;break}ve=s.return}}var ef=0,tf=1,nf=2,of=3,rf=4;if(typeof Symbol=="function"&&Symbol.for){var hu=Symbol.for;ef=hu("selector.component"),tf=hu("selector.has_pseudo_class"),nf=hu("selector.role"),of=hu("selector.test_id"),rf=hu("selector.text")}function lh(i){var s=aa(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(f(364));return s}if(i=Gr(i),i===null)throw Error(f(362));return i.stateNode.current}function fh(i,s){switch(s.$$typeof){case ef:if(i.type===s.value)return!0;break;case tf:e:{s=s.value,i=[i,0];for(var l=0;l<i.length;){var d=i[l++],p=i[l++],h=s[p];if(d.tag!==5||!Xo(d)){for(;h!=null&&fh(d,h);)p++,h=s[p];if(p===s.length){s=!0;break e}else for(d=d.child;d!==null;)i.push(d,p),d=d.sibling}}s=!1}return s;case nf:if(i.tag===5&&Ci(i.stateNode,s.value))return!0;break;case rf:if((i.tag===5||i.tag===6)&&(i=Ri(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case of:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(f(365))}return!1}function dh(i){switch(i.$$typeof){case ef:return"<"+(Z(i.value)||"Unknown")+">";case tf:return":has("+(dh(i)||"")+")";case nf:return'[role="'+i.value+'"]';case rf:return'"'+i.value+'"';case of:return'[data-testname="'+i.value+'"]';default:throw Error(f(365))}}function uE(i,s){var l=[];i=[i,0];for(var d=0;d<i.length;){var p=i[d++],h=i[d++],b=s[h];if(p.tag!==5||!Xo(p)){for(;b!=null&&fh(p,b);)h++,b=s[h];if(h===s.length)l.push(p);else for(p=p.child;p!==null;)i.push(p,h),p=p.sibling}}return l}function ph(i,s){if(!Qo)throw Error(f(363));i=lh(i),i=uE(i,s),s=[],i=Array.from(i);for(var l=0;l<i.length;){var d=i[l++];if(d.tag===5)Xo(d)||s.push(d.stateNode);else for(d=d.child;d!==null;)i.push(d),d=d.sibling}return s}var R3=Math.ceil,af=u.ReactCurrentDispatcher,mh=u.ReactCurrentOwner,pn=u.ReactCurrentBatchConfig,lt=0,kn=null,gn=null,Bn=0,Eo=0,ys=fn(0),xn=0,yu=null,ba=0,sf=0,hh=0,gu=null,ro=null,yh=0,gh=1/0,oi=null;function gs(){gh=In()+500}var cf=!1,Eh=null,Mi=null,uf=!1,Pi=null,lf=0,Eu=0,Th=null,ff=-1,df=0;function Gn(){return lt&6?In():ff!==-1?ff:ff=In()}function zi(i){return i.mode&1?lt&2&&Bn!==0?Bn&-Bn:s3.transition!==null?(df===0&&(df=Nl()),df):(i=ht,i!==0?i:sa()):1}function Lo(i,s,l,d){if(50<Eu)throw Eu=0,Th=null,Error(f(185));Ea(i,l,d),(!(lt&2)||i!==kn)&&(i===kn&&(!(lt&2)&&(sf|=l),xn===4&&Li(i,Bn)),io(i,d),l===1&&lt===0&&!(s.mode&1)&&(gs(),Ol&&Ar()))}function io(i,s){var l=i.callbackNode;Cl(i,s);var d=ga(i,i===kn?Bn:0);if(d===0)l!==null&&vl(l),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(l!=null&&vl(l),s===1)i.tag===0?a3(fE.bind(null,i)):K0(fE.bind(null,i)),Sr?Ai(function(){!(lt&6)&&Ar()}):nu(bm,Ar),l=null;else{switch(Il(d)){case 1:l=bm;break;case 4:l=n3;break;case 16:l=Am;break;case 536870912:l=o3;break;default:l=Am}l=SE(l,lE.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function lE(i,s){if(ff=-1,df=0,lt&6)throw Error(f(327));var l=i.callbackNode;if(Ca()&&i.callbackNode!==l)return null;var d=ga(i,i===kn?Bn:0);if(d===0)return null;if(d&30||d&i.expiredLanes||s)s=pf(i,d);else{s=d;var p=lt;lt|=2;var h=mE();(kn!==i||Bn!==s)&&(oi=null,gs(),Aa(i,s));do try{I3();break}catch(D){pE(i,D)}while(1);wm(),af.current=h,lt=p,gn!==null?s=0:(kn=null,Bn=0,s=xn)}if(s!==0){if(s===2&&(p=Zc(i),p!==0&&(d=p,s=Sh(i,p))),s===1)throw l=yu,Aa(i,0),Li(i,d),io(i,In()),l;if(s===6)Li(i,d);else{if(p=i.current.alternate,!(d&30)&&!C3(p)&&(s=pf(i,d),s===2&&(h=Zc(i),h!==0&&(d=h,s=Sh(i,h))),s===1))throw l=yu,Aa(i,0),Li(i,d),io(i,In()),l;switch(i.finishedWork=p,i.finishedLanes=d,s){case 0:case 1:throw Error(f(345));case 2:Ra(i,ro,oi);break;case 3:if(Li(i,d),(d&130023424)===d&&(s=yh+500-In(),10<s)){if(ga(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){Gn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=le(Ra.bind(null,i,ro,oi),s);break}Ra(i,ro,oi);break;case 4:if(Li(i,d),(d&4194240)===d)break;for(s=i.eventTimes,p=-1;0<d;){var b=31-Sn(d);h=1<<b,b=s[b],b>p&&(p=b),d&=~h}if(d=p,d=In()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*R3(d/1960))-d,10<d){i.timeoutHandle=le(Ra.bind(null,i,ro,oi),d);break}Ra(i,ro,oi);break;case 5:Ra(i,ro,oi);break;default:throw Error(f(329))}}}return io(i,In()),i.callbackNode===l?lE.bind(null,i):null}function Sh(i,s){var l=gu;return i.current.memoizedState.isDehydrated&&(Aa(i,s).flags|=256),i=pf(i,s),i!==2&&(s=ro,ro=l,s!==null&&_h(s)),i}function _h(i){ro===null?ro=i:ro.push.apply(ro,i)}function C3(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],h=p.getSnapshot;p=p.value;try{if(!er(h(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Li(i,s){for(s&=~hh,s&=~sf,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Sn(s),d=1<<l;i[l]=-1,s&=~d}}function fE(i){if(lt&6)throw Error(f(327));Ca();var s=ga(i,0);if(!(s&1))return io(i,In()),null;var l=pf(i,s);if(i.tag!==0&&l===2){var d=Zc(i);d!==0&&(s=d,l=Sh(i,d))}if(l===1)throw l=yu,Aa(i,0),Li(i,s),io(i,In()),l;if(l===6)throw Error(f(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ra(i,ro,oi),io(i,In()),null}function dE(i){Pi!==null&&Pi.tag===0&&!(lt&6)&&Ca();var s=lt;lt|=1;var l=pn.transition,d=ht;try{if(pn.transition=null,ht=1,i)return i()}finally{ht=d,pn.transition=l,lt=s,!(lt&6)&&Ar()}}function xh(){Eo=ys.current,ut(ys)}function Aa(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==V&&(i.timeoutHandle=V,xe(l)),gn!==null)for(l=gn.return;l!==null;){var d=l;switch(Nm(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&No();break;case 3:ps(),ut(Dt),ut(It),Wm();break;case 5:Um(d);break;case 4:ps();break;case 13:ut(rn);break;case 19:ut(rn);break;case 10:Mm(d.type._context);break;case 22:case 23:xh()}l=l.return}if(kn=i,gn=i=Bi(i.current,null),Bn=Eo=s,xn=0,yu=null,hh=sf=ba=0,ro=gu=null,_a!==null){for(s=0;s<_a.length;s++)if(l=_a[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,h=l.pending;if(h!==null){var b=h.next;h.next=p,d.next=b}l.pending=d}_a=null}return i}function pE(i,s){do{var l=gn;try{if(wm(),Fl.current=Yl,Hl){for(var d=an.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Hl=!1}if(xa=0,vn=_n=an=null,su=!1,cu=0,mh.current=null,l===null||l.return===null){xn=1,yu=s,gn=null;break}e:{var h=i,b=l.return,D=l,re=s;if(s=Bn,D.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var Ee=re,Oe=D,et=Oe.tag;if(!(Oe.mode&1)&&(et===0||et===11||et===15)){var Re=Oe.alternate;Re?(Oe.updateQueue=Re.updateQueue,Oe.memoizedState=Re.memoizedState,Oe.lanes=Re.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var Gt=Ug(b);if(Gt!==null){Gt.flags&=-257,Dg(Gt,b,D,h,s),Gt.mode&1&&Bg(h,Ee,s),s=Gt,re=Ee;var Bt=s.updateQueue;if(Bt===null){var ao=new Set;ao.add(re),s.updateQueue=ao}else Bt.add(re);break e}else{if(!(s&1)){Bg(h,Ee,s),bh();break e}re=Error(f(426))}}else if(Xt&&D.mode&1){var ri=Ug(b);if(ri!==null){!(ri.flags&65536)&&(ri.flags|=256),Dg(ri,b,D,h,s),km(ms(re,D));break e}}h=re=ms(re,D),xn!==4&&(xn=2),gu===null?gu=[h]:gu.push(h),h=b;do{switch(h.tag){case 3:h.flags|=65536,s&=-s,h.lanes|=s;var te=zg(h,re,s);cg(h,te);break e;case 1:D=re;var Y=h.type,ae=h.stateNode;if(!(h.flags&128)&&(typeof Y.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Mi===null||!Mi.has(ae)))){h.flags|=65536,s&=-s,h.lanes|=s;var Ce=Lg(h,D,s);cg(h,Ce);break e}}h=h.return}while(h!==null)}yE(l)}catch(Fe){s=Fe,gn===l&&l!==null&&(gn=l=l.return);continue}break}while(1)}function mE(){var i=af.current;return af.current=Yl,i===null?Yl:i}function bh(){(xn===0||xn===3||xn===2)&&(xn=4),kn===null||!(ba&268435455)&&!(sf&268435455)||Li(kn,Bn)}function pf(i,s){var l=lt;lt|=2;var d=mE();(kn!==i||Bn!==s)&&(oi=null,Aa(i,s));do try{N3();break}catch(p){pE(i,p)}while(1);if(wm(),lt=l,af.current=d,gn!==null)throw Error(f(261));return kn=null,Bn=0,xn}function N3(){for(;gn!==null;)hE(gn)}function I3(){for(;gn!==null&&!_m();)hE(gn)}function hE(i){var s=TE(i.alternate,i,Eo);i.memoizedProps=i.pendingProps,s===null?yE(i):gn=s,mh.current=null}function yE(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=_3(l,s),l!==null){l.flags&=32767,gn=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{xn=6,gn=null;return}}else if(l=S3(l,s,Eo),l!==null){gn=l;return}if(s=s.sibling,s!==null){gn=s;return}gn=s=i}while(s!==null);xn===0&&(xn=5)}function Ra(i,s,l){var d=ht,p=pn.transition;try{pn.transition=null,ht=1,v3(i,s,l,d)}finally{pn.transition=p,ht=d}return null}function v3(i,s,l,d){do Ca();while(Pi!==null);if(lt&6)throw Error(f(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(f(177));i.callbackNode=null,i.callbackPriority=0;var h=l.lanes|l.childLanes;if(Sm(i,h),i===kn&&(gn=kn=null,Bn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||uf||(uf=!0,SE(Am,function(){return Ca(),null})),h=(l.flags&15990)!==0,l.subtreeFlags&15990||h){h=pn.transition,pn.transition=null;var b=ht;ht=1;var D=lt;lt|=4,mh.current=null,b3(i,l),rE(l,i),Ze(i.containerInfo),i.current=l,A3(l,i,p),xm(),lt=D,ht=b,pn.transition=h}else i.current=l;if(uf&&(uf=!1,Pi=i,lf=p),h=i.pendingLanes,h===0&&(Mi=null),r3(l.stateNode,d),io(i,In()),s!==null)for(d=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(cf)throw cf=!1,i=Eh,Eh=null,i;return lf&1&&i.tag!==0&&Ca(),h=i.pendingLanes,h&1?i===Th?Eu++:(Eu=0,Th=i):Eu=0,Ar(),null}function Ca(){if(Pi!==null){var i=Il(lf),s=pn.transition,l=ht;try{if(pn.transition=null,ht=16>i?16:i,Pi===null)var d=!1;else{if(i=Pi,Pi=null,lf=0,lt&6)throw Error(f(331));var p=lt;for(lt|=4,ve=i.current;ve!==null;){var h=ve,b=h.child;if(ve.flags&16){var D=h.deletions;if(D!==null){for(var re=0;re<D.length;re++){var Ee=D[re];for(ve=Ee;ve!==null;){var Oe=ve;switch(Oe.tag){case 0:case 11:case 15:mu(8,Oe,h)}var et=Oe.child;if(et!==null)et.return=Oe,ve=et;else for(;ve!==null;){Oe=ve;var Re=Oe.sibling,Gt=Oe.return;if(eE(Oe),Oe===Ee){ve=null;break}if(Re!==null){Re.return=Gt,ve=Re;break}ve=Gt}}}var Bt=h.alternate;if(Bt!==null){var ao=Bt.child;if(ao!==null){Bt.child=null;do{var ri=ao.sibling;ao.sibling=null,ao=ri}while(ao!==null)}}ve=h}}if(h.subtreeFlags&2064&&b!==null)b.return=h,ve=b;else e:for(;ve!==null;){if(h=ve,h.flags&2048)switch(h.tag){case 0:case 11:case 15:mu(9,h,h.return)}var te=h.sibling;if(te!==null){te.return=h.return,ve=te;break e}ve=h.return}}var Y=i.current;for(ve=Y;ve!==null;){b=ve;var ae=b.child;if(b.subtreeFlags&2064&&ae!==null)ae.return=b,ve=ae;else e:for(b=Y;ve!==null;){if(D=ve,D.flags&2048)try{switch(D.tag){case 0:case 11:case 15:Zl(9,D)}}catch(Fe){Zt(D,D.return,Fe)}if(D===b){ve=null;break e}var Ce=D.sibling;if(Ce!==null){Ce.return=D.return,ve=Ce;break e}ve=D.return}}if(lt=p,Ar(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(kl,i)}catch{}d=!0}return d}finally{ht=l,pn.transition=s}}return!1}function gE(i,s,l){s=ms(l,s),s=zg(i,s,1),i=wi(i,s,1),s=Gn(),i!==null&&(Ea(i,1,s),io(i,s))}function Zt(i,s,l){if(i.tag===3)gE(i,i,l);else for(;s!==null;){if(s.tag===3){gE(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Mi===null||!Mi.has(d))){i=ms(l,i),i=Lg(s,i,1),s=wi(s,i,1),i=Gn(),s!==null&&(Ea(s,1,i),io(s,i));break}}s=s.return}}function k3(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),s=Gn(),i.pingedLanes|=i.suspendedLanes&l,kn===i&&(Bn&l)===l&&(xn===4||xn===3&&(Bn&130023424)===Bn&&500>In()-yh?Aa(i,0):hh|=l),io(i,s)}function EE(i,s){s===0&&(i.mode&1?(s=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):s=1);var l=Gn();i=Rr(i,s),i!==null&&(Ea(i,s,l),io(i,l))}function O3(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),EE(i,l)}function w3(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(f(314))}d!==null&&d.delete(s),EE(i,l)}var TE;TE=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||Dt.current)oo=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return oo=!1,T3(i,s,l);oo=!!(i.flags&131072)}else oo=!1,Xt&&s.flags&1048576&&Q0(s,Ml,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Jl(i,s),i=s.pendingProps;var p=jn(s,It.current);fs(s,l),p=Hm(null,s,d,i,p,l);var h=Vm();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Kt(d)?(h=!0,Io(s)):h=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Lm(s),p.updater=ql,s.stateNode=p,p._reactInternals=s,Km(s,d,i,l),s=eh(null,s,d,!0,h,l)):(s.tag=0,Xt&&h&&Cm(s),Zn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Jl(i,s),i=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=P3(d),i=nr(d,i),p){case 0:s=Zm(null,s,d,i,l);break e;case 1:s=Gg(null,s,d,i,l);break e;case 11:s=Wg(null,s,d,i,l);break e;case 14:s=jg(null,s,d,nr(d.type,i),l);break e}throw Error(f(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:nr(d,p),Zm(i,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:nr(d,p),Gg(i,s,d,p,l);case 3:e:{if(Yg(s),i===null)throw Error(f(387));d=s.pendingProps,h=s.memoizedState,p=h.element,sg(i,s),Wl(s,d,null,l);var b=s.memoizedState;if(d=b.element,Nn&&h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){p=ms(Error(f(423)),s),s=qg(i,s,d,l,p);break e}else if(d!==p){p=ms(Error(f(424)),s),s=qg(i,s,d,l,p);break e}else for(Nn&&(wo=$t(s.stateNode.containerInfo),go=s,Xt=!0,tr=null,ou=!1),l=rg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(cs(),d===p){s=ni(i,s,l);break e}Zn(i,s,d,l)}s=s.child}return s;case 5:return lg(s),i===null&&vm(s),d=s.type,p=s.pendingProps,h=i!==null?i.memoizedProps:null,b=p.children,Tn(d,p)?b=null:h!==null&&Tn(d,h)&&(s.flags|=32),Vg(i,s),Zn(i,s,b,l),s.child;case 6:return i===null&&vm(s),null;case 13:return $g(i,s,l);case 4:return Bm(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=us(s,null,d,l):Zn(i,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:nr(d,p),Wg(i,s,d,p,l);case 7:return Zn(i,s,s.pendingProps,l),s.child;case 8:return Zn(i,s,s.pendingProps.children,l),s.child;case 12:return Zn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,h=s.memoizedProps,b=p.value,ig(s,d,b),h!==null)if(er(h.value,b)){if(h.children===p.children&&!Dt.current){s=ni(i,s,l);break e}}else for(h=s.child,h!==null&&(h.return=s);h!==null;){var D=h.dependencies;if(D!==null){b=h.child;for(var re=D.firstContext;re!==null;){if(re.context===d){if(h.tag===1){re=ti(-1,l&-l),re.tag=2;var Ee=h.updateQueue;if(Ee!==null){Ee=Ee.shared;var Oe=Ee.pending;Oe===null?re.next=re:(re.next=Oe.next,Oe.next=re),Ee.pending=re}}h.lanes|=l,re=h.alternate,re!==null&&(re.lanes|=l),Pm(h.return,l,s),D.lanes|=l;break}re=re.next}}else if(h.tag===10)b=h.type===s.type?null:h.child;else if(h.tag===18){if(b=h.return,b===null)throw Error(f(341));b.lanes|=l,D=b.alternate,D!==null&&(D.lanes|=l),Pm(b,l,s),b=h.sibling}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===s){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}Zn(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,fs(s,l),p=Mo(p),d=d(p),s.flags|=1,Zn(i,s,d,l),s.child;case 14:return d=s.type,p=nr(d,s.pendingProps),p=nr(d.type,p),jg(i,s,d,p,l);case 15:return Fg(i,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:nr(d,p),Jl(i,s),s.tag=1,Kt(d)?(i=!0,Io(s)):i=!1,fs(s,l),Mg(s,d,p),Km(s,d,p,l),eh(null,s,d,!0,i,l);case 19:return Kg(i,s,l);case 22:return Hg(i,s,l)}throw Error(f(156,s.tag))};function SE(i,s){return nu(i,s)}function M3(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bo(i,s,l,d){return new M3(i,s,l,d)}function Ah(i){return i=i.prototype,!(!i||!i.isReactComponent)}function P3(i){if(typeof i=="function")return Ah(i)?1:0;if(i!=null){if(i=i.$$typeof,i===_)return 11;if(i===q)return 14}return 2}function Bi(i,s){var l=i.alternate;return l===null?(l=Bo(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function mf(i,s,l,d,p,h){var b=2;if(d=i,typeof i=="function")Ah(i)&&(b=1);else if(typeof i=="string")b=5;else e:switch(i){case y:return Na(l.children,p,h,s);case R:b=8,p|=8;break;case g:return i=Bo(12,l,s,p|2),i.elementType=g,i.lanes=h,i;case C:return i=Bo(13,l,s,p),i.elementType=C,i.lanes=h,i;case M:return i=Bo(19,l,s,p),i.elementType=M,i.lanes=h,i;case H:return hf(l,p,h,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:b=10;break e;case x:b=9;break e;case _:b=11;break e;case q:b=14;break e;case ue:b=16,d=null;break e}throw Error(f(130,i==null?i:typeof i,""))}return s=Bo(b,l,s,p),s.elementType=i,s.type=d,s.lanes=h,s}function Na(i,s,l,d){return i=Bo(7,i,d,s),i.lanes=l,i}function hf(i,s,l,d){return i=Bo(22,i,d,s),i.elementType=H,i.lanes=l,i.stateNode={isHidden:!1},i}function Rh(i,s,l){return i=Bo(6,i,null,s),i.lanes=l,i}function Ch(i,s,l){return s=Bo(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function z3(i,s,l,d,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=V,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eu(0),this.expirationTimes=eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.identifierPrefix=d,this.onRecoverableError=p,Nn&&(this.mutableSourceEagerHydrationData=null)}function _E(i,s,l,d,p,h,b,D,re){return i=new z3(i,s,l,D,re),s===1?(s=1,h===!0&&(s|=8)):s=0,h=Bo(3,null,null,s),i.current=h,h.stateNode=i,h.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lm(h),i}function xE(i){if(!i)return dn;i=i._reactInternals;e:{if(P(i)!==i||i.tag!==1)throw Error(f(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Kt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(f(171))}if(i.tag===1){var l=i.type;if(Kt(l))return Qt(i,l,s)}return s}function bE(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(f(188)):(i=Object.keys(i).join(","),Error(f(268,i)));return i=N(s),i===null?null:i.stateNode}function AE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function yf(i,s){AE(i,s),(i=i.alternate)&&AE(i,s)}function L3(i){return i=N(i),i===null?null:i.stateNode}function B3(){return null}return a.attemptContinuousHydration=function(i){if(i.tag===13){var s=Rr(i,134217728);if(s!==null){var l=Gn();Lo(s,i,134217728,l)}yf(i,134217728)}},a.attemptDiscreteHydration=function(i){if(i.tag===13){var s=Rr(i,1);if(s!==null){var l=Gn();Lo(s,i,1,l)}yf(i,1)}},a.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=zi(i),l=Rr(i,s);if(l!==null){var d=Gn();Lo(l,i,s,d)}yf(i,s)}},a.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=ki(s.pendingLanes);l!==0&&(tu(s,l|1),io(s,In()),!(lt&6)&&(gs(),Ar()))}break;case 13:dE(function(){var d=Rr(i,1);if(d!==null){var p=Gn();Lo(d,i,1,p)}}),yf(i,1)}},a.batchedUpdates=function(i,s){var l=lt;lt|=1;try{return i(s)}finally{lt=l,lt===0&&(gs(),Ol&&Ar())}},a.createComponentSelector=function(i){return{$$typeof:ef,value:i}},a.createContainer=function(i,s,l,d,p,h,b){return _E(i,s,!1,null,l,d,p,h,b)},a.createHasPseudoClassSelector=function(i){return{$$typeof:tf,value:i}},a.createHydrationContainer=function(i,s,l,d,p,h,b,D,re){return i=_E(l,d,!0,i,p,h,b,D,re),i.context=xE(null),l=i.current,d=Gn(),p=zi(l),h=ti(d,p),h.callback=s??null,wi(l,h,p),i.current.lanes=p,Ea(i,p,d),io(i,d),i},a.createPortal=function(i,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:d==null?null:""+d,children:i,containerInfo:s,implementation:l}},a.createRoleSelector=function(i){return{$$typeof:nf,value:i}},a.createTestNameSelector=function(i){return{$$typeof:of,value:i}},a.createTextSelector=function(i){return{$$typeof:rf,value:i}},a.deferredUpdates=function(i){var s=ht,l=pn.transition;try{return pn.transition=null,ht=16,i()}finally{ht=s,pn.transition=l}},a.discreteUpdates=function(i,s,l,d,p){var h=ht,b=pn.transition;try{return pn.transition=null,ht=1,i(s,l,d,p)}finally{ht=h,pn.transition=b,lt===0&&gs()}},a.findAllNodes=ph,a.findBoundingRects=function(i,s){if(!Qo)throw Error(f(363));s=ph(i,s),i=[];for(var l=0;l<s.length;l++)i.push(zt(s[l]));for(s=i.length-1;0<s;s--){l=i[s];for(var d=l.x,p=d+l.width,h=l.y,b=h+l.height,D=s-1;0<=D;D--)if(s!==D){var re=i[D],Ee=re.x,Oe=Ee+re.width,et=re.y,Re=et+re.height;if(d>=Ee&&h>=et&&p<=Oe&&b<=Re){i.splice(s,1);break}else if(d!==Ee||l.width!==re.width||Re<h||et>b){if(!(h!==et||l.height!==re.height||Oe<d||Ee>p)){Ee>d&&(re.width+=Ee-d,re.x=d),Oe<p&&(re.width=p-Ee),i.splice(s,1);break}}else{et>h&&(re.height+=et-h,re.y=h),Re<b&&(re.height=b-et),i.splice(s,1);break}}}return i},a.findHostInstance=bE,a.findHostInstanceWithNoPortals=function(i){return i=z(i),i=i!==null?ee(i):null,i===null?null:i.stateNode},a.findHostInstanceWithWarning=function(i){return bE(i)},a.flushControlled=function(i){var s=lt;lt|=1;var l=pn.transition,d=ht;try{pn.transition=null,ht=1,i()}finally{ht=d,pn.transition=l,lt=s,lt===0&&(gs(),Ar())}},a.flushPassiveEffects=Ca,a.flushSync=dE,a.focusWithin=function(i,s){if(!Qo)throw Error(f(363));for(i=lh(i),s=uE(i,s),s=Array.from(s),i=0;i<s.length;){var l=s[i++];if(!Xo(l)){if(l.tag===5&&ca(l.stateNode))return!0;for(l=l.child;l!==null;)s.push(l),l=l.sibling}}return!1},a.getCurrentUpdatePriority=function(){return ht},a.getFindAllNodesFailureDescription=function(i,s){if(!Qo)throw Error(f(363));var l=0,d=[];i=[lh(i),0];for(var p=0;p<i.length;){var h=i[p++],b=i[p++],D=s[b];if((h.tag!==5||!Xo(h))&&(fh(h,D)&&(d.push(dh(D)),b++,b>l&&(l=b)),b<s.length))for(h=h.child;h!==null;)i.push(h,b),h=h.sibling}if(l<s.length){for(i=[];l<s.length;l++)i.push(dh(s[l]));return`findAllNodes was able to match part of the selector:
  `+(d.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},a.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return _e(i.child.stateNode);default:return i.child.stateNode}},a.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:L3,findFiberByHostInstance:i.findFiberByHostInstance||B3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{kl=s.inject(i),br=s}catch{}i=!!s.checkDCE}}return i},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(i,s,l,d){if(!Qo)throw Error(f(363));i=ph(i,s);var p=Yr(i,l,d).disconnect;return{disconnect:function(){p()}}},a.registerMutableSourceForHydration=function(i,s){var l=s._getVersion;l=l(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,l]:i.mutableSourceEagerHydrationData.push(s,l)},a.runWithPriority=function(i,s){var l=ht;try{return ht=i,s()}finally{ht=l}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(i,s,l,d){var p=s.current,h=Gn(),b=zi(p);return l=xE(l),s.context===null?s.context=l:s.pendingContext=l,s=ti(h,b),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=wi(p,s,b),i!==null&&(Lo(i,p,b,h),Dl(i,p,b)),b},a}});var i2=en((A6,r2)=>{"use strict";r2.exports=o2()});var Sv={};V3(Sv,{AttemptState:()=>jy,RoundState:()=>Fy,attemptFinishTime:()=>cl,attemptResult:()=>Ao,attemptStartTime:()=>c0,attemptState:()=>mo,attemptTimer:()=>hi,bestAttemptHeight:()=>ea,bestAttemptTime:()=>ts,isMultiplayerMode:()=>ho,leaderboard:()=>Za,main:()=>tm,onStart:()=>Tv,onUpdate:()=>Ev,playSoundEffect:()=>ZN,playerHeight:()=>ns,playerMaxHeight:()=>Qn,rendererTransport:()=>Tm,resultMessage:()=>Yo,resultTimestamp:()=>to,roundFinishers:()=>Zp,roundSpeedMultiplier:()=>hr,roundStartTime:()=>em,roundState:()=>Un,roundTimer:()=>mr,roundWinners:()=>es});module.exports=G3(Sv);var ka=we(Pe());function tA(){return{states:[]}}var Ts;(function(e){function n(t,r=ka.default.Writer.create()){for(let o of t.states)bf.encode(o,r.uint32(10).fork()).ldelim();return r}e.encode=n;function a(t,r){let o=t instanceof ka.default.Reader?t:ka.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=tA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.states.push(bf.decode(o,o.uint32()));continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ts||(Ts={}));function nA(){return{clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}var bf;(function(e){function n(t,r=ka.default.Writer.create()){return t.clip!==""&&r.uint32(18).string(t.clip),t.playing!==void 0&&r.uint32(24).bool(t.playing),t.weight!==void 0&&r.uint32(37).float(t.weight),t.speed!==void 0&&r.uint32(45).float(t.speed),t.loop!==void 0&&r.uint32(48).bool(t.loop),t.shouldReset!==void 0&&r.uint32(56).bool(t.shouldReset),r}e.encode=n;function a(t,r){let o=t instanceof ka.default.Reader?t:ka.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=nA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 2:if(c!==18)break;u.clip=o.string();continue;case 3:if(c!==24)break;u.playing=o.bool();continue;case 4:if(c!==37)break;u.weight=o.float();continue;case 5:if(c!==45)break;u.speed=o.float();continue;case 6:if(c!==48)break;u.loop=o.bool();continue;case 7:if(c!==56)break;u.shouldReset=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(bf||(bf={}));var _T={COMPONENT_ID:1042,serialize(e,n){let a=Ts.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ts.decode(e.buffer(),e.remainingBytes())},create(){return Ts.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};var Af=we(Pe());function oA(){return{state:0,timestamp:0}}var Ss;(function(e){function n(t,r=Af.default.Writer.create()){return t.state!==0&&r.uint32(8).int32(t.state),t.timestamp!==0&&r.uint32(16).uint32(t.timestamp),r}e.encode=n;function a(t,r){let o=t instanceof Af.default.Reader?t:Af.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=oA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.state=o.int32();continue;case 2:if(c!==16)break;u.timestamp=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ss||(Ss={}));var xT={COMPONENT_ID:1105,serialize(e,n){let a=Ss.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ss.decode(e.buffer(),e.remainingBytes())},create(){return Ss.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioEvent"}};var Rf=we(Pe());function rA(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:"",currentTime:void 0,global:void 0}}var _s;(function(e){function n(t,r=Rf.default.Writer.create()){return t.playing!==void 0&&r.uint32(8).bool(t.playing),t.volume!==void 0&&r.uint32(21).float(t.volume),t.loop!==void 0&&r.uint32(24).bool(t.loop),t.pitch!==void 0&&r.uint32(37).float(t.pitch),t.audioClipUrl!==""&&r.uint32(42).string(t.audioClipUrl),t.currentTime!==void 0&&r.uint32(53).float(t.currentTime),t.global!==void 0&&r.uint32(56).bool(t.global),r}e.encode=n;function a(t,r){let o=t instanceof Rf.default.Reader?t:Rf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=rA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.playing=o.bool();continue;case 2:if(c!==21)break;u.volume=o.float();continue;case 3:if(c!==24)break;u.loop=o.bool();continue;case 4:if(c!==37)break;u.pitch=o.float();continue;case 5:if(c!==42)break;u.audioClipUrl=o.string();continue;case 6:if(c!==53)break;u.currentTime=o.float();continue;case 7:if(c!==56)break;u.global=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(_s||(_s={}));var bT={COMPONENT_ID:1020,serialize(e,n){let a=_s.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return _s.decode(e.buffer(),e.remainingBytes())},create(){return _s.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};var Cf=we(Pe());function iA(){return{playing:void 0,volume:void 0,url:""}}var xs;(function(e){function n(t,r=Cf.default.Writer.create()){return t.playing!==void 0&&r.uint32(8).bool(t.playing),t.volume!==void 0&&r.uint32(21).float(t.volume),t.url!==""&&r.uint32(26).string(t.url),r}e.encode=n;function a(t,r){let o=t instanceof Cf.default.Reader?t:Cf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=iA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.playing=o.bool();continue;case 2:if(c!==21)break;u.volume=o.float();continue;case 3:if(c!==26)break;u.url=o.string();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(xs||(xs={}));var AT={COMPONENT_ID:1021,serialize(e,n){let a=xs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return xs.decode(e.buffer(),e.remainingBytes())},create(){return xs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}};var Nf=we(Pe());var RT;(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_HEAD=4]="AAPT_HEAD",e[e.AAPT_NECK=5]="AAPT_NECK",e[e.AAPT_SPINE=6]="AAPT_SPINE",e[e.AAPT_SPINE1=7]="AAPT_SPINE1",e[e.AAPT_SPINE2=8]="AAPT_SPINE2",e[e.AAPT_HIP=9]="AAPT_HIP",e[e.AAPT_LEFT_SHOULDER=10]="AAPT_LEFT_SHOULDER",e[e.AAPT_LEFT_ARM=11]="AAPT_LEFT_ARM",e[e.AAPT_LEFT_FOREARM=12]="AAPT_LEFT_FOREARM",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_LEFT_HAND_INDEX=13]="AAPT_LEFT_HAND_INDEX",e[e.AAPT_RIGHT_SHOULDER=14]="AAPT_RIGHT_SHOULDER",e[e.AAPT_RIGHT_ARM=15]="AAPT_RIGHT_ARM",e[e.AAPT_RIGHT_FOREARM=16]="AAPT_RIGHT_FOREARM",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND",e[e.AAPT_RIGHT_HAND_INDEX=17]="AAPT_RIGHT_HAND_INDEX",e[e.AAPT_LEFT_UP_LEG=18]="AAPT_LEFT_UP_LEG",e[e.AAPT_LEFT_LEG=19]="AAPT_LEFT_LEG",e[e.AAPT_LEFT_FOOT=20]="AAPT_LEFT_FOOT",e[e.AAPT_LEFT_TOE_BASE=21]="AAPT_LEFT_TOE_BASE",e[e.AAPT_RIGHT_UP_LEG=22]="AAPT_RIGHT_UP_LEG",e[e.AAPT_RIGHT_LEG=23]="AAPT_RIGHT_LEG",e[e.AAPT_RIGHT_FOOT=24]="AAPT_RIGHT_FOOT",e[e.AAPT_RIGHT_TOE_BASE=25]="AAPT_RIGHT_TOE_BASE"})(RT||(RT={}));function aA(){return{avatarId:void 0,anchorPointId:0}}var bs;(function(e){function n(t,r=Nf.default.Writer.create()){return t.avatarId!==void 0&&r.uint32(10).string(t.avatarId),t.anchorPointId!==0&&r.uint32(16).int32(t.anchorPointId),r}e.encode=n;function a(t,r){let o=t instanceof Nf.default.Reader?t:Nf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=aA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.avatarId=o.string();continue;case 2:if(c!==16)break;u.anchorPointId=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(bs||(bs={}));var CT={COMPONENT_ID:1073,serialize(e,n){let a=bs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return bs.decode(e.buffer(),e.remainingBytes())},create(){return bs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};var If=we(Pe());var Oa=we(Pe());function sA(){return{r:0,g:0,b:0}}var bt;(function(e){function n(t,r=Oa.default.Writer.create()){return t.r!==0&&r.uint32(13).float(t.r),t.g!==0&&r.uint32(21).float(t.g),t.b!==0&&r.uint32(29).float(t.b),r}e.encode=n;function a(t,r){let o=t instanceof Oa.default.Reader?t:Oa.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=sA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.r=o.float();continue;case 2:if(c!==21)break;u.g=o.float();continue;case 3:if(c!==29)break;u.b=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(bt||(bt={}));function cA(){return{r:0,g:0,b:0,a:0}}var Et;(function(e){function n(t,r=Oa.default.Writer.create()){return t.r!==0&&r.uint32(13).float(t.r),t.g!==0&&r.uint32(21).float(t.g),t.b!==0&&r.uint32(29).float(t.b),t.a!==0&&r.uint32(37).float(t.a),r}e.encode=n;function a(t,r){let o=t instanceof Oa.default.Reader?t:Oa.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=cA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.r=o.float();continue;case 2:if(c!==21)break;u.g=o.float();continue;case 3:if(c!==29)break;u.b=o.float();continue;case 4:if(c!==37)break;u.a=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Et||(Et={}));function uA(){return{skinColor:void 0,eyesColor:void 0,hairColor:void 0,bodyShapeUrn:"",name:""}}var As;(function(e){function n(t,r=If.default.Writer.create()){return t.skinColor!==void 0&&bt.encode(t.skinColor,r.uint32(10).fork()).ldelim(),t.eyesColor!==void 0&&bt.encode(t.eyesColor,r.uint32(18).fork()).ldelim(),t.hairColor!==void 0&&bt.encode(t.hairColor,r.uint32(26).fork()).ldelim(),t.bodyShapeUrn!==""&&r.uint32(34).string(t.bodyShapeUrn),t.name!==""&&r.uint32(42).string(t.name),r}e.encode=n;function a(t,r){let o=t instanceof If.default.Reader?t:If.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=uA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.skinColor=bt.decode(o,o.uint32());continue;case 2:if(c!==18)break;u.eyesColor=bt.decode(o,o.uint32());continue;case 3:if(c!==26)break;u.hairColor=bt.decode(o,o.uint32());continue;case 4:if(c!==34)break;u.bodyShapeUrn=o.string();continue;case 5:if(c!==42)break;u.name=o.string();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(As||(As={}));var NT={COMPONENT_ID:1087,serialize(e,n){let a=As.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return As.decode(e.buffer(),e.remainingBytes())},create(){return As.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarBase"}};var vf=we(Pe());function lA(){return{emoteUrn:"",loop:!1,timestamp:0}}var Rs;(function(e){function n(t,r=vf.default.Writer.create()){return t.emoteUrn!==""&&r.uint32(10).string(t.emoteUrn),t.loop===!0&&r.uint32(16).bool(t.loop),t.timestamp!==0&&r.uint32(24).uint32(t.timestamp),r}e.encode=n;function a(t,r){let o=t instanceof vf.default.Reader?t:vf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=lA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.emoteUrn=o.string();continue;case 2:if(c!==16)break;u.loop=o.bool();continue;case 3:if(c!==24)break;u.timestamp=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Rs||(Rs={}));var IT={COMPONENT_ID:1088,serialize(e,n){let a=Rs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Rs.decode(e.buffer(),e.remainingBytes())},create(){return Rs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEmoteCommand"}};var kf=we(Pe());function fA(){return{wearableUrns:[],emoteUrns:[]}}var Cs;(function(e){function n(t,r=kf.default.Writer.create()){for(let o of t.wearableUrns)r.uint32(10).string(o);for(let o of t.emoteUrns)r.uint32(18).string(o);return r}e.encode=n;function a(t,r){let o=t instanceof kf.default.Reader?t:kf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=fA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.wearableUrns.push(o.string());continue;case 2:if(c!==18)break;u.emoteUrns.push(o.string());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Cs||(Cs={}));var vT={COMPONENT_ID:1091,serialize(e,n){let a=Cs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Cs.decode(e.buffer(),e.remainingBytes())},create(){return Cs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEquippedData"}};var Of=we(Pe());var To=we(Pe());function dA(){return{x:0,y:0,z:0}}var kT;(function(e){function n(t,r=To.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),r}e.encode=n;function a(t,r){let o=t instanceof To.default.Reader?t:To.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=dA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=o.float();continue;case 2:if(c!==21)break;u.y=o.float();continue;case 3:if(c!==29)break;u.z=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(kT||(kT={}));function pA(){return{x:0,y:0,z:0}}var He;(function(e){function n(t,r=To.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),r}e.encode=n;function a(t,r){let o=t instanceof To.default.Reader?t:To.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=pA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=o.float();continue;case 2:if(c!==21)break;u.y=o.float();continue;case 3:if(c!==29)break;u.z=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(He||(He={}));function mA(){return{x:0,y:0}}var bn;(function(e){function n(t,r=To.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),r}e.encode=n;function a(t,r){let o=t instanceof To.default.Reader?t:To.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=mA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=o.float();continue;case 2:if(c!==21)break;u.y=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(bn||(bn={}));function hA(){return{x:0,y:0,z:0,w:0}}var co;(function(e){function n(t,r=To.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),t.w!==0&&r.uint32(37).float(t.w),r}e.encode=n;function a(t,r){let o=t instanceof To.default.Reader?t:To.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=hA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=o.float();continue;case 2:if(c!==21)break;u.y=o.float();continue;case 3:if(c!==29)break;u.z=o.float();continue;case 4:if(c!==37)break;u.w=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(co||(co={}));var OT;(function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"})(OT||(OT={}));function yA(){return{area:void 0,excludeIds:[],modifiers:[]}}var Ns;(function(e){function n(t,r=Of.default.Writer.create()){t.area!==void 0&&He.encode(t.area,r.uint32(10).fork()).ldelim();for(let o of t.excludeIds)r.uint32(18).string(o);r.uint32(26).fork();for(let o of t.modifiers)r.int32(o);return r.ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof Of.default.Reader?t:Of.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=yA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.area=He.decode(o,o.uint32());continue;case 2:if(c!==18)break;u.excludeIds.push(o.string());continue;case 3:if(c===24){u.modifiers.push(o.int32());continue}if(c===26){let m=o.uint32()+o.pos;for(;o.pos<m;)u.modifiers.push(o.int32());continue}break}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ns||(Ns={}));var wT={COMPONENT_ID:1070,serialize(e,n){let a=Ns.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ns.decode(e.buffer(),e.remainingBytes())},create(){return Ns.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var Do=null;try{Do=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function vt(e,n,a){this.low=e|0,this.high=n|0,this.unsigned=!!a}vt.prototype.__isLong__;Object.defineProperty(vt.prototype,"__isLong__",{value:!0});function Yn(e){return(e&&e.__isLong__)===!0}function MT(e){var n=Math.clz32(e&-e);return e?31-n:n}vt.isLong=Yn;var PT={},zT={};function wa(e,n){var a,t,r;return n?(e>>>=0,(r=0<=e&&e<256)&&(t=zT[e],t)?t:(a=Tt(e,0,!0),r&&(zT[e]=a),a)):(e|=0,(r=-128<=e&&e<128)&&(t=PT[e],t)?t:(a=Tt(e,e<0?-1:0,!1),r&&(PT[e]=a),a))}vt.fromInt=wa;function Wo(e,n){if(isNaN(e))return n?ii:sr;if(n){if(e<0)return ii;if(e>=DT)return FT}else{if(e<=-BT)return uo;if(e+1>=BT)return jT}return e<0?Wo(-e,n).neg():Tt(e%vs|0,e/vs|0,n)}vt.fromNumber=Wo;function Tt(e,n,a){return new vt(e,n,a)}vt.fromBits=Tt;var wf=Math.pow;function jh(e,n,a){if(e.length===0)throw Error("empty string");if(typeof n=="number"?(a=n,n=!1):n=!!n,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return n?ii:sr;if(a=a||10,a<2||36<a)throw RangeError("radix");var t;if((t=e.indexOf("-"))>0)throw Error("interior hyphen");if(t===0)return jh(e.substring(1),n,a).neg();for(var r=Wo(wf(a,8)),o=sr,f=0;f<e.length;f+=8){var u=Math.min(8,e.length-f),c=parseInt(e.substring(f,f+u),a);if(u<8){var m=Wo(wf(a,u));o=o.mul(m).add(Wo(c))}else o=o.mul(r),o=o.add(Wo(c))}return o.unsigned=n,o}vt.fromString=jh;function jo(e,n){return typeof e=="number"?Wo(e,n):typeof e=="string"?jh(e,n):Tt(e.low,e.high,typeof n=="boolean"?n:e.unsigned)}vt.fromValue=jo;var LT=65536,gA=1<<24,vs=LT*LT,DT=vs*vs,BT=DT/2,UT=wa(gA),sr=wa(0);vt.ZERO=sr;var ii=wa(0,!0);vt.UZERO=ii;var Is=wa(1);vt.ONE=Is;var WT=wa(1,!0);vt.UONE=WT;var Wh=wa(-1);vt.NEG_ONE=Wh;var jT=Tt(-1,2147483647,!1);vt.MAX_VALUE=jT;var FT=Tt(-1,-1,!0);vt.MAX_UNSIGNED_VALUE=FT;var uo=Tt(0,-2147483648,!1);vt.MIN_VALUE=uo;var ge=vt.prototype;ge.toInt=function(){return this.unsigned?this.low>>>0:this.low};ge.toNumber=function(){return this.unsigned?(this.high>>>0)*vs+(this.low>>>0):this.high*vs+(this.low>>>0)};ge.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(uo)){var a=Wo(n),t=this.div(a),r=t.mul(a).sub(this);return t.toString(n)+r.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var o=Wo(wf(n,6),this.unsigned),f=this,u="";;){var c=f.div(o),m=f.sub(c.mul(o)).toInt()>>>0,y=m.toString(n);if(f=c,f.isZero())return y+u;for(;y.length<6;)y="0"+y;u=""+y+u}};ge.getHighBits=function(){return this.high};ge.getHighBitsUnsigned=function(){return this.high>>>0};ge.getLowBits=function(){return this.low};ge.getLowBitsUnsigned=function(){return this.low>>>0};ge.getNumBitsAbs=function(){if(this.isNegative())return this.eq(uo)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,a=31;a>0&&!(n&1<<a);a--);return this.high!=0?a+33:a+1};ge.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};ge.isZero=function(){return this.high===0&&this.low===0};ge.eqz=ge.isZero;ge.isNegative=function(){return!this.unsigned&&this.high<0};ge.isPositive=function(){return this.unsigned||this.high>=0};ge.isOdd=function(){return(this.low&1)===1};ge.isEven=function(){return(this.low&1)===0};ge.equals=function(n){return Yn(n)||(n=jo(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};ge.eq=ge.equals;ge.notEquals=function(n){return!this.eq(n)};ge.neq=ge.notEquals;ge.ne=ge.notEquals;ge.lessThan=function(n){return this.comp(n)<0};ge.lt=ge.lessThan;ge.lessThanOrEqual=function(n){return this.comp(n)<=0};ge.lte=ge.lessThanOrEqual;ge.le=ge.lessThanOrEqual;ge.greaterThan=function(n){return this.comp(n)>0};ge.gt=ge.greaterThan;ge.greaterThanOrEqual=function(n){return this.comp(n)>=0};ge.gte=ge.greaterThanOrEqual;ge.ge=ge.greaterThanOrEqual;ge.compare=function(n){if(Yn(n)||(n=jo(n)),this.eq(n))return 0;var a=this.isNegative(),t=n.isNegative();return a&&!t?-1:!a&&t?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};ge.comp=ge.compare;ge.negate=function(){return!this.unsigned&&this.eq(uo)?uo:this.not().add(Is)};ge.neg=ge.negate;ge.add=function(n){Yn(n)||(n=jo(n));var a=this.high>>>16,t=this.high&65535,r=this.low>>>16,o=this.low&65535,f=n.high>>>16,u=n.high&65535,c=n.low>>>16,m=n.low&65535,y=0,R=0,g=0,E=0;return E+=o+m,g+=E>>>16,E&=65535,g+=r+c,R+=g>>>16,g&=65535,R+=t+u,y+=R>>>16,R&=65535,y+=a+f,y&=65535,Tt(g<<16|E,y<<16|R,this.unsigned)};ge.subtract=function(n){return Yn(n)||(n=jo(n)),this.add(n.neg())};ge.sub=ge.subtract;ge.multiply=function(n){if(this.isZero())return this;if(Yn(n)||(n=jo(n)),Do){var a=Do.mul(this.low,this.high,n.low,n.high);return Tt(a,Do.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?ii:sr;if(this.eq(uo))return n.isOdd()?uo:sr;if(n.eq(uo))return this.isOdd()?uo:sr;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(UT)&&n.lt(UT))return Wo(this.toNumber()*n.toNumber(),this.unsigned);var t=this.high>>>16,r=this.high&65535,o=this.low>>>16,f=this.low&65535,u=n.high>>>16,c=n.high&65535,m=n.low>>>16,y=n.low&65535,R=0,g=0,E=0,x=0;return x+=f*y,E+=x>>>16,x&=65535,E+=o*y,g+=E>>>16,E&=65535,E+=f*m,g+=E>>>16,E&=65535,g+=r*y,R+=g>>>16,g&=65535,g+=o*m,R+=g>>>16,g&=65535,g+=f*c,R+=g>>>16,g&=65535,R+=t*y+r*m+o*c+f*u,R&=65535,Tt(E<<16|x,R<<16|g,this.unsigned)};ge.mul=ge.multiply;ge.divide=function(n){if(Yn(n)||(n=jo(n)),n.isZero())throw Error("division by zero");if(Do){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var a=(this.unsigned?Do.div_u:Do.div_s)(this.low,this.high,n.low,n.high);return Tt(a,Do.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ii:sr;var t,r,o;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return ii;if(n.gt(this.shru(1)))return WT;o=ii}else{if(this.eq(uo)){if(n.eq(Is)||n.eq(Wh))return uo;if(n.eq(uo))return Is;var f=this.shr(1);return t=f.div(n).shl(1),t.eq(sr)?n.isNegative()?Is:Wh:(r=this.sub(n.mul(t)),o=t.add(r.div(n)),o)}else if(n.eq(uo))return this.unsigned?ii:sr;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();o=sr}for(r=this;r.gte(n);){t=Math.max(1,Math.floor(r.toNumber()/n.toNumber()));for(var u=Math.ceil(Math.log(t)/Math.LN2),c=u<=48?1:wf(2,u-48),m=Wo(t),y=m.mul(n);y.isNegative()||y.gt(r);)t-=c,m=Wo(t,this.unsigned),y=m.mul(n);m.isZero()&&(m=Is),o=o.add(m),r=r.sub(y)}return o};ge.div=ge.divide;ge.modulo=function(n){if(Yn(n)||(n=jo(n)),Do){var a=(this.unsigned?Do.rem_u:Do.rem_s)(this.low,this.high,n.low,n.high);return Tt(a,Do.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};ge.mod=ge.modulo;ge.rem=ge.modulo;ge.not=function(){return Tt(~this.low,~this.high,this.unsigned)};ge.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};ge.clz=ge.countLeadingZeros;ge.countTrailingZeros=function(){return this.low?MT(this.low):MT(this.high)+32};ge.ctz=ge.countTrailingZeros;ge.and=function(n){return Yn(n)||(n=jo(n)),Tt(this.low&n.low,this.high&n.high,this.unsigned)};ge.or=function(n){return Yn(n)||(n=jo(n)),Tt(this.low|n.low,this.high|n.high,this.unsigned)};ge.xor=function(n){return Yn(n)||(n=jo(n)),Tt(this.low^n.low,this.high^n.high,this.unsigned)};ge.shiftLeft=function(n){return Yn(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Tt(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):Tt(0,this.low<<n-32,this.unsigned)};ge.shl=ge.shiftLeft;ge.shiftRight=function(n){return Yn(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Tt(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):Tt(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};ge.shr=ge.shiftRight;ge.shiftRightUnsigned=function(n){return Yn(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Tt(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?Tt(this.high,0,this.unsigned):Tt(this.high>>>n-32,0,this.unsigned)};ge.shru=ge.shiftRightUnsigned;ge.shr_u=ge.shiftRightUnsigned;ge.rotateLeft=function(n){var a;return Yn(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Tt(this.high,this.low,this.unsigned):n<32?(a=32-n,Tt(this.low<<n|this.high>>>a,this.high<<n|this.low>>>a,this.unsigned)):(n-=32,a=32-n,Tt(this.high<<n|this.low>>>a,this.low<<n|this.high>>>a,this.unsigned))};ge.rotl=ge.rotateLeft;ge.rotateRight=function(n){var a;return Yn(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Tt(this.high,this.low,this.unsigned):n<32?(a=32-n,Tt(this.high<<a|this.low>>>n,this.low<<a|this.high>>>n,this.unsigned)):(n-=32,a=32-n,Tt(this.low<<a|this.high>>>n,this.high<<a|this.low>>>n,this.unsigned))};ge.rotr=ge.rotateRight;ge.toSigned=function(){return this.unsigned?Tt(this.low,this.high,!1):this};ge.toUnsigned=function(){return this.unsigned?this:Tt(this.low,this.high,!0)};ge.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};ge.toBytesLE=function(){var n=this.high,a=this.low;return[a&255,a>>>8&255,a>>>16&255,a>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};ge.toBytesBE=function(){var n=this.high,a=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,a>>>24,a>>>16&255,a>>>8&255,a&255]};vt.fromBytes=function(n,a,t){return t?vt.fromBytesLE(n,a):vt.fromBytesBE(n,a)};vt.fromBytesLE=function(n,a){return new vt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,a)};vt.fromBytesBE=function(n,a){return new vt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],a)};typeof BigInt=="function"&&(vt.fromBigInt=function(n,a){var t=Number(BigInt.asIntN(32,n)),r=Number(BigInt.asIntN(32,n>>BigInt(32)));return Tt(t,r,a)},vt.fromValue=function(n,a){return typeof n=="bigint"?vt.fromBigInt(n,a):jo(n,a)},ge.toBigInt=function(){var n=BigInt(this.low>>>0),a=BigInt(this.unsigned?this.high>>>0:this.high);return a<<BigInt(32)|n});var Fh=vt;var Ma=we(Pe());function EA(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[],showOnlyWearables:void 0}}var ks;(function(e){function n(t,r=Ma.default.Writer.create()){t.id!==""&&r.uint32(10).string(t.id),t.name!==void 0&&r.uint32(18).string(t.name),t.bodyShape!==void 0&&r.uint32(26).string(t.bodyShape),t.skinColor!==void 0&&bt.encode(t.skinColor,r.uint32(34).fork()).ldelim(),t.hairColor!==void 0&&bt.encode(t.hairColor,r.uint32(42).fork()).ldelim(),t.eyeColor!==void 0&&bt.encode(t.eyeColor,r.uint32(50).fork()).ldelim(),t.expressionTriggerId!==void 0&&r.uint32(58).string(t.expressionTriggerId),t.expressionTriggerTimestamp!==void 0&&r.uint32(64).int64(t.expressionTriggerTimestamp),t.talking!==void 0&&r.uint32(72).bool(t.talking);for(let o of t.wearables)r.uint32(82).string(o);for(let o of t.emotes)r.uint32(90).string(o);return t.showOnlyWearables!==void 0&&r.uint32(96).bool(t.showOnlyWearables),r}e.encode=n;function a(t,r){let o=t instanceof Ma.default.Reader?t:Ma.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=EA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.id=o.string();continue;case 2:if(c!==18)break;u.name=o.string();continue;case 3:if(c!==26)break;u.bodyShape=o.string();continue;case 4:if(c!==34)break;u.skinColor=bt.decode(o,o.uint32());continue;case 5:if(c!==42)break;u.hairColor=bt.decode(o,o.uint32());continue;case 6:if(c!==50)break;u.eyeColor=bt.decode(o,o.uint32());continue;case 7:if(c!==58)break;u.expressionTriggerId=o.string();continue;case 8:if(c!==64)break;u.expressionTriggerTimestamp=SA(o.int64());continue;case 9:if(c!==72)break;u.talking=o.bool();continue;case 10:if(c!==82)break;u.wearables.push(o.string());continue;case 11:if(c!==90)break;u.emotes.push(o.string());continue;case 12:if(c!==96)break;u.showOnlyWearables=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(ks||(ks={}));var TA=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function SA(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new TA.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}Ma.default.util.Long!==Fh&&(Ma.default.util.Long=Fh,Ma.default.configure());var HT={COMPONENT_ID:1080,serialize(e,n){let a=ks.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return ks.decode(e.buffer(),e.remainingBytes())},create(){return ks.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}};var Mf=we(Pe());var VT;(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(VT||(VT={}));function _A(){return{billboardMode:void 0}}var Os;(function(e){function n(t,r=Mf.default.Writer.create()){return t.billboardMode!==void 0&&r.uint32(8).int32(t.billboardMode),r}e.encode=n;function a(t,r){let o=t instanceof Mf.default.Reader?t:Mf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=_A();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.billboardMode=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Os||(Os={}));var GT={COMPONENT_ID:1090,serialize(e,n){let a=Os.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Os.decode(e.buffer(),e.remainingBytes())},create(){return Os.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};var Pf=we(Pe());function xA(){return{mode:0}}var ws;(function(e){function n(t,r=Pf.default.Writer.create()){return t.mode!==0&&r.uint32(8).int32(t.mode),r}e.encode=n;function a(t,r){let o=t instanceof Pf.default.Reader?t:Pf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=xA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.mode=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(ws||(ws={}));var YT={COMPONENT_ID:1072,serialize(e,n){let a=ws.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return ws.decode(e.buffer(),e.remainingBytes())},create(){return ws.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};var zf=we(Pe());function bA(){return{area:void 0,mode:0}}var Ms;(function(e){function n(t,r=zf.default.Writer.create()){return t.area!==void 0&&He.encode(t.area,r.uint32(10).fork()).ldelim(),t.mode!==0&&r.uint32(16).int32(t.mode),r}e.encode=n;function a(t,r){let o=t instanceof zf.default.Reader?t:zf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=bA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.area=He.decode(o,o.uint32());continue;case 2:if(c!==16)break;u.mode=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ms||(Ms={}));var qT={COMPONENT_ID:1071,serialize(e,n){let a=Ms.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ms.decode(e.buffer(),e.remainingBytes())},create(){return Ms.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};var Lf=we(Pe());function AA(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var Ps;(function(e){function n(t,r=Lf.default.Writer.create()){return t.frameNumber!==0&&r.uint32(8).uint32(t.frameNumber),t.totalRuntime!==0&&r.uint32(21).float(t.totalRuntime),t.tickNumber!==0&&r.uint32(24).uint32(t.tickNumber),r}e.encode=n;function a(t,r){let o=t instanceof Lf.default.Reader?t:Lf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=AA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.frameNumber=o.uint32();continue;case 2:if(c!==21)break;u.totalRuntime=o.float();continue;case 3:if(c!==24)break;u.tickNumber=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ps||(Ps={}));var $T={COMPONENT_ID:1048,serialize(e,n){let a=Ps.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ps.decode(e.buffer(),e.remainingBytes())},create(){return Ps.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};var Bf=we(Pe());function RA(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var zs;(function(e){function n(t,r=Bf.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.visibleMeshesCollisionMask!==void 0&&r.uint32(32).uint32(t.visibleMeshesCollisionMask),t.invisibleMeshesCollisionMask!==void 0&&r.uint32(40).uint32(t.invisibleMeshesCollisionMask),r}e.encode=n;function a(t,r){let o=t instanceof Bf.default.Reader?t:Bf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=RA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.src=o.string();continue;case 4:if(c!==32)break;u.visibleMeshesCollisionMask=o.uint32();continue;case 5:if(c!==40)break;u.invisibleMeshesCollisionMask=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(zs||(zs={}));var JT={COMPONENT_ID:1041,serialize(e,n){let a=zs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return zs.decode(e.buffer(),e.remainingBytes())},create(){return zs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};var Uf=we(Pe());function CA(){return{currentState:0}}var Ls;(function(e){function n(t,r=Uf.default.Writer.create()){return t.currentState!==0&&r.uint32(8).int32(t.currentState),r}e.encode=n;function a(t,r){let o=t instanceof Uf.default.Reader?t:Uf.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=CA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.currentState=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ls||(Ls={}));var KT={COMPONENT_ID:1049,serialize(e,n){let a=Ls.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ls.decode(e.buffer(),e.remainingBytes())},create(){return Ls.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};var Pa=we(Pe());var Mr=we(Pe());var So=we(Pe());var QT;(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(QT||(QT={}));var XT;(function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"})(XT||(XT={}));function NA(){return{src:"",wrapMode:void 0,filterMode:void 0,offset:void 0,tiling:void 0}}var Df;(function(e){function n(t,r=So.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),t.offset!==void 0&&bn.encode(t.offset,r.uint32(34).fork()).ldelim(),t.tiling!==void 0&&bn.encode(t.tiling,r.uint32(42).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof So.default.Reader?t:So.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=NA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.src=o.string();continue;case 2:if(c!==16)break;u.wrapMode=o.int32();continue;case 3:if(c!==24)break;u.filterMode=o.int32();continue;case 4:if(c!==34)break;u.offset=bn.decode(o,o.uint32());continue;case 5:if(c!==42)break;u.tiling=bn.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Df||(Df={}));function IA(){return{userId:"",wrapMode:void 0,filterMode:void 0}}var Wf;(function(e){function n(t,r=So.default.Writer.create()){return t.userId!==""&&r.uint32(10).string(t.userId),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=n;function a(t,r){let o=t instanceof So.default.Reader?t:So.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=IA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.userId=o.string();continue;case 2:if(c!==16)break;u.wrapMode=o.int32();continue;case 3:if(c!==24)break;u.filterMode=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Wf||(Wf={}));function vA(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}var jf;(function(e){function n(t,r=So.default.Writer.create()){return t.videoPlayerEntity!==0&&r.uint32(8).uint32(t.videoPlayerEntity),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=n;function a(t,r){let o=t instanceof So.default.Reader?t:So.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=vA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.videoPlayerEntity=o.uint32();continue;case 2:if(c!==16)break;u.wrapMode=o.int32();continue;case 3:if(c!==24)break;u.filterMode=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(jf||(jf={}));function kA(){return{tex:void 0}}var hn;(function(e){function n(t,r=So.default.Writer.create()){switch(t.tex?.$case){case"texture":Df.encode(t.tex.texture,r.uint32(10).fork()).ldelim();break;case"avatarTexture":Wf.encode(t.tex.avatarTexture,r.uint32(18).fork()).ldelim();break;case"videoTexture":jf.encode(t.tex.videoTexture,r.uint32(26).fork()).ldelim();break}return r}e.encode=n;function a(t,r){let o=t instanceof So.default.Reader?t:So.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=kA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.tex={$case:"texture",texture:Df.decode(o,o.uint32())};continue;case 2:if(c!==18)break;u.tex={$case:"avatarTexture",avatarTexture:Wf.decode(o,o.uint32())};continue;case 3:if(c!==26)break;u.tex={$case:"videoTexture",videoTexture:jf.decode(o,o.uint32())};continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(hn||(hn={}));var ZT;(function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"})(ZT||(ZT={}));function OA(){return{material:void 0}}var ai;(function(e){function n(t,r=Mr.default.Writer.create()){switch(t.material?.$case){case"unlit":Ff.encode(t.material.unlit,r.uint32(10).fork()).ldelim();break;case"pbr":Hf.encode(t.material.pbr,r.uint32(18).fork()).ldelim();break}return r}e.encode=n;function a(t,r){let o=t instanceof Mr.default.Reader?t:Mr.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=OA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.material={$case:"unlit",unlit:Ff.decode(o,o.uint32())};continue;case 2:if(c!==18)break;u.material={$case:"pbr",pbr:Hf.decode(o,o.uint32())};continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(ai||(ai={}));function wA(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0,alphaTexture:void 0}}var Ff;(function(e){function n(t,r=Mr.default.Writer.create()){return t.texture!==void 0&&hn.encode(t.texture,r.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&r.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&r.uint32(24).bool(t.castShadows),t.diffuseColor!==void 0&&Et.encode(t.diffuseColor,r.uint32(34).fork()).ldelim(),t.alphaTexture!==void 0&&hn.encode(t.alphaTexture,r.uint32(42).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof Mr.default.Reader?t:Mr.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=wA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.texture=hn.decode(o,o.uint32());continue;case 2:if(c!==21)break;u.alphaTest=o.float();continue;case 3:if(c!==24)break;u.castShadows=o.bool();continue;case 4:if(c!==34)break;u.diffuseColor=Et.decode(o,o.uint32());continue;case 5:if(c!==42)break;u.alphaTexture=hn.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ff||(Ff={}));function MA(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}var Hf;(function(e){function n(t,r=Mr.default.Writer.create()){return t.texture!==void 0&&hn.encode(t.texture,r.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&r.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&r.uint32(24).bool(t.castShadows),t.alphaTexture!==void 0&&hn.encode(t.alphaTexture,r.uint32(34).fork()).ldelim(),t.emissiveTexture!==void 0&&hn.encode(t.emissiveTexture,r.uint32(42).fork()).ldelim(),t.bumpTexture!==void 0&&hn.encode(t.bumpTexture,r.uint32(50).fork()).ldelim(),t.albedoColor!==void 0&&Et.encode(t.albedoColor,r.uint32(58).fork()).ldelim(),t.emissiveColor!==void 0&&bt.encode(t.emissiveColor,r.uint32(66).fork()).ldelim(),t.reflectivityColor!==void 0&&bt.encode(t.reflectivityColor,r.uint32(74).fork()).ldelim(),t.transparencyMode!==void 0&&r.uint32(80).int32(t.transparencyMode),t.metallic!==void 0&&r.uint32(93).float(t.metallic),t.roughness!==void 0&&r.uint32(101).float(t.roughness),t.specularIntensity!==void 0&&r.uint32(117).float(t.specularIntensity),t.emissiveIntensity!==void 0&&r.uint32(125).float(t.emissiveIntensity),t.directIntensity!==void 0&&r.uint32(133).float(t.directIntensity),r}e.encode=n;function a(t,r){let o=t instanceof Mr.default.Reader?t:Mr.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=MA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.texture=hn.decode(o,o.uint32());continue;case 2:if(c!==21)break;u.alphaTest=o.float();continue;case 3:if(c!==24)break;u.castShadows=o.bool();continue;case 4:if(c!==34)break;u.alphaTexture=hn.decode(o,o.uint32());continue;case 5:if(c!==42)break;u.emissiveTexture=hn.decode(o,o.uint32());continue;case 6:if(c!==50)break;u.bumpTexture=hn.decode(o,o.uint32());continue;case 7:if(c!==58)break;u.albedoColor=Et.decode(o,o.uint32());continue;case 8:if(c!==66)break;u.emissiveColor=bt.decode(o,o.uint32());continue;case 9:if(c!==74)break;u.reflectivityColor=bt.decode(o,o.uint32());continue;case 10:if(c!==80)break;u.transparencyMode=o.int32();continue;case 11:if(c!==93)break;u.metallic=o.float();continue;case 12:if(c!==101)break;u.roughness=o.float();continue;case 14:if(c!==117)break;u.specularIntensity=o.float();continue;case 15:if(c!==125)break;u.emissiveIntensity=o.float();continue;case 16:if(c!==133)break;u.directIntensity=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Hf||(Hf={}));function PA(){return{modifiers:[]}}var Bs;(function(e){function n(t,r=Pa.default.Writer.create()){for(let o of t.modifiers)Vf.encode(o,r.uint32(10).fork()).ldelim();return r}e.encode=n;function a(t,r){let o=t instanceof Pa.default.Reader?t:Pa.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=PA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.modifiers.push(Vf.decode(o,o.uint32()));continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Bs||(Bs={}));function zA(){return{path:"",castShadows:void 0,material:void 0}}var Vf;(function(e){function n(t,r=Pa.default.Writer.create()){return t.path!==""&&r.uint32(10).string(t.path),t.castShadows!==void 0&&r.uint32(16).bool(t.castShadows),t.material!==void 0&&ai.encode(t.material,r.uint32(26).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof Pa.default.Reader?t:Pa.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=zA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.path=o.string();continue;case 2:if(c!==16)break;u.castShadows=o.bool();continue;case 3:if(c!==26)break;u.material=ai.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Vf||(Vf={}));var eS={COMPONENT_ID:1099,serialize(e,n){let a=Bs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Bs.decode(e.buffer(),e.remainingBytes())},create(){return Bs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfNodeModifiers"}};var za=we(Pe());function LA(){return{mode:void 0}}var Us;(function(e){function n(t,r=za.default.Writer.create()){switch(t.mode?.$case){case"standard":Gf.encode(t.mode.standard,r.uint32(10).fork()).ldelim();break}return r}e.encode=n;function a(t,r){let o=t instanceof za.default.Reader?t:za.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=LA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.mode={$case:"standard",standard:Gf.decode(o,o.uint32())};continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Us||(Us={}));function BA(){return{disableAll:void 0,disableWalk:void 0,disableJog:void 0,disableRun:void 0,disableJump:void 0,disableEmote:void 0}}var Gf;(function(e){function n(t,r=za.default.Writer.create()){return t.disableAll!==void 0&&r.uint32(8).bool(t.disableAll),t.disableWalk!==void 0&&r.uint32(16).bool(t.disableWalk),t.disableJog!==void 0&&r.uint32(24).bool(t.disableJog),t.disableRun!==void 0&&r.uint32(32).bool(t.disableRun),t.disableJump!==void 0&&r.uint32(40).bool(t.disableJump),t.disableEmote!==void 0&&r.uint32(48).bool(t.disableEmote),r}e.encode=n;function a(t,r){let o=t instanceof za.default.Reader?t:za.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=BA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.disableAll=o.bool();continue;case 2:if(c!==16)break;u.disableWalk=o.bool();continue;case 3:if(c!==24)break;u.disableJog=o.bool();continue;case 4:if(c!==32)break;u.disableRun=o.bool();continue;case 5:if(c!==40)break;u.disableJump=o.bool();continue;case 6:if(c!==48)break;u.disableEmote=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Gf||(Gf={}));var tS={COMPONENT_ID:1078,serialize(e,n){let a=Us.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Us.decode(e.buffer(),e.remainingBytes())},create(){return Us.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBInputModifier"}};var Pr=we(Pe());function UA(){return{active:void 0,color:void 0,intensity:void 0,range:void 0,shadow:void 0,shadowMaskTexture:void 0,type:void 0}}var Ds;(function(e){function n(t,r=Pr.default.Writer.create()){switch(t.active!==void 0&&r.uint32(8).bool(t.active),t.color!==void 0&&bt.encode(t.color,r.uint32(18).fork()).ldelim(),t.intensity!==void 0&&r.uint32(29).float(t.intensity),t.range!==void 0&&r.uint32(37).float(t.range),t.shadow!==void 0&&r.uint32(40).bool(t.shadow),t.shadowMaskTexture!==void 0&&hn.encode(t.shadowMaskTexture,r.uint32(50).fork()).ldelim(),t.type?.$case){case"point":Yf.encode(t.type.point,r.uint32(58).fork()).ldelim();break;case"spot":qf.encode(t.type.spot,r.uint32(66).fork()).ldelim();break}return r}e.encode=n;function a(t,r){let o=t instanceof Pr.default.Reader?t:Pr.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=UA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.active=o.bool();continue;case 2:if(c!==18)break;u.color=bt.decode(o,o.uint32());continue;case 3:if(c!==29)break;u.intensity=o.float();continue;case 4:if(c!==37)break;u.range=o.float();continue;case 5:if(c!==40)break;u.shadow=o.bool();continue;case 6:if(c!==50)break;u.shadowMaskTexture=hn.decode(o,o.uint32());continue;case 7:if(c!==58)break;u.type={$case:"point",point:Yf.decode(o,o.uint32())};continue;case 8:if(c!==66)break;u.type={$case:"spot",spot:qf.decode(o,o.uint32())};continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ds||(Ds={}));function DA(){return{}}var Yf;(function(e){function n(t,r=Pr.default.Writer.create()){return r}e.encode=n;function a(t,r){let o=t instanceof Pr.default.Reader?t:Pr.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=DA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Yf||(Yf={}));function WA(){return{innerAngle:void 0,outerAngle:void 0}}var qf;(function(e){function n(t,r=Pr.default.Writer.create()){return t.innerAngle!==void 0&&r.uint32(77).float(t.innerAngle),t.outerAngle!==void 0&&r.uint32(85).float(t.outerAngle),r}e.encode=n;function a(t,r){let o=t instanceof Pr.default.Reader?t:Pr.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=WA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 9:if(c!==77)break;u.innerAngle=o.float();continue;case 10:if(c!==85)break;u.outerAngle=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(qf||(qf={}));var nS={COMPONENT_ID:1079,serialize(e,n){let a=Ds.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ds.decode(e.buffer(),e.remainingBytes())},create(){return Ds.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBLightSource"}};var $f=we(Pe());function jA(){return{virtualCameraEntity:void 0}}var Ws;(function(e){function n(t,r=$f.default.Writer.create()){return t.virtualCameraEntity!==void 0&&r.uint32(8).uint32(t.virtualCameraEntity),r}e.encode=n;function a(t,r){let o=t instanceof $f.default.Reader?t:$f.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=jA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.virtualCameraEntity=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ws||(Ws={}));var oS={COMPONENT_ID:1075,serialize(e,n){let a=Ws.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ws.decode(e.buffer(),e.remainingBytes())},create(){return Ws.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMainCamera"}};var rS={COMPONENT_ID:1017,serialize(e,n){let a=ai.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return ai.decode(e.buffer(),e.remainingBytes())},create(){return ai.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}};var qn=we(Pe());var js;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_PLAYER=4]="CL_PLAYER",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(js||(js={}));function FA(){return{collisionMask:void 0,mesh:void 0}}var Fs;(function(e){function n(t,r=qn.default.Writer.create()){switch(t.collisionMask!==void 0&&r.uint32(8).uint32(t.collisionMask),t.mesh?.$case){case"box":Jf.encode(t.mesh.box,r.uint32(18).fork()).ldelim();break;case"sphere":Xf.encode(t.mesh.sphere,r.uint32(26).fork()).ldelim();break;case"cylinder":Kf.encode(t.mesh.cylinder,r.uint32(34).fork()).ldelim();break;case"plane":Qf.encode(t.mesh.plane,r.uint32(42).fork()).ldelim();break}return r}e.encode=n;function a(t,r){let o=t instanceof qn.default.Reader?t:qn.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=FA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.collisionMask=o.uint32();continue;case 2:if(c!==18)break;u.mesh={$case:"box",box:Jf.decode(o,o.uint32())};continue;case 3:if(c!==26)break;u.mesh={$case:"sphere",sphere:Xf.decode(o,o.uint32())};continue;case 4:if(c!==34)break;u.mesh={$case:"cylinder",cylinder:Kf.decode(o,o.uint32())};continue;case 5:if(c!==42)break;u.mesh={$case:"plane",plane:Qf.decode(o,o.uint32())};continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Fs||(Fs={}));function HA(){return{}}var Jf;(function(e){function n(t,r=qn.default.Writer.create()){return r}e.encode=n;function a(t,r){let o=t instanceof qn.default.Reader?t:qn.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=HA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Jf||(Jf={}));function VA(){return{radiusTop:void 0,radiusBottom:void 0}}var Kf;(function(e){function n(t,r=qn.default.Writer.create()){return t.radiusTop!==void 0&&r.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&r.uint32(21).float(t.radiusBottom),r}e.encode=n;function a(t,r){let o=t instanceof qn.default.Reader?t:qn.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=VA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.radiusTop=o.float();continue;case 2:if(c!==21)break;u.radiusBottom=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Kf||(Kf={}));function GA(){return{}}var Qf;(function(e){function n(t,r=qn.default.Writer.create()){return r}e.encode=n;function a(t,r){let o=t instanceof qn.default.Reader?t:qn.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=GA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Qf||(Qf={}));function YA(){return{}}var Xf;(function(e){function n(t,r=qn.default.Writer.create()){return r}e.encode=n;function a(t,r){let o=t instanceof qn.default.Reader?t:qn.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=YA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Xf||(Xf={}));var iS={COMPONENT_ID:1019,serialize(e,n){let a=Fs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Fs.decode(e.buffer(),e.remainingBytes())},create(){return Fs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};var $n=we(Pe());function qA(){return{mesh:void 0}}var Hs;(function(e){function n(t,r=$n.default.Writer.create()){switch(t.mesh?.$case){case"box":Zf.encode(t.mesh.box,r.uint32(10).fork()).ldelim();break;case"sphere":nd.encode(t.mesh.sphere,r.uint32(18).fork()).ldelim();break;case"cylinder":ed.encode(t.mesh.cylinder,r.uint32(26).fork()).ldelim();break;case"plane":td.encode(t.mesh.plane,r.uint32(34).fork()).ldelim();break}return r}e.encode=n;function a(t,r){let o=t instanceof $n.default.Reader?t:$n.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=qA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.mesh={$case:"box",box:Zf.decode(o,o.uint32())};continue;case 2:if(c!==18)break;u.mesh={$case:"sphere",sphere:nd.decode(o,o.uint32())};continue;case 3:if(c!==26)break;u.mesh={$case:"cylinder",cylinder:ed.decode(o,o.uint32())};continue;case 4:if(c!==34)break;u.mesh={$case:"plane",plane:td.decode(o,o.uint32())};continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Hs||(Hs={}));function $A(){return{uvs:[]}}var Zf;(function(e){function n(t,r=$n.default.Writer.create()){r.uint32(10).fork();for(let o of t.uvs)r.float(o);return r.ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof $n.default.Reader?t:$n.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=$A();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c===13){u.uvs.push(o.float());continue}if(c===10){let m=o.uint32()+o.pos;for(;o.pos<m;)u.uvs.push(o.float());continue}break}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Zf||(Zf={}));function JA(){return{radiusTop:void 0,radiusBottom:void 0}}var ed;(function(e){function n(t,r=$n.default.Writer.create()){return t.radiusTop!==void 0&&r.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&r.uint32(21).float(t.radiusBottom),r}e.encode=n;function a(t,r){let o=t instanceof $n.default.Reader?t:$n.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=JA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.radiusTop=o.float();continue;case 2:if(c!==21)break;u.radiusBottom=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(ed||(ed={}));function KA(){return{uvs:[]}}var td;(function(e){function n(t,r=$n.default.Writer.create()){r.uint32(10).fork();for(let o of t.uvs)r.float(o);return r.ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof $n.default.Reader?t:$n.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=KA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c===13){u.uvs.push(o.float());continue}if(c===10){let m=o.uint32()+o.pos;for(;o.pos<m;)u.uvs.push(o.float());continue}break}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(td||(td={}));function QA(){return{}}var nd;(function(e){function n(t,r=$n.default.Writer.create()){return r}e.encode=n;function a(t,r){let o=t instanceof $n.default.Reader?t:$n.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=QA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(nd||(nd={}));var aS={COMPONENT_ID:1018,serialize(e,n){let a=Hs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Hs.decode(e.buffer(),e.remainingBytes())},create(){return Hs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}};var od=we(Pe());var sS;(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(sS||(sS={}));function XA(){return{urn:"",style:void 0,color:void 0}}var Vs;(function(e){function n(t,r=od.default.Writer.create()){return t.urn!==""&&r.uint32(10).string(t.urn),t.style!==void 0&&r.uint32(16).int32(t.style),t.color!==void 0&&bt.encode(t.color,r.uint32(26).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof od.default.Reader?t:od.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=XA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.urn=o.string();continue;case 2:if(c!==16)break;u.style=o.int32();continue;case 3:if(c!==26)break;u.color=bt.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Vs||(Vs={}));var cS={COMPONENT_ID:1040,serialize(e,n){let a=Vs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Vs.decode(e.buffer(),e.remainingBytes())},create(){return Vs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};var rd=we(Pe());function ZA(){return{address:"",isGuest:!1}}var Gs;(function(e){function n(t,r=rd.default.Writer.create()){return t.address!==""&&r.uint32(10).string(t.address),t.isGuest===!0&&r.uint32(24).bool(t.isGuest),r}e.encode=n;function a(t,r){let o=t instanceof rd.default.Reader?t:rd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=ZA();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.address=o.string();continue;case 3:if(c!==24)break;u.isGuest=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Gs||(Gs={}));var uS={COMPONENT_ID:1089,serialize(e,n){let a=Gs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Gs.decode(e.buffer(),e.remainingBytes())},create(){return Gs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPlayerIdentityData"}};var zr=we(Pe());function eR(){return{pointerEvents:[]}}var Ys;(function(e){function n(t,r=zr.default.Writer.create()){for(let o of t.pointerEvents)ad.encode(o,r.uint32(10).fork()).ldelim();return r}e.encode=n;function a(t,r){let o=t instanceof zr.default.Reader?t:zr.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=eR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.pointerEvents.push(ad.decode(o,o.uint32()));continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ys||(Ys={}));function tR(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0,showHighlight:void 0}}var id;(function(e){function n(t,r=zr.default.Writer.create()){return t.button!==void 0&&r.uint32(8).int32(t.button),t.hoverText!==void 0&&r.uint32(18).string(t.hoverText),t.maxDistance!==void 0&&r.uint32(29).float(t.maxDistance),t.showFeedback!==void 0&&r.uint32(32).bool(t.showFeedback),t.showHighlight!==void 0&&r.uint32(40).bool(t.showHighlight),r}e.encode=n;function a(t,r){let o=t instanceof zr.default.Reader?t:zr.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=tR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.button=o.int32();continue;case 2:if(c!==18)break;u.hoverText=o.string();continue;case 3:if(c!==29)break;u.maxDistance=o.float();continue;case 4:if(c!==32)break;u.showFeedback=o.bool();continue;case 5:if(c!==40)break;u.showHighlight=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(id||(id={}));function nR(){return{eventType:0,eventInfo:void 0}}var ad;(function(e){function n(t,r=zr.default.Writer.create()){return t.eventType!==0&&r.uint32(8).int32(t.eventType),t.eventInfo!==void 0&&id.encode(t.eventInfo,r.uint32(18).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof zr.default.Reader?t:zr.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=nR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.eventType=o.int32();continue;case 2:if(c!==18)break;u.eventInfo=id.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(ad||(ad={}));var lS={COMPONENT_ID:1062,serialize(e,n){let a=Ys.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ys.decode(e.buffer(),e.remainingBytes())},create(){return Ys.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};var cd=we(Pe());var sd=we(Pe());function oR(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var Fi;(function(e){function n(t,r=sd.default.Writer.create()){return t.position!==void 0&&He.encode(t.position,r.uint32(10).fork()).ldelim(),t.globalOrigin!==void 0&&He.encode(t.globalOrigin,r.uint32(18).fork()).ldelim(),t.direction!==void 0&&He.encode(t.direction,r.uint32(26).fork()).ldelim(),t.normalHit!==void 0&&He.encode(t.normalHit,r.uint32(34).fork()).ldelim(),t.length!==0&&r.uint32(45).float(t.length),t.meshName!==void 0&&r.uint32(50).string(t.meshName),t.entityId!==void 0&&r.uint32(56).uint32(t.entityId),r}e.encode=n;function a(t,r){let o=t instanceof sd.default.Reader?t:sd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=oR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.position=He.decode(o,o.uint32());continue;case 2:if(c!==18)break;u.globalOrigin=He.decode(o,o.uint32());continue;case 3:if(c!==26)break;u.direction=He.decode(o,o.uint32());continue;case 4:if(c!==34)break;u.normalHit=He.decode(o,o.uint32());continue;case 5:if(c!==45)break;u.length=o.float();continue;case 6:if(c!==50)break;u.meshName=o.string();continue;case 7:if(c!==56)break;u.entityId=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Fi||(Fi={}));function rR(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}var qs;(function(e){function n(t,r=cd.default.Writer.create()){return t.button!==0&&r.uint32(8).int32(t.button),t.hit!==void 0&&Fi.encode(t.hit,r.uint32(18).fork()).ldelim(),t.state!==0&&r.uint32(32).int32(t.state),t.timestamp!==0&&r.uint32(40).uint32(t.timestamp),t.analog!==void 0&&r.uint32(53).float(t.analog),t.tickNumber!==0&&r.uint32(56).uint32(t.tickNumber),r}e.encode=n;function a(t,r){let o=t instanceof cd.default.Reader?t:cd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=rR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.button=o.int32();continue;case 2:if(c!==18)break;u.hit=Fi.decode(o,o.uint32());continue;case 4:if(c!==32)break;u.state=o.int32();continue;case 5:if(c!==40)break;u.timestamp=o.uint32();continue;case 6:if(c!==53)break;u.analog=o.float();continue;case 7:if(c!==56)break;u.tickNumber=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(qs||(qs={}));var fS={COMPONENT_ID:1063,serialize(e,n){let a=qs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return qs.decode(e.buffer(),e.remainingBytes())},create(){return qs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};var ud=we(Pe());function iR(){return{isPointerLocked:!1}}var $s;(function(e){function n(t,r=ud.default.Writer.create()){return t.isPointerLocked===!0&&r.uint32(8).bool(t.isPointerLocked),r}e.encode=n;function a(t,r){let o=t instanceof ud.default.Reader?t:ud.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=iR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.isPointerLocked=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})($s||($s={}));var dS={COMPONENT_ID:1074,serialize(e,n){let a=$s.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return $s.decode(e.buffer(),e.remainingBytes())},create(){return $s.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}};var ld=we(Pe());var pS;(function(e){e[e.POT_NONE=0]="POT_NONE",e[e.POT_MOUSE=1]="POT_MOUSE"})(pS||(pS={}));function aR(){return{pointerType:void 0,screenCoordinates:void 0,screenDelta:void 0,worldRayDirection:void 0}}var Js;(function(e){function n(t,r=ld.default.Writer.create()){return t.pointerType!==void 0&&r.uint32(8).int32(t.pointerType),t.screenCoordinates!==void 0&&bn.encode(t.screenCoordinates,r.uint32(18).fork()).ldelim(),t.screenDelta!==void 0&&bn.encode(t.screenDelta,r.uint32(26).fork()).ldelim(),t.worldRayDirection!==void 0&&He.encode(t.worldRayDirection,r.uint32(34).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof ld.default.Reader?t:ld.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=aR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.pointerType=o.int32();continue;case 2:if(c!==18)break;u.screenCoordinates=bn.decode(o,o.uint32());continue;case 3:if(c!==26)break;u.screenDelta=bn.decode(o,o.uint32());continue;case 4:if(c!==34)break;u.worldRayDirection=He.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Js||(Js={}));var mS={COMPONENT_ID:1209,serialize(e,n){let a=Js.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Js.decode(e.buffer(),e.remainingBytes())},create(){return Js.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPrimaryPointerInfo"}};var fd=we(Pe());var hS;(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})(hS||(hS={}));function sR(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}var Ks;(function(e){function n(t,r=fd.default.Writer.create()){switch(t.timestamp!==void 0&&r.uint32(8).uint32(t.timestamp),t.originOffset!==void 0&&He.encode(t.originOffset,r.uint32(18).fork()).ldelim(),t.direction?.$case){case"localDirection":He.encode(t.direction.localDirection,r.uint32(50).fork()).ldelim();break;case"globalDirection":He.encode(t.direction.globalDirection,r.uint32(26).fork()).ldelim();break;case"globalTarget":He.encode(t.direction.globalTarget,r.uint32(58).fork()).ldelim();break;case"targetEntity":r.uint32(80).uint32(t.direction.targetEntity);break}return t.maxDistance!==0&&r.uint32(37).float(t.maxDistance),t.queryType!==0&&r.uint32(40).int32(t.queryType),t.continuous!==void 0&&r.uint32(64).bool(t.continuous),t.collisionMask!==void 0&&r.uint32(72).uint32(t.collisionMask),r}e.encode=n;function a(t,r){let o=t instanceof fd.default.Reader?t:fd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=sR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.timestamp=o.uint32();continue;case 2:if(c!==18)break;u.originOffset=He.decode(o,o.uint32());continue;case 6:if(c!==50)break;u.direction={$case:"localDirection",localDirection:He.decode(o,o.uint32())};continue;case 3:if(c!==26)break;u.direction={$case:"globalDirection",globalDirection:He.decode(o,o.uint32())};continue;case 7:if(c!==58)break;u.direction={$case:"globalTarget",globalTarget:He.decode(o,o.uint32())};continue;case 10:if(c!==80)break;u.direction={$case:"targetEntity",targetEntity:o.uint32()};continue;case 4:if(c!==37)break;u.maxDistance=o.float();continue;case 5:if(c!==40)break;u.queryType=o.int32();continue;case 8:if(c!==64)break;u.continuous=o.bool();continue;case 9:if(c!==72)break;u.collisionMask=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ks||(Ks={}));var yS={COMPONENT_ID:1067,serialize(e,n){let a=Ks.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Ks.decode(e.buffer(),e.remainingBytes())},create(){return Ks.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};var dd=we(Pe());function cR(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var Qs;(function(e){function n(t,r=dd.default.Writer.create()){t.timestamp!==void 0&&r.uint32(8).uint32(t.timestamp),t.globalOrigin!==void 0&&He.encode(t.globalOrigin,r.uint32(18).fork()).ldelim(),t.direction!==void 0&&He.encode(t.direction,r.uint32(26).fork()).ldelim();for(let o of t.hits)Fi.encode(o,r.uint32(34).fork()).ldelim();return t.tickNumber!==0&&r.uint32(40).uint32(t.tickNumber),r}e.encode=n;function a(t,r){let o=t instanceof dd.default.Reader?t:dd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=cR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.timestamp=o.uint32();continue;case 2:if(c!==18)break;u.globalOrigin=He.decode(o,o.uint32());continue;case 3:if(c!==26)break;u.direction=He.decode(o,o.uint32());continue;case 4:if(c!==34)break;u.hits.push(Fi.decode(o,o.uint32()));continue;case 5:if(c!==40)break;u.tickNumber=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Qs||(Qs={}));var gS={COMPONENT_ID:1068,serialize(e,n){let a=Qs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Qs.decode(e.buffer(),e.remainingBytes())},create(){return Qs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};var pd=we(Pe());function uR(){return{baseUrl:"",realmName:"",networkId:0,commsAdapter:"",isPreview:!1,room:void 0,isConnectedSceneRoom:void 0}}var Xs;(function(e){function n(t,r=pd.default.Writer.create()){return t.baseUrl!==""&&r.uint32(10).string(t.baseUrl),t.realmName!==""&&r.uint32(18).string(t.realmName),t.networkId!==0&&r.uint32(24).int32(t.networkId),t.commsAdapter!==""&&r.uint32(34).string(t.commsAdapter),t.isPreview===!0&&r.uint32(40).bool(t.isPreview),t.room!==void 0&&r.uint32(50).string(t.room),t.isConnectedSceneRoom!==void 0&&r.uint32(56).bool(t.isConnectedSceneRoom),r}e.encode=n;function a(t,r){let o=t instanceof pd.default.Reader?t:pd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=uR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.baseUrl=o.string();continue;case 2:if(c!==18)break;u.realmName=o.string();continue;case 3:if(c!==24)break;u.networkId=o.int32();continue;case 4:if(c!==34)break;u.commsAdapter=o.string();continue;case 5:if(c!==40)break;u.isPreview=o.bool();continue;case 6:if(c!==50)break;u.room=o.string();continue;case 7:if(c!==56)break;u.isConnectedSceneRoom=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Xs||(Xs={}));var ES={COMPONENT_ID:1106,serialize(e,n){let a=Xs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Xs.decode(e.buffer(),e.remainingBytes())},create(){return Xs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRealmInfo"}};var md=we(Pe());var TS;(function(e){e[e.TM_FORWARD=0]="TM_FORWARD",e[e.TM_BACKWARD=1]="TM_BACKWARD"})(TS||(TS={}));function lR(){return{fixedTime:0,transitionMode:void 0}}var Zs;(function(e){function n(t,r=md.default.Writer.create()){return t.fixedTime!==0&&r.uint32(8).uint32(t.fixedTime),t.transitionMode!==void 0&&r.uint32(16).int32(t.transitionMode),r}e.encode=n;function a(t,r){let o=t instanceof md.default.Reader?t:md.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=lR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.fixedTime=o.uint32();continue;case 2:if(c!==16)break;u.transitionMode=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Zs||(Zs={}));var SS={COMPONENT_ID:1210,serialize(e,n){let a=Zs.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return Zs.decode(e.buffer(),e.remainingBytes())},create(){return Zs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBSkyboxTime"}};var hd=we(Pe());function fR(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var ec;(function(e){function n(t,r=hd.default.Writer.create()){return t.text!==""&&r.uint32(10).string(t.text),t.font!==void 0&&r.uint32(16).int32(t.font),t.fontSize!==void 0&&r.uint32(29).float(t.fontSize),t.fontAutoSize!==void 0&&r.uint32(32).bool(t.fontAutoSize),t.textAlign!==void 0&&r.uint32(40).int32(t.textAlign),t.width!==void 0&&r.uint32(53).float(t.width),t.height!==void 0&&r.uint32(61).float(t.height),t.paddingTop!==void 0&&r.uint32(69).float(t.paddingTop),t.paddingRight!==void 0&&r.uint32(77).float(t.paddingRight),t.paddingBottom!==void 0&&r.uint32(85).float(t.paddingBottom),t.paddingLeft!==void 0&&r.uint32(93).float(t.paddingLeft),t.lineSpacing!==void 0&&r.uint32(101).float(t.lineSpacing),t.lineCount!==void 0&&r.uint32(104).int32(t.lineCount),t.textWrapping!==void 0&&r.uint32(112).bool(t.textWrapping),t.shadowBlur!==void 0&&r.uint32(125).float(t.shadowBlur),t.shadowOffsetX!==void 0&&r.uint32(133).float(t.shadowOffsetX),t.shadowOffsetY!==void 0&&r.uint32(141).float(t.shadowOffsetY),t.outlineWidth!==void 0&&r.uint32(149).float(t.outlineWidth),t.shadowColor!==void 0&&bt.encode(t.shadowColor,r.uint32(154).fork()).ldelim(),t.outlineColor!==void 0&&bt.encode(t.outlineColor,r.uint32(162).fork()).ldelim(),t.textColor!==void 0&&Et.encode(t.textColor,r.uint32(170).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof hd.default.Reader?t:hd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=fR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.text=o.string();continue;case 2:if(c!==16)break;u.font=o.int32();continue;case 3:if(c!==29)break;u.fontSize=o.float();continue;case 4:if(c!==32)break;u.fontAutoSize=o.bool();continue;case 5:if(c!==40)break;u.textAlign=o.int32();continue;case 6:if(c!==53)break;u.width=o.float();continue;case 7:if(c!==61)break;u.height=o.float();continue;case 8:if(c!==69)break;u.paddingTop=o.float();continue;case 9:if(c!==77)break;u.paddingRight=o.float();continue;case 10:if(c!==85)break;u.paddingBottom=o.float();continue;case 11:if(c!==93)break;u.paddingLeft=o.float();continue;case 12:if(c!==101)break;u.lineSpacing=o.float();continue;case 13:if(c!==104)break;u.lineCount=o.int32();continue;case 14:if(c!==112)break;u.textWrapping=o.bool();continue;case 15:if(c!==125)break;u.shadowBlur=o.float();continue;case 16:if(c!==133)break;u.shadowOffsetX=o.float();continue;case 17:if(c!==141)break;u.shadowOffsetY=o.float();continue;case 18:if(c!==149)break;u.outlineWidth=o.float();continue;case 19:if(c!==154)break;u.shadowColor=bt.decode(o,o.uint32());continue;case 20:if(c!==162)break;u.outlineColor=bt.decode(o,o.uint32());continue;case 21:if(c!==170)break;u.textColor=Et.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(ec||(ec={}));var _S={COMPONENT_ID:1030,serialize(e,n){let a=ec.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return ec.decode(e.buffer(),e.remainingBytes())},create(){return ec.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}};var yd=we(Pe());var xS;(function(e){e[e.TAMT_BOX=0]="TAMT_BOX",e[e.TAMT_SPHERE=1]="TAMT_SPHERE"})(xS||(xS={}));function dR(){return{mesh:void 0,collisionMask:void 0}}var tc;(function(e){function n(t,r=yd.default.Writer.create()){return t.mesh!==void 0&&r.uint32(8).int32(t.mesh),t.collisionMask!==void 0&&r.uint32(16).uint32(t.collisionMask),r}e.encode=n;function a(t,r){let o=t instanceof yd.default.Reader?t:yd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=dR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.mesh=o.int32();continue;case 2:if(c!==16)break;u.collisionMask=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(tc||(tc={}));var bS={COMPONENT_ID:1060,serialize(e,n){let a=tc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return tc.decode(e.buffer(),e.remainingBytes())},create(){return tc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTriggerArea"}};var La=we(Pe());var AS;(function(e){e[e.TAET_ENTER=0]="TAET_ENTER",e[e.TAET_STAY=1]="TAET_STAY",e[e.TAET_EXIT=2]="TAET_EXIT"})(AS||(AS={}));function pR(){return{triggeredEntity:0,triggeredEntityPosition:void 0,triggeredEntityRotation:void 0,eventType:0,timestamp:0,trigger:void 0}}var nc;(function(e){function n(t,r=La.default.Writer.create()){return t.triggeredEntity!==0&&r.uint32(8).uint32(t.triggeredEntity),t.triggeredEntityPosition!==void 0&&He.encode(t.triggeredEntityPosition,r.uint32(18).fork()).ldelim(),t.triggeredEntityRotation!==void 0&&co.encode(t.triggeredEntityRotation,r.uint32(26).fork()).ldelim(),t.eventType!==0&&r.uint32(32).int32(t.eventType),t.timestamp!==0&&r.uint32(40).uint32(t.timestamp),t.trigger!==void 0&&gd.encode(t.trigger,r.uint32(50).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof La.default.Reader?t:La.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=pR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.triggeredEntity=o.uint32();continue;case 2:if(c!==18)break;u.triggeredEntityPosition=He.decode(o,o.uint32());continue;case 3:if(c!==26)break;u.triggeredEntityRotation=co.decode(o,o.uint32());continue;case 4:if(c!==32)break;u.eventType=o.int32();continue;case 5:if(c!==40)break;u.timestamp=o.uint32();continue;case 6:if(c!==50)break;u.trigger=gd.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(nc||(nc={}));function mR(){return{entity:0,layers:0,position:void 0,rotation:void 0,scale:void 0}}var gd;(function(e){function n(t,r=La.default.Writer.create()){return t.entity!==0&&r.uint32(8).uint32(t.entity),t.layers!==0&&r.uint32(16).uint32(t.layers),t.position!==void 0&&He.encode(t.position,r.uint32(26).fork()).ldelim(),t.rotation!==void 0&&co.encode(t.rotation,r.uint32(34).fork()).ldelim(),t.scale!==void 0&&He.encode(t.scale,r.uint32(42).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof La.default.Reader?t:La.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=mR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.entity=o.uint32();continue;case 2:if(c!==16)break;u.layers=o.uint32();continue;case 3:if(c!==26)break;u.position=He.decode(o,o.uint32());continue;case 4:if(c!==34)break;u.rotation=co.decode(o,o.uint32());continue;case 5:if(c!==42)break;u.scale=He.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(gd||(gd={}));var RS={COMPONENT_ID:1061,serialize(e,n){let a=nc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return nc.decode(e.buffer(),e.remainingBytes())},create(){return nc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTriggerAreaResult"}};var Yt=we(Pe());var CS;(function(e){e[e.TMT_OFFSET=0]="TMT_OFFSET",e[e.TMT_TILING=1]="TMT_TILING"})(CS||(CS={}));var NS;(function(e){e[e.EF_LINEAR=0]="EF_LINEAR",e[e.EF_EASEINQUAD=1]="EF_EASEINQUAD",e[e.EF_EASEOUTQUAD=2]="EF_EASEOUTQUAD",e[e.EF_EASEQUAD=3]="EF_EASEQUAD",e[e.EF_EASEINSINE=4]="EF_EASEINSINE",e[e.EF_EASEOUTSINE=5]="EF_EASEOUTSINE",e[e.EF_EASESINE=6]="EF_EASESINE",e[e.EF_EASEINEXPO=7]="EF_EASEINEXPO",e[e.EF_EASEOUTEXPO=8]="EF_EASEOUTEXPO",e[e.EF_EASEEXPO=9]="EF_EASEEXPO",e[e.EF_EASEINELASTIC=10]="EF_EASEINELASTIC",e[e.EF_EASEOUTELASTIC=11]="EF_EASEOUTELASTIC",e[e.EF_EASEELASTIC=12]="EF_EASEELASTIC",e[e.EF_EASEINBOUNCE=13]="EF_EASEINBOUNCE",e[e.EF_EASEOUTBOUNCE=14]="EF_EASEOUTBOUNCE",e[e.EF_EASEBOUNCE=15]="EF_EASEBOUNCE",e[e.EF_EASEINCUBIC=16]="EF_EASEINCUBIC",e[e.EF_EASEOUTCUBIC=17]="EF_EASEOUTCUBIC",e[e.EF_EASECUBIC=18]="EF_EASECUBIC",e[e.EF_EASEINQUART=19]="EF_EASEINQUART",e[e.EF_EASEOUTQUART=20]="EF_EASEOUTQUART",e[e.EF_EASEQUART=21]="EF_EASEQUART",e[e.EF_EASEINQUINT=22]="EF_EASEINQUINT",e[e.EF_EASEOUTQUINT=23]="EF_EASEOUTQUINT",e[e.EF_EASEQUINT=24]="EF_EASEQUINT",e[e.EF_EASEINCIRC=25]="EF_EASEINCIRC",e[e.EF_EASEOUTCIRC=26]="EF_EASEOUTCIRC",e[e.EF_EASECIRC=27]="EF_EASECIRC",e[e.EF_EASEINBACK=28]="EF_EASEINBACK",e[e.EF_EASEOUTBACK=29]="EF_EASEOUTBACK",e[e.EF_EASEBACK=30]="EF_EASEBACK"})(NS||(NS={}));function hR(){return{duration:0,easingFunction:0,mode:void 0,playing:void 0,currentTime:void 0}}var si;(function(e){function n(t,r=Yt.default.Writer.create()){switch(t.duration!==0&&r.uint32(13).float(t.duration),t.easingFunction!==0&&r.uint32(16).int32(t.easingFunction),t.mode?.$case){case"move":Ed.encode(t.mode.move,r.uint32(26).fork()).ldelim();break;case"rotate":Td.encode(t.mode.rotate,r.uint32(34).fork()).ldelim();break;case"scale":Sd.encode(t.mode.scale,r.uint32(42).fork()).ldelim();break;case"textureMove":_d.encode(t.mode.textureMove,r.uint32(66).fork()).ldelim();break;case"rotateContinuous":xd.encode(t.mode.rotateContinuous,r.uint32(74).fork()).ldelim();break;case"moveContinuous":bd.encode(t.mode.moveContinuous,r.uint32(82).fork()).ldelim();break;case"textureMoveContinuous":Ad.encode(t.mode.textureMoveContinuous,r.uint32(90).fork()).ldelim();break}return t.playing!==void 0&&r.uint32(48).bool(t.playing),t.currentTime!==void 0&&r.uint32(61).float(t.currentTime),r}e.encode=n;function a(t,r){let o=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=hR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.duration=o.float();continue;case 2:if(c!==16)break;u.easingFunction=o.int32();continue;case 3:if(c!==26)break;u.mode={$case:"move",move:Ed.decode(o,o.uint32())};continue;case 4:if(c!==34)break;u.mode={$case:"rotate",rotate:Td.decode(o,o.uint32())};continue;case 5:if(c!==42)break;u.mode={$case:"scale",scale:Sd.decode(o,o.uint32())};continue;case 8:if(c!==66)break;u.mode={$case:"textureMove",textureMove:_d.decode(o,o.uint32())};continue;case 9:if(c!==74)break;u.mode={$case:"rotateContinuous",rotateContinuous:xd.decode(o,o.uint32())};continue;case 10:if(c!==82)break;u.mode={$case:"moveContinuous",moveContinuous:bd.decode(o,o.uint32())};continue;case 11:if(c!==90)break;u.mode={$case:"textureMoveContinuous",textureMoveContinuous:Ad.decode(o,o.uint32())};continue;case 6:if(c!==48)break;u.playing=o.bool();continue;case 7:if(c!==61)break;u.currentTime=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(si||(si={}));function yR(){return{start:void 0,end:void 0,faceDirection:void 0}}var Ed;(function(e){function n(t,r=Yt.default.Writer.create()){return t.start!==void 0&&He.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&He.encode(t.end,r.uint32(18).fork()).ldelim(),t.faceDirection!==void 0&&r.uint32(24).bool(t.faceDirection),r}e.encode=n;function a(t,r){let o=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=yR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.start=He.decode(o,o.uint32());continue;case 2:if(c!==18)break;u.end=He.decode(o,o.uint32());continue;case 3:if(c!==24)break;u.faceDirection=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ed||(Ed={}));function gR(){return{start:void 0,end:void 0}}var Td;(function(e){function n(t,r=Yt.default.Writer.create()){return t.start!==void 0&&co.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&co.encode(t.end,r.uint32(18).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=gR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.start=co.decode(o,o.uint32());continue;case 2:if(c!==18)break;u.end=co.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Td||(Td={}));function ER(){return{start:void 0,end:void 0}}var Sd;(function(e){function n(t,r=Yt.default.Writer.create()){return t.start!==void 0&&He.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&He.encode(t.end,r.uint32(18).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=ER();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.start=He.decode(o,o.uint32());continue;case 2:if(c!==18)break;u.end=He.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Sd||(Sd={}));function TR(){return{start:void 0,end:void 0,movementType:void 0}}var _d;(function(e){function n(t,r=Yt.default.Writer.create()){return t.start!==void 0&&bn.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&bn.encode(t.end,r.uint32(18).fork()).ldelim(),t.movementType!==void 0&&r.uint32(24).int32(t.movementType),r}e.encode=n;function a(t,r){let o=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=TR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.start=bn.decode(o,o.uint32());continue;case 2:if(c!==18)break;u.end=bn.decode(o,o.uint32());continue;case 3:if(c!==24)break;u.movementType=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(_d||(_d={}));function SR(){return{direction:void 0,speed:0}}var xd;(function(e){function n(t,r=Yt.default.Writer.create()){return t.direction!==void 0&&co.encode(t.direction,r.uint32(10).fork()).ldelim(),t.speed!==0&&r.uint32(21).float(t.speed),r}e.encode=n;function a(t,r){let o=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=SR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.direction=co.decode(o,o.uint32());continue;case 2:if(c!==21)break;u.speed=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(xd||(xd={}));function _R(){return{direction:void 0,speed:0}}var bd;(function(e){function n(t,r=Yt.default.Writer.create()){return t.direction!==void 0&&He.encode(t.direction,r.uint32(10).fork()).ldelim(),t.speed!==0&&r.uint32(21).float(t.speed),r}e.encode=n;function a(t,r){let o=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=_R();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.direction=He.decode(o,o.uint32());continue;case 2:if(c!==21)break;u.speed=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(bd||(bd={}));function xR(){return{direction:void 0,speed:0,movementType:void 0}}var Ad;(function(e){function n(t,r=Yt.default.Writer.create()){return t.direction!==void 0&&bn.encode(t.direction,r.uint32(10).fork()).ldelim(),t.speed!==0&&r.uint32(21).float(t.speed),t.movementType!==void 0&&r.uint32(24).int32(t.movementType),r}e.encode=n;function a(t,r){let o=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=xR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.direction=bn.decode(o,o.uint32());continue;case 2:if(c!==21)break;u.speed=o.float();continue;case 3:if(c!==24)break;u.movementType=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Ad||(Ad={}));var IS={COMPONENT_ID:1102,serialize(e,n){let a=si.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return si.decode(e.buffer(),e.remainingBytes())},create(){return si.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTween"}};var Rd=we(Pe());var vS;(function(e){e[e.TL_RESTART=0]="TL_RESTART",e[e.TL_YOYO=1]="TL_YOYO"})(vS||(vS={}));function bR(){return{sequence:[],loop:void 0}}var oc;(function(e){function n(t,r=Rd.default.Writer.create()){for(let o of t.sequence)si.encode(o,r.uint32(10).fork()).ldelim();return t.loop!==void 0&&r.uint32(16).int32(t.loop),r}e.encode=n;function a(t,r){let o=t instanceof Rd.default.Reader?t:Rd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=bR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.sequence.push(si.decode(o,o.uint32()));continue;case 2:if(c!==16)break;u.loop=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(oc||(oc={}));var kS={COMPONENT_ID:1104,serialize(e,n){let a=oc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return oc.decode(e.buffer(),e.remainingBytes())},create(){return oc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenSequence"}};var Cd=we(Pe());var OS;(function(e){e[e.TS_ACTIVE=0]="TS_ACTIVE",e[e.TS_COMPLETED=1]="TS_COMPLETED",e[e.TS_PAUSED=2]="TS_PAUSED"})(OS||(OS={}));function AR(){return{state:0,currentTime:0}}var rc;(function(e){function n(t,r=Cd.default.Writer.create()){return t.state!==0&&r.uint32(8).int32(t.state),t.currentTime!==0&&r.uint32(21).float(t.currentTime),r}e.encode=n;function a(t,r){let o=t instanceof Cd.default.Reader?t:Cd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=AR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.state=o.int32();continue;case 2:if(c!==21)break;u.currentTime=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(rc||(rc={}));var wS={COMPONENT_ID:1103,serialize(e,n){let a=rc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return rc.decode(e.buffer(),e.remainingBytes())},create(){return rc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenState"}};var Nd=we(Pe());var Ba=we(Pe());function RR(){return{top:0,left:0,right:0,bottom:0}}var Hi;(function(e){function n(t,r=Ba.default.Writer.create()){return t.top!==0&&r.uint32(13).float(t.top),t.left!==0&&r.uint32(21).float(t.left),t.right!==0&&r.uint32(29).float(t.right),t.bottom!==0&&r.uint32(37).float(t.bottom),r}e.encode=n;function a(t,r){let o=t instanceof Ba.default.Reader?t:Ba.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=RR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.top=o.float();continue;case 2:if(c!==21)break;u.left=o.float();continue;case 3:if(c!==29)break;u.right=o.float();continue;case 4:if(c!==37)break;u.bottom=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(Hi||(Hi={}));function CR(){return{x:0,y:0,width:0,height:0}}var MS;(function(e){function n(t,r=Ba.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.width!==0&&r.uint32(29).float(t.width),t.height!==0&&r.uint32(37).float(t.height),r}e.encode=n;function a(t,r){let o=t instanceof Ba.default.Reader?t:Ba.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=CR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=o.float();continue;case 2:if(c!==21)break;u.y=o.float();continue;case 3:if(c!==29)break;u.width=o.float();continue;case 4:if(c!==37)break;u.height=o.float();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(MS||(MS={}));var PS;(function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"})(PS||(PS={}));function NR(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}var ic;(function(e){function n(t,r=Nd.default.Writer.create()){t.color!==void 0&&Et.encode(t.color,r.uint32(10).fork()).ldelim(),t.texture!==void 0&&hn.encode(t.texture,r.uint32(18).fork()).ldelim(),t.textureMode!==0&&r.uint32(24).int32(t.textureMode),t.textureSlices!==void 0&&Hi.encode(t.textureSlices,r.uint32(34).fork()).ldelim(),r.uint32(42).fork();for(let o of t.uvs)r.float(o);return r.ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof Nd.default.Reader?t:Nd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=NR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.color=Et.decode(o,o.uint32());continue;case 2:if(c!==18)break;u.texture=hn.decode(o,o.uint32());continue;case 3:if(c!==24)break;u.textureMode=o.int32();continue;case 4:if(c!==34)break;u.textureSlices=Hi.decode(o,o.uint32());continue;case 5:if(c===45){u.uvs.push(o.float());continue}if(c===42){let m=o.uint32()+o.pos;for(;o.pos<m;)u.uvs.push(o.float());continue}break}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(ic||(ic={}));var zS={COMPONENT_ID:1053,serialize(e,n){let a=ic.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return ic.decode(e.buffer(),e.remainingBytes())},create(){return ic.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};var Id=we(Pe());function IR(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var ac;(function(e){function n(t,r=Id.default.Writer.create()){return t.devicePixelRatio!==0&&r.uint32(13).float(t.devicePixelRatio),t.width!==0&&r.uint32(16).int32(t.width),t.height!==0&&r.uint32(24).int32(t.height),t.interactableArea!==void 0&&Hi.encode(t.interactableArea,r.uint32(34).fork()).ldelim(),r}e.encode=n;function a(t,r){let o=t instanceof Id.default.Reader?t:Id.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=IR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.devicePixelRatio=o.float();continue;case 2:if(c!==16)break;u.width=o.int32();continue;case 3:if(c!==24)break;u.height=o.int32();continue;case 4:if(c!==34)break;u.interactableArea=Hi.decode(o,o.uint32());continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(ac||(ac={}));var LS={COMPONENT_ID:1054,serialize(e,n){let a=ac.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return ac.decode(e.buffer(),e.remainingBytes())},create(){return ac.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};var vd=we(Pe());function vR(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var sc;(function(e){function n(t,r=vd.default.Writer.create()){t.acceptEmpty===!0&&r.uint32(8).bool(t.acceptEmpty),t.emptyLabel!==void 0&&r.uint32(18).string(t.emptyLabel);for(let o of t.options)r.uint32(26).string(o);return t.selectedIndex!==void 0&&r.uint32(32).int32(t.selectedIndex),t.disabled===!0&&r.uint32(40).bool(t.disabled),t.color!==void 0&&Et.encode(t.color,r.uint32(50).fork()).ldelim(),t.textAlign!==void 0&&r.uint32(80).int32(t.textAlign),t.font!==void 0&&r.uint32(88).int32(t.font),t.fontSize!==void 0&&r.uint32(96).int32(t.fontSize),r}e.encode=n;function a(t,r){let o=t instanceof vd.default.Reader?t:vd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=vR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.acceptEmpty=o.bool();continue;case 2:if(c!==18)break;u.emptyLabel=o.string();continue;case 3:if(c!==26)break;u.options.push(o.string());continue;case 4:if(c!==32)break;u.selectedIndex=o.int32();continue;case 5:if(c!==40)break;u.disabled=o.bool();continue;case 6:if(c!==50)break;u.color=Et.decode(o,o.uint32());continue;case 10:if(c!==80)break;u.textAlign=o.int32();continue;case 11:if(c!==88)break;u.font=o.int32();continue;case 12:if(c!==96)break;u.fontSize=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(sc||(sc={}));var BS={COMPONENT_ID:1094,serialize(e,n){let a=sc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return sc.decode(e.buffer(),e.remainingBytes())},create(){return sc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};var kd=we(Pe());function kR(){return{value:0}}var cc;(function(e){function n(t,r=kd.default.Writer.create()){return t.value!==0&&r.uint32(8).int32(t.value),r}e.encode=n;function a(t,r){let o=t instanceof kd.default.Reader?t:kd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=kR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.value=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(cc||(cc={}));var US={COMPONENT_ID:1096,serialize(e,n){let a=cc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return cc.decode(e.buffer(),e.remainingBytes())},create(){return cc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};var Od=we(Pe());function OR(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var uc;(function(e){function n(t,r=Od.default.Writer.create()){return t.placeholder!==""&&r.uint32(10).string(t.placeholder),t.color!==void 0&&Et.encode(t.color,r.uint32(18).fork()).ldelim(),t.placeholderColor!==void 0&&Et.encode(t.placeholderColor,r.uint32(26).fork()).ldelim(),t.disabled===!0&&r.uint32(32).bool(t.disabled),t.textAlign!==void 0&&r.uint32(80).int32(t.textAlign),t.font!==void 0&&r.uint32(88).int32(t.font),t.fontSize!==void 0&&r.uint32(96).int32(t.fontSize),t.value!==void 0&&r.uint32(106).string(t.value),r}e.encode=n;function a(t,r){let o=t instanceof Od.default.Reader?t:Od.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=OR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.placeholder=o.string();continue;case 2:if(c!==18)break;u.color=Et.decode(o,o.uint32());continue;case 3:if(c!==26)break;u.placeholderColor=Et.decode(o,o.uint32());continue;case 4:if(c!==32)break;u.disabled=o.bool();continue;case 10:if(c!==80)break;u.textAlign=o.int32();continue;case 11:if(c!==88)break;u.font=o.int32();continue;case 12:if(c!==96)break;u.fontSize=o.int32();continue;case 13:if(c!==106)break;u.value=o.string();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(uc||(uc={}));var DS={COMPONENT_ID:1093,serialize(e,n){let a=uc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return uc.decode(e.buffer(),e.remainingBytes())},create(){return uc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};var wd=we(Pe());function wR(){return{value:"",isSubmit:void 0}}var lc;(function(e){function n(t,r=wd.default.Writer.create()){return t.value!==""&&r.uint32(10).string(t.value),t.isSubmit!==void 0&&r.uint32(16).bool(t.isSubmit),r}e.encode=n;function a(t,r){let o=t instanceof wd.default.Reader?t:wd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=wR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.value=o.string();continue;case 2:if(c!==16)break;u.isSubmit=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(lc||(lc={}));var WS={COMPONENT_ID:1095,serialize(e,n){let a=lc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return lc.decode(e.buffer(),e.remainingBytes())},create(){return lc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}};var Md=we(Pe());var jS;(function(e){e[e.TW_WRAP=0]="TW_WRAP",e[e.TW_NO_WRAP=1]="TW_NO_WRAP"})(jS||(jS={}));function MR(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0,textWrap:void 0}}var fc;(function(e){function n(t,r=Md.default.Writer.create()){return t.value!==""&&r.uint32(10).string(t.value),t.color!==void 0&&Et.encode(t.color,r.uint32(18).fork()).ldelim(),t.textAlign!==void 0&&r.uint32(24).int32(t.textAlign),t.font!==void 0&&r.uint32(32).int32(t.font),t.fontSize!==void 0&&r.uint32(40).int32(t.fontSize),t.textWrap!==void 0&&r.uint32(48).int32(t.textWrap),r}e.encode=n;function a(t,r){let o=t instanceof Md.default.Reader?t:Md.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=MR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.value=o.string();continue;case 2:if(c!==18)break;u.color=Et.decode(o,o.uint32());continue;case 3:if(c!==24)break;u.textAlign=o.int32();continue;case 4:if(c!==32)break;u.font=o.int32();continue;case 5:if(c!==40)break;u.fontSize=o.int32();continue;case 6:if(c!==48)break;u.textWrap=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(fc||(fc={}));var FS={COMPONENT_ID:1052,serialize(e,n){let a=fc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return fc.decode(e.buffer(),e.remainingBytes())},create(){return fc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}};var Pd=we(Pe());var HS;(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(HS||(HS={}));var VS;(function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"})(VS||(VS={}));var GS;(function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"})(GS||(GS={}));var YS;(function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"})(YS||(YS={}));var qS;(function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"})(qS||(qS={}));var $S;(function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"})($S||($S={}));var JS;(function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"})(JS||(JS={}));var KS;(function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"})(KS||(KS={}));var QS;(function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"})(QS||(QS={}));var XS;(function(e){e[e.PFM_NONE=0]="PFM_NONE",e[e.PFM_BLOCK=1]="PFM_BLOCK"})(XS||(XS={}));function PR(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0,pointerFilter:void 0,borderLeftWidthUnit:void 0,borderLeftWidth:void 0,borderTopWidthUnit:void 0,borderTopWidth:void 0,borderRightWidthUnit:void 0,borderRightWidth:void 0,borderBottomWidthUnit:void 0,borderBottomWidth:void 0,borderTopLeftRadiusUnit:void 0,borderTopLeftRadius:void 0,borderTopRightRadiusUnit:void 0,borderTopRightRadius:void 0,borderBottomLeftRadiusUnit:void 0,borderBottomLeftRadius:void 0,borderBottomRightRadiusUnit:void 0,borderBottomRightRadius:void 0,borderTopColor:void 0,borderBottomColor:void 0,borderLeftColor:void 0,borderRightColor:void 0,opacity:void 0,zIndex:void 0}}var dc;(function(e){function n(t,r=Pd.default.Writer.create()){return t.parent!==0&&r.uint32(8).int32(t.parent),t.rightOf!==0&&r.uint32(16).int32(t.rightOf),t.alignContent!==void 0&&r.uint32(24).int32(t.alignContent),t.alignItems!==void 0&&r.uint32(32).int32(t.alignItems),t.flexWrap!==void 0&&r.uint32(40).int32(t.flexWrap),t.flexShrink!==void 0&&r.uint32(53).float(t.flexShrink),t.positionType!==0&&r.uint32(56).int32(t.positionType),t.alignSelf!==0&&r.uint32(64).int32(t.alignSelf),t.flexDirection!==0&&r.uint32(72).int32(t.flexDirection),t.justifyContent!==0&&r.uint32(80).int32(t.justifyContent),t.overflow!==0&&r.uint32(88).int32(t.overflow),t.display!==0&&r.uint32(96).int32(t.display),t.flexBasisUnit!==0&&r.uint32(104).int32(t.flexBasisUnit),t.flexBasis!==0&&r.uint32(117).float(t.flexBasis),t.flexGrow!==0&&r.uint32(125).float(t.flexGrow),t.widthUnit!==0&&r.uint32(128).int32(t.widthUnit),t.width!==0&&r.uint32(141).float(t.width),t.heightUnit!==0&&r.uint32(144).int32(t.heightUnit),t.height!==0&&r.uint32(157).float(t.height),t.minWidthUnit!==0&&r.uint32(160).int32(t.minWidthUnit),t.minWidth!==0&&r.uint32(173).float(t.minWidth),t.minHeightUnit!==0&&r.uint32(176).int32(t.minHeightUnit),t.minHeight!==0&&r.uint32(189).float(t.minHeight),t.maxWidthUnit!==0&&r.uint32(192).int32(t.maxWidthUnit),t.maxWidth!==0&&r.uint32(205).float(t.maxWidth),t.maxHeightUnit!==0&&r.uint32(208).int32(t.maxHeightUnit),t.maxHeight!==0&&r.uint32(221).float(t.maxHeight),t.positionLeftUnit!==0&&r.uint32(224).int32(t.positionLeftUnit),t.positionLeft!==0&&r.uint32(237).float(t.positionLeft),t.positionTopUnit!==0&&r.uint32(240).int32(t.positionTopUnit),t.positionTop!==0&&r.uint32(253).float(t.positionTop),t.positionRightUnit!==0&&r.uint32(256).int32(t.positionRightUnit),t.positionRight!==0&&r.uint32(269).float(t.positionRight),t.positionBottomUnit!==0&&r.uint32(272).int32(t.positionBottomUnit),t.positionBottom!==0&&r.uint32(285).float(t.positionBottom),t.marginLeftUnit!==0&&r.uint32(288).int32(t.marginLeftUnit),t.marginLeft!==0&&r.uint32(301).float(t.marginLeft),t.marginTopUnit!==0&&r.uint32(304).int32(t.marginTopUnit),t.marginTop!==0&&r.uint32(317).float(t.marginTop),t.marginRightUnit!==0&&r.uint32(320).int32(t.marginRightUnit),t.marginRight!==0&&r.uint32(333).float(t.marginRight),t.marginBottomUnit!==0&&r.uint32(336).int32(t.marginBottomUnit),t.marginBottom!==0&&r.uint32(349).float(t.marginBottom),t.paddingLeftUnit!==0&&r.uint32(352).int32(t.paddingLeftUnit),t.paddingLeft!==0&&r.uint32(365).float(t.paddingLeft),t.paddingTopUnit!==0&&r.uint32(368).int32(t.paddingTopUnit),t.paddingTop!==0&&r.uint32(381).float(t.paddingTop),t.paddingRightUnit!==0&&r.uint32(384).int32(t.paddingRightUnit),t.paddingRight!==0&&r.uint32(397).float(t.paddingRight),t.paddingBottomUnit!==0&&r.uint32(400).int32(t.paddingBottomUnit),t.paddingBottom!==0&&r.uint32(413).float(t.paddingBottom),t.pointerFilter!==void 0&&r.uint32(416).int32(t.pointerFilter),t.borderLeftWidthUnit!==void 0&&r.uint32(424).int32(t.borderLeftWidthUnit),t.borderLeftWidth!==void 0&&r.uint32(437).float(t.borderLeftWidth),t.borderTopWidthUnit!==void 0&&r.uint32(440).int32(t.borderTopWidthUnit),t.borderTopWidth!==void 0&&r.uint32(453).float(t.borderTopWidth),t.borderRightWidthUnit!==void 0&&r.uint32(456).int32(t.borderRightWidthUnit),t.borderRightWidth!==void 0&&r.uint32(469).float(t.borderRightWidth),t.borderBottomWidthUnit!==void 0&&r.uint32(472).int32(t.borderBottomWidthUnit),t.borderBottomWidth!==void 0&&r.uint32(485).float(t.borderBottomWidth),t.borderTopLeftRadiusUnit!==void 0&&r.uint32(488).int32(t.borderTopLeftRadiusUnit),t.borderTopLeftRadius!==void 0&&r.uint32(501).float(t.borderTopLeftRadius),t.borderTopRightRadiusUnit!==void 0&&r.uint32(504).int32(t.borderTopRightRadiusUnit),t.borderTopRightRadius!==void 0&&r.uint32(517).float(t.borderTopRightRadius),t.borderBottomLeftRadiusUnit!==void 0&&r.uint32(520).int32(t.borderBottomLeftRadiusUnit),t.borderBottomLeftRadius!==void 0&&r.uint32(533).float(t.borderBottomLeftRadius),t.borderBottomRightRadiusUnit!==void 0&&r.uint32(536).int32(t.borderBottomRightRadiusUnit),t.borderBottomRightRadius!==void 0&&r.uint32(549).float(t.borderBottomRightRadius),t.borderTopColor!==void 0&&Et.encode(t.borderTopColor,r.uint32(554).fork()).ldelim(),t.borderBottomColor!==void 0&&Et.encode(t.borderBottomColor,r.uint32(562).fork()).ldelim(),t.borderLeftColor!==void 0&&Et.encode(t.borderLeftColor,r.uint32(570).fork()).ldelim(),t.borderRightColor!==void 0&&Et.encode(t.borderRightColor,r.uint32(578).fork()).ldelim(),t.opacity!==void 0&&r.uint32(589).float(t.opacity),t.zIndex!==void 0&&r.uint32(616).int32(t.zIndex),r}e.encode=n;function a(t,r){let o=t instanceof Pd.default.Reader?t:Pd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=PR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.parent=o.int32();continue;case 2:if(c!==16)break;u.rightOf=o.int32();continue;case 3:if(c!==24)break;u.alignContent=o.int32();continue;case 4:if(c!==32)break;u.alignItems=o.int32();continue;case 5:if(c!==40)break;u.flexWrap=o.int32();continue;case 6:if(c!==53)break;u.flexShrink=o.float();continue;case 7:if(c!==56)break;u.positionType=o.int32();continue;case 8:if(c!==64)break;u.alignSelf=o.int32();continue;case 9:if(c!==72)break;u.flexDirection=o.int32();continue;case 10:if(c!==80)break;u.justifyContent=o.int32();continue;case 11:if(c!==88)break;u.overflow=o.int32();continue;case 12:if(c!==96)break;u.display=o.int32();continue;case 13:if(c!==104)break;u.flexBasisUnit=o.int32();continue;case 14:if(c!==117)break;u.flexBasis=o.float();continue;case 15:if(c!==125)break;u.flexGrow=o.float();continue;case 16:if(c!==128)break;u.widthUnit=o.int32();continue;case 17:if(c!==141)break;u.width=o.float();continue;case 18:if(c!==144)break;u.heightUnit=o.int32();continue;case 19:if(c!==157)break;u.height=o.float();continue;case 20:if(c!==160)break;u.minWidthUnit=o.int32();continue;case 21:if(c!==173)break;u.minWidth=o.float();continue;case 22:if(c!==176)break;u.minHeightUnit=o.int32();continue;case 23:if(c!==189)break;u.minHeight=o.float();continue;case 24:if(c!==192)break;u.maxWidthUnit=o.int32();continue;case 25:if(c!==205)break;u.maxWidth=o.float();continue;case 26:if(c!==208)break;u.maxHeightUnit=o.int32();continue;case 27:if(c!==221)break;u.maxHeight=o.float();continue;case 28:if(c!==224)break;u.positionLeftUnit=o.int32();continue;case 29:if(c!==237)break;u.positionLeft=o.float();continue;case 30:if(c!==240)break;u.positionTopUnit=o.int32();continue;case 31:if(c!==253)break;u.positionTop=o.float();continue;case 32:if(c!==256)break;u.positionRightUnit=o.int32();continue;case 33:if(c!==269)break;u.positionRight=o.float();continue;case 34:if(c!==272)break;u.positionBottomUnit=o.int32();continue;case 35:if(c!==285)break;u.positionBottom=o.float();continue;case 36:if(c!==288)break;u.marginLeftUnit=o.int32();continue;case 37:if(c!==301)break;u.marginLeft=o.float();continue;case 38:if(c!==304)break;u.marginTopUnit=o.int32();continue;case 39:if(c!==317)break;u.marginTop=o.float();continue;case 40:if(c!==320)break;u.marginRightUnit=o.int32();continue;case 41:if(c!==333)break;u.marginRight=o.float();continue;case 42:if(c!==336)break;u.marginBottomUnit=o.int32();continue;case 43:if(c!==349)break;u.marginBottom=o.float();continue;case 44:if(c!==352)break;u.paddingLeftUnit=o.int32();continue;case 45:if(c!==365)break;u.paddingLeft=o.float();continue;case 46:if(c!==368)break;u.paddingTopUnit=o.int32();continue;case 47:if(c!==381)break;u.paddingTop=o.float();continue;case 48:if(c!==384)break;u.paddingRightUnit=o.int32();continue;case 49:if(c!==397)break;u.paddingRight=o.float();continue;case 50:if(c!==400)break;u.paddingBottomUnit=o.int32();continue;case 51:if(c!==413)break;u.paddingBottom=o.float();continue;case 52:if(c!==416)break;u.pointerFilter=o.int32();continue;case 53:if(c!==424)break;u.borderLeftWidthUnit=o.int32();continue;case 54:if(c!==437)break;u.borderLeftWidth=o.float();continue;case 55:if(c!==440)break;u.borderTopWidthUnit=o.int32();continue;case 56:if(c!==453)break;u.borderTopWidth=o.float();continue;case 57:if(c!==456)break;u.borderRightWidthUnit=o.int32();continue;case 58:if(c!==469)break;u.borderRightWidth=o.float();continue;case 59:if(c!==472)break;u.borderBottomWidthUnit=o.int32();continue;case 60:if(c!==485)break;u.borderBottomWidth=o.float();continue;case 61:if(c!==488)break;u.borderTopLeftRadiusUnit=o.int32();continue;case 62:if(c!==501)break;u.borderTopLeftRadius=o.float();continue;case 63:if(c!==504)break;u.borderTopRightRadiusUnit=o.int32();continue;case 64:if(c!==517)break;u.borderTopRightRadius=o.float();continue;case 65:if(c!==520)break;u.borderBottomLeftRadiusUnit=o.int32();continue;case 66:if(c!==533)break;u.borderBottomLeftRadius=o.float();continue;case 67:if(c!==536)break;u.borderBottomRightRadiusUnit=o.int32();continue;case 68:if(c!==549)break;u.borderBottomRightRadius=o.float();continue;case 69:if(c!==554)break;u.borderTopColor=Et.decode(o,o.uint32());continue;case 70:if(c!==562)break;u.borderBottomColor=Et.decode(o,o.uint32());continue;case 71:if(c!==570)break;u.borderLeftColor=Et.decode(o,o.uint32());continue;case 72:if(c!==578)break;u.borderRightColor=Et.decode(o,o.uint32());continue;case 73:if(c!==589)break;u.opacity=o.float();continue;case 77:if(c!==616)break;u.zIndex=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(dc||(dc={}));var ZS={COMPONENT_ID:1050,serialize(e,n){let a=dc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return dc.decode(e.buffer(),e.remainingBytes())},create(){return dc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}};var zd=we(Pe());var e1;(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(e1||(e1={}));function zR(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}var pc;(function(e){function n(t,r=zd.default.Writer.create()){return t.timestamp!==0&&r.uint32(8).uint32(t.timestamp),t.tickNumber!==0&&r.uint32(16).uint32(t.tickNumber),t.currentOffset!==0&&r.uint32(29).float(t.currentOffset),t.videoLength!==0&&r.uint32(37).float(t.videoLength),t.state!==0&&r.uint32(40).int32(t.state),r}e.encode=n;function a(t,r){let o=t instanceof zd.default.Reader?t:zd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=zR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.timestamp=o.uint32();continue;case 2:if(c!==16)break;u.tickNumber=o.uint32();continue;case 3:if(c!==29)break;u.currentOffset=o.float();continue;case 4:if(c!==37)break;u.videoLength=o.float();continue;case 5:if(c!==40)break;u.state=o.int32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(pc||(pc={}));var t1={COMPONENT_ID:1044,serialize(e,n){let a=pc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return pc.decode(e.buffer(),e.remainingBytes())},create(){return pc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};var Ld=we(Pe());function LR(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var mc;(function(e){function n(t,r=Ld.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.playing!==void 0&&r.uint32(16).bool(t.playing),t.position!==void 0&&r.uint32(29).float(t.position),t.volume!==void 0&&r.uint32(37).float(t.volume),t.playbackRate!==void 0&&r.uint32(45).float(t.playbackRate),t.loop!==void 0&&r.uint32(48).bool(t.loop),r}e.encode=n;function a(t,r){let o=t instanceof Ld.default.Reader?t:Ld.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=LR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.src=o.string();continue;case 2:if(c!==16)break;u.playing=o.bool();continue;case 3:if(c!==29)break;u.position=o.float();continue;case 4:if(c!==37)break;u.volume=o.float();continue;case 5:if(c!==45)break;u.playbackRate=o.float();continue;case 6:if(c!==48)break;u.loop=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(mc||(mc={}));var n1={COMPONENT_ID:1043,serialize(e,n){let a=mc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return mc.decode(e.buffer(),e.remainingBytes())},create(){return mc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};var Ud=we(Pe());var Bd=we(Pe());function BR(){return{transitionMode:void 0}}var xu;(function(e){function n(t,r=Bd.default.Writer.create()){switch(t.transitionMode?.$case){case"time":r.uint32(13).float(t.transitionMode.time);break;case"speed":r.uint32(21).float(t.transitionMode.speed);break}return r}e.encode=n;function a(t,r){let o=t instanceof Bd.default.Reader?t:Bd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=BR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==13)break;u.transitionMode={$case:"time",time:o.float()};continue;case 2:if(c!==21)break;u.transitionMode={$case:"speed",speed:o.float()};continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(xu||(xu={}));function UR(){return{defaultTransition:void 0,lookAtEntity:void 0}}var hc;(function(e){function n(t,r=Ud.default.Writer.create()){return t.defaultTransition!==void 0&&xu.encode(t.defaultTransition,r.uint32(10).fork()).ldelim(),t.lookAtEntity!==void 0&&r.uint32(16).uint32(t.lookAtEntity),r}e.encode=n;function a(t,r){let o=t instanceof Ud.default.Reader?t:Ud.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=UR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==10)break;u.defaultTransition=xu.decode(o,o.uint32());continue;case 2:if(c!==16)break;u.lookAtEntity=o.uint32();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(hc||(hc={}));var o1={COMPONENT_ID:1076,serialize(e,n){let a=hc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return hc.decode(e.buffer(),e.remainingBytes())},create(){return hc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVirtualCamera"}};var Dd=we(Pe());function DR(){return{visible:void 0}}var yc;(function(e){function n(t,r=Dd.default.Writer.create()){return t.visible!==void 0&&r.uint32(8).bool(t.visible),r}e.encode=n;function a(t,r){let o=t instanceof Dd.default.Reader?t:Dd.default.Reader.create(t),f=r===void 0?o.len:o.pos+r,u=DR();for(;o.pos<f;){let c=o.uint32();switch(c>>>3){case 1:if(c!==8)break;u.visible=o.bool();continue}if((c&7)===4||c===0)break;o.skipType(c&7)}return u}e.decode=a})(yc||(yc={}));var r1={COMPONENT_ID:1081,serialize(e,n){let a=yc.encode(e),t=new Uint8Array(a.finish(),0,a.len);n.writeBuffer(t,!1)},deserialize(e){return yc.decode(e.buffer(),e.remainingBytes())},create(){return yc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}};var Hh=e=>e.defineComponentFromSchema("core::Animator",_T),bu=e=>e.defineValueSetComponentFromSchema("core::AudioEvent",xT,{timestampFunction:n=>n.timestamp,maxElements:100}),Wd=e=>e.defineComponentFromSchema("core::AudioSource",bT),jd=e=>e.defineComponentFromSchema("core::AudioStream",AT),Fd=e=>e.defineComponentFromSchema("core::AvatarAttach",CT),Au=e=>e.defineComponentFromSchema("core::AvatarBase",NT),Vh=e=>e.defineValueSetComponentFromSchema("core::AvatarEmoteCommand",IT,{timestampFunction:n=>n.timestamp,maxElements:100}),Ru=e=>e.defineComponentFromSchema("core::AvatarEquippedData",vT),i1=e=>e.defineComponentFromSchema("core::AvatarModifierArea",wT),a1=e=>e.defineComponentFromSchema("core::AvatarShape",HT),Hd=e=>e.defineComponentFromSchema("core::Billboard",GT),s1=e=>e.defineComponentFromSchema("core::CameraMode",YT),c1=e=>e.defineComponentFromSchema("core::CameraModeArea",qT),Gh=e=>e.defineComponentFromSchema("core::EngineInfo",$T),Ua=e=>e.defineComponentFromSchema("core::GltfContainer",JT),Yh=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",KT),u1=e=>e.defineComponentFromSchema("core::GltfNodeModifiers",eS),qh=e=>e.defineComponentFromSchema("core::InputModifier",tS),$h=e=>e.defineComponentFromSchema("core::LightSource",nS),l1=e=>e.defineComponentFromSchema("core::MainCamera",oS),Jh=e=>e.defineComponentFromSchema("core::Material",rS),Kh=e=>e.defineComponentFromSchema("core::MeshCollider",iS),Qh=e=>e.defineComponentFromSchema("core::MeshRenderer",aS),f1=e=>e.defineComponentFromSchema("core::NftShape",cS),Cu=e=>e.defineComponentFromSchema("core::PlayerIdentityData",uS),ci=e=>e.defineComponentFromSchema("core::PointerEvents",lS),Nu=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",fS,{timestampFunction:n=>n.timestamp,maxElements:100}),d1=e=>e.defineComponentFromSchema("core::PointerLock",dS),p1=e=>e.defineComponentFromSchema("core::PrimaryPointerInfo",mS),Xh=e=>e.defineComponentFromSchema("core::Raycast",yS),Vd=e=>e.defineComponentFromSchema("core::RaycastResult",gS),Zh=e=>e.defineComponentFromSchema("core::RealmInfo",ES),m1=e=>e.defineComponentFromSchema("core::SkyboxTime",SS),h1=e=>e.defineComponentFromSchema("core::TextShape",_S),Gd=e=>e.defineComponentFromSchema("core::TriggerArea",bS),Yd=e=>e.defineValueSetComponentFromSchema("core::TriggerAreaResult",RS,{timestampFunction:n=>n.timestamp,maxElements:100}),ey=e=>e.defineComponentFromSchema("core::Tween",IS),Da=e=>e.defineComponentFromSchema("core::TweenSequence",kS),Iu=e=>e.defineComponentFromSchema("core::TweenState",wS),gc=e=>e.defineComponentFromSchema("core::UiBackground",zS),vu=e=>e.defineComponentFromSchema("core::UiCanvasInformation",LS),ku=e=>e.defineComponentFromSchema("core::UiDropdown",BS),Ou=e=>e.defineComponentFromSchema("core::UiDropdownResult",US),Wa=e=>e.defineComponentFromSchema("core::UiInput",DS),ja=e=>e.defineComponentFromSchema("core::UiInputResult",WS),Fa=e=>e.defineComponentFromSchema("core::UiText",FS),ui=e=>e.defineComponentFromSchema("core::UiTransform",ZS),qd=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",t1,{timestampFunction:n=>n.timestamp,maxElements:100}),wu=e=>e.defineComponentFromSchema("core::VideoPlayer",n1),ty=e=>e.defineComponentFromSchema("core::VirtualCamera",o1),$d=e=>e.defineComponentFromSchema("core::VisibilityComponent",r1),ny={"core::Animator":Hh,"core::AudioEvent":bu,"core::AudioSource":Wd,"core::AudioStream":jd,"core::AvatarAttach":Fd,"core::AvatarBase":Au,"core::AvatarEmoteCommand":Vh,"core::AvatarEquippedData":Ru,"core::AvatarModifierArea":i1,"core::AvatarShape":a1,"core::Billboard":Hd,"core::CameraMode":s1,"core::CameraModeArea":c1,"core::EngineInfo":Gh,"core::GltfContainer":Ua,"core::GltfContainerLoadingState":Yh,"core::GltfNodeModifiers":u1,"core::InputModifier":qh,"core::LightSource":$h,"core::MainCamera":l1,"core::Material":Jh,"core::MeshCollider":Kh,"core::MeshRenderer":Qh,"core::NftShape":f1,"core::PlayerIdentityData":Cu,"core::PointerEvents":ci,"core::PointerEventsResult":Nu,"core::PointerLock":d1,"core::PrimaryPointerInfo":p1,"core::Raycast":Xh,"core::RaycastResult":Vd,"core::RealmInfo":Zh,"core::SkyboxTime":m1,"core::TextShape":h1,"core::TriggerArea":Gd,"core::TriggerAreaResult":Yd,"core::Tween":ey,"core::TweenSequence":Da,"core::TweenState":Iu,"core::UiBackground":gc,"core::UiCanvasInformation":vu,"core::UiDropdown":ku,"core::UiDropdownResult":Ou,"core::UiInput":Wa,"core::UiInputResult":ja,"core::UiText":Fa,"core::UiTransform":ui,"core::VideoEvent":qd,"core::VideoPlayer":wu,"core::VirtualCamera":ty,"core::VisibilityComponent":$d};function y1(e){let n=Hh(e);function a(t,r){let o=n.getMutableOrNull(t);if(!o)return[null,null];let f=o.states.find(u=>u.clip===r);return f?[o,f]:[o,null]}return{...n,getClipOrNull(t,r){let[o,f]=a(t,r);return f},getClip(t,r){let[o,f]=a(t,r);if(!o)throw new Error(`There is no Animator found in the entity ${t}`);if(!f)throw new Error(`The Animator component of ${t} has no the state ${r}`);return f},playSingleAnimation(t,r,o=!0){let[f,u]=a(t,r);if(!f||!u)return!1;for(let c of f.states)c.playing=!1,c.shouldReset=!0;return u.playing=!0,u.shouldReset=o,!0},stopAllAnimations(t,r=!0){let o=n.getMutableOrNull(t);if(!o)return!1;for(let f of o.states)f.playing=!1,f.shouldReset=r;return!0}}}function g1(e){let n=Wd(e);return{...n,playSound(a,t,r=!0){let o=n.getMutableOrNull(a);return o?(o.audioClipUrl=t,o.playing=!0,o.currentTime=r?0:o.currentTime,!0):!1},stopSound(a,t=!0){let r=n.getMutableOrNull(a);return r?(r.playing=!1,r.currentTime=t?0:r.currentTime,!0):!1}}}var jR={Common(e){return{tex:{$case:"texture",texture:e}}},Avatar(e){return{tex:{$case:"avatarTexture",avatarTexture:e}}},Video(e){return{tex:{$case:"videoTexture",videoTexture:e}}}};function E1(e){let n=Jh(e);return{...n,Texture:jR,setBasicMaterial(a,t){n.createOrReplace(a,{material:{$case:"unlit",unlit:t}})},setPbrMaterial(a,t){n.createOrReplace(a,{material:{$case:"pbr",pbr:t}})}}}function T1(e){let n=Kh(e);function a(t){if(Array.isArray(t))return t.map(r=>r).reduce((r,o)=>r|o,0);if(t)return t}return{...n,setBox(t,r){n.createOrReplace(t,{mesh:{$case:"box",box:{}},collisionMask:a(r)})},setPlane(t,r){n.createOrReplace(t,{mesh:{$case:"plane",plane:{}},collisionMask:a(r)})},setCylinder(t,r,o,f){n.createOrReplace(t,{mesh:{$case:"cylinder",cylinder:{radiusBottom:r,radiusTop:o}},collisionMask:a(f)})},setSphere(t,r){n.createOrReplace(t,{mesh:{$case:"sphere",sphere:{}},collisionMask:a(r)})}}}function S1(e){let n=Qh(e);return{...n,setBox(a,t){n.createOrReplace(a,{mesh:{$case:"box",box:{uvs:t||[]}}})},setPlane(a,t){n.createOrReplace(a,{mesh:{$case:"plane",plane:{uvs:t||[]}}})},setCylinder(a,t,r){n.createOrReplace(a,{mesh:{$case:"cylinder",cylinder:{radiusBottom:t,radiusTop:r}}})},setSphere(a){n.createOrReplace(a,{mesh:{$case:"sphere",sphere:{}}})}}}var FR={Move(e){return{$case:"move",move:e}},MoveContinuous(e){return{$case:"moveContinuous",moveContinuous:e}},Rotate(e){return{$case:"rotate",rotate:e}},RotateContinuous(e){return{$case:"rotateContinuous",rotateContinuous:e}},Scale(e){return{$case:"scale",scale:e}},TextureMove(e){return{$case:"textureMove",textureMove:e}},TextureMoveContinuous(e){return{$case:"textureMoveContinuous",textureMoveContinuous:e}}};function _1(e){let n=ey(e);return{...n,Mode:FR,setMove(a,t,r,o,f=0){n.createOrReplace(a,{mode:{$case:"move",move:{start:t,end:r}},duration:o,easingFunction:f,playing:!0})},setScale(a,t,r,o,f=0){n.createOrReplace(a,{mode:{$case:"scale",scale:{start:t,end:r}},duration:o,easingFunction:f,playing:!0})},setRotate(a,t,r,o,f=0){n.createOrReplace(a,{mode:{$case:"rotate",rotate:{start:t,end:r}},duration:o,easingFunction:f,playing:!0})},setTextureMove(a,t,r,o,f=0,u=0){n.createOrReplace(a,{mode:{$case:"textureMove",textureMove:{start:t,end:r,movementType:f}},duration:o,easingFunction:u,playing:!0})},setMoveContinuous(a,t,r,o=0){n.createOrReplace(a,{mode:{$case:"moveContinuous",moveContinuous:{direction:t,speed:r}},duration:o,easingFunction:0,playing:!0})},setRotateContinuous(a,t,r,o=0){n.createOrReplace(a,{mode:{$case:"rotateContinuous",rotateContinuous:{direction:t,speed:r}},duration:o,easingFunction:0,playing:!0})},setTextureMoveContinuous(a,t,r,o=0,f=0){n.createOrReplace(a,{mode:{$case:"textureMoveContinuous",textureMoveContinuous:{direction:t,speed:r,movementType:o}},duration:f,easingFunction:0,playing:!0})}}}var Jd=e=>({serialize(n,a){a.writeUint32(n.length);for(let t of n)e.serialize(t,a)},deserialize(n){let a=[],t=n.readUint32();for(let r=0;r<t;r++)a.push(e.deserialize(n));return a},create(){return[]},jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}});var Mu={serialize(e,n){n.writeInt8(e?1:0)},deserialize(e){return e.readInt8()===1},create(){return!1},jsonSchema:{type:"boolean",serializationType:"boolean"}};var Pu={serialize(e,n){n.writeInt64(BigInt(e))},deserialize(e){return Number(e.readInt64())},create(){return 0},jsonSchema:{type:"integer",serializationType:"int64"}},Vi={serialize(e,n){n.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int32"}},zu={serialize(e,n){n.writeInt16(e)},deserialize(e){return e.readInt16()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int16"}},Lu={serialize(e,n){n.writeInt8(e)},deserialize(e){return e.readInt8()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int8"}};var Kd={serialize(e,n){n.writeUtf8String(e)},deserialize(e){return e.readUtf8String()},create(){return""},jsonSchema:{type:"string",serializationType:"utf8-string"}},Bu=Kd;function HR(e){let t=0,r=0;for(let o in e){if(typeof e[o]=="number"){if(e[o]>2147483647||e[o]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");t++}r++}if(r!==t*2)throw new Error("All enum member values must be of numeric type.")}function VR(e){for(let n in e)if(typeof e[n]!="string")throw new Error("All enum member values must be of string type.")}var GR="enum-int",Qd=(e,n)=>(HR(e),{serialize(a,t){Vi.serialize(a,t)},deserialize(a){return Vi.deserialize(a)},create(){return n},jsonSchema:{type:"integer",enum:Object.values(e).filter(a=>Number.isInteger(a)),default:n,serializationType:GR,enumObject:e}}),YR="enum-string",Xd=(e,n)=>(VR(e),{serialize(a,t){Kd.serialize(a,t)},deserialize(a){return Kd.deserialize(a)},create(){return n},jsonSchema:{type:"string",enum:Object.values(e),default:n,serializationType:YR,enumObject:e}});var Ec={serialize(e,n){n.writeFloat32(e)},deserialize(e){return e.readFloat32()},create(){return 0},jsonSchema:{type:"number",serializationType:"float32"}},Uu={serialize(e,n){n.writeFloat64(e)},deserialize(e){return e.readFloat64()},create(){return 0},jsonSchema:{type:"number",serializationType:"float64"}};var Du={serialize(e,n){n.writeFloat32(e.r),n.writeFloat32(e.g),n.writeFloat32(e.b)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}},create(){return{r:0,g:0,b:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}};var Wu={serialize(e,n){n.writeFloat32(e.r),n.writeFloat32(e.g),n.writeFloat32(e.b),n.writeFloat32(e.a)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}},create(){return{r:0,g:0,b:0,a:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}};var ju={serialize(e,n){n.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"entity"}};var Fu={serialize(e,n){n.writeFloat32(e.x),n.writeFloat32(e.y),n.writeFloat32(e.z),n.writeFloat32(e.w)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}},create(){return{x:0,y:0,z:0,w:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}};var Hu={serialize(e,n){n.writeFloat32(e.x),n.writeFloat32(e.y),n.writeFloat32(e.z)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}},create(){return{x:0,y:0,z:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}};var Zd=(e,n)=>{let a=Object.keys(e).reduce((t,r)=>(t[r]=e[r].jsonSchema,t),{});return{serialize(t,r){for(let o in e)e[o].serialize(t[o],r)},deserialize(t){let r={};for(let o in e)r[o]=e[o].deserialize(t);return r},create(){let t={};for(let r in e)t[r]=e[r].create();return{...t,...n}},extend:t=>{let r={};for(let o in e)r[o]=e[o].create();return{...r,...n,...t}},jsonSchema:{type:"object",properties:a,serializationType:"map"}}};var ep=e=>({serialize(n,a){n?(a.writeInt8(1),e.serialize(n,a)):a.writeInt8(0)},deserialize(n){if(n.readInt8())return e.deserialize(n)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}});var tp=e=>{let n=Object.keys(e),a=n.reduce((r,o,f)=>(r[o]=f,r),{}),t=n.reduce((r,o)=>(r[o]=e[o].jsonSchema,r),{});return{serialize({$case:r,value:o},f){let u=a[r.toString()]+1;f.writeUint8(u),e[r].serialize(o,f)},deserialize(r){let o=n[r.readInt8()-1],f=e[o].deserialize(r);return{$case:o,value:f}},create(){return{}},jsonSchema:{type:"object",properties:t,serializationType:"one-of"}}};var x1=(e,n)=>n.includes(e.serializationType),qR=e=>x1(e,["one-of"]),$R=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),np=e=>x1(e,["array","map"]),oy=(e,n,a)=>{let t=e[a],r=n[a];if(qR(t)){let o=r;if(!o.$case)return $R();let f=t.properties[o.$case];return np(f)&&(n[a]={[o.$case]:o.value}),{type:f,value:o.value}}return{type:t,value:r}};var b1={[Mu.jsonSchema.serializationType]:Mu,[Bu.jsonSchema.serializationType]:Bu,[Ec.jsonSchema.serializationType]:Ec,[Uu.jsonSchema.serializationType]:Uu,[Lu.jsonSchema.serializationType]:Lu,[zu.jsonSchema.serializationType]:zu,[Vi.jsonSchema.serializationType]:Vi,[Pu.jsonSchema.serializationType]:Pu,[Hu.jsonSchema.serializationType]:Hu,[Fu.jsonSchema.serializationType]:Fu,[Du.jsonSchema.serializationType]:Du,[Wu.jsonSchema.serializationType]:Wu,[ju.jsonSchema.serializationType]:ju};function Tc(e){if(b1[e.serializationType])return b1[e.serializationType];if(e.serializationType==="map"){let n=e,a={};for(let t in n.properties)a[t]=Tc(n.properties[t]);return Zd(a)}if(e.serializationType==="optional")return ep(Tc(e.optionalJsonSchema));if(e.serializationType==="array")return Jd(Tc(e.items));if(e.serializationType==="enum-int"){let n=e;return Qd(n.enumObject,n.default)}if(e.serializationType==="enum-string"){let n=e;return Xd(n.enumObject,n.default)}if(e.serializationType==="one-of"){let n=e,a={};for(let t in n.properties)a[t]=Tc(n.properties[t]);return tp(a)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function op(e,n,a){if(e.serializationType==="map"){let{properties:t}=e,r=n;for(let o in t){let{type:f,value:u}=oy(t,r,o);if(f.serializationType!=="unknown")if(np(f))op(f,u,a);else{let c=a(u,f);c.changed&&(r[o]=c.value)}}}else if(e.serializationType==="array"){let{items:t}=e,r=n;for(let o=0,f=r.length;o<f;o++){let{type:u,value:c}=oy({items:t},{items:r[o]},"items");if(np(u))op(u,c,a);else{let m=a(c,u);m.changed&&(r[o]=m.value)}}}}var T;(function(e){e.Boolean=Mu,e.String=Bu,e.Float=Ec,e.Double=Uu,e.Byte=Lu,e.Short=zu,e.Int=Vi,e.Int64=Pu,e.Number=Ec,e.Vector3=Hu,e.Quaternion=Fu,e.Color3=Du,e.Color4=Wu,e.Entity=ju,e.EnumNumber=Qd,e.EnumString=Xd,e.Array=Jd,e.Map=Zd,e.Optional=ep,e.OneOf=tp,e.fromJson=Tc,e.mutateNestedValues=op})(T||(T={}));function JR(e){return e.defineComponent("core-schema::Name",{value:T.String})}var A1=JR;function KR(e){return e.defineComponent("core-schema::Sync-Components",{componentIds:T.Array(T.Int64)})}var R1=KR;function QR(e){return e.defineComponent("core-schema::Network-Entity",{networkId:T.Int64,entityId:T.Entity})}var C1=QR;function XR(e){return e.defineComponent("core-schema::Network-Parent",{networkId:T.Int64,entityId:T.Entity})}var N1=XR;var Sc={serialize(e,n){let a=n.incrementWriteOffset(44);n.setFloat32(a,e.position.x),n.setFloat32(a+4,e.position.y),n.setFloat32(a+8,e.position.z),n.setFloat32(a+12,e.rotation.x),n.setFloat32(a+16,e.rotation.y),n.setFloat32(a+20,e.rotation.z),n.setFloat32(a+24,e.rotation.w),n.setFloat32(a+28,e.scale.x),n.setFloat32(a+32,e.scale.y),n.setFloat32(a+36,e.scale.z),n.setUint32(a+40,e.parent||0)},deserialize(e){let n=e.incrementReadOffset(44);return{position:{x:e.getFloat32(n),y:e.getFloat32(n+4),z:e.getFloat32(n+8)},rotation:{x:e.getFloat32(n+12),y:e.getFloat32(n+16),z:e.getFloat32(n+20),w:e.getFloat32(n+24)},scale:{x:e.getFloat32(n+28),y:e.getFloat32(n+32),z:e.getFloat32(n+36)},parent:e.getUint32(n+40)}},create(){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},extend(e){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}},jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function I1(e){let n=e.defineComponentFromSchema("core::Transform",Sc);return{...n,create(a,t){return n.create(a,Sc.extend(t))},createOrReplace(a,t){return n.createOrReplace(a,Sc.extend(t))}}}function v1(e){let n=jd(e),a=bu(e);return{...n,getAudioState(t){return!n.getMutableOrNull(t)||!a.has(t)?void 0:Array.from(a.get(t)).pop()}}}var ry;(function(e){e[e.MS_NONE=0]="MS_NONE",e[e.MS_ERROR=1]="MS_ERROR",e[e.MS_LOADING=2]="MS_LOADING",e[e.MS_READY=3]="MS_READY",e[e.MS_PLAYING=4]="MS_PLAYING",e[e.MS_BUFFERING=5]="MS_BUFFERING",e[e.MS_SEEKING=6]="MS_SEEKING",e[e.MS_PAUSED=7]="MS_PAUSED"})(ry||(ry={}));function k1(e){let n=Gd(e);function a(t){if(Array.isArray(t))return t.map(r=>r).reduce((r,o)=>r|o,0);if(t)return t}return{...n,setBox(t,r){n.createOrReplace(t,{mesh:0,collisionMask:a(r)})},setSphere(t,r){n.createOrReplace(t,{mesh:1,collisionMask:a(r)})}}}function ZR(e){let n=e.defineComponent("core-schema::Tags",{tags:T.Array(T.String)});return{...n,add(a,t){let r=n.getMutableOrNull(a);return r?r.tags.push(t):n.createOrReplace(a,{tags:[t]}),!0},remove(a,t){let r=n.getMutableOrNull(a);if(!r||!r.tags)return!1;let o=r.tags.filter(f=>f!==t);return o.length===r.tags.length?!1:(r.tags=o,!0)}}}var O1=ZR;function eC(e){return e.defineComponent("core-schema::Created-By",{address:T.String})}var w1=eC;var cr=e=>I1(e),rp=e=>E1(e),iy=e=>y1(e),ip=e=>g1(e),M1=e=>v1(e),ap=e=>S1(e),sp=e=>T1(e),_c=e=>_1(e);var P1=e=>k1(e),xc=e=>A1(e),cp=e=>O1(e),up=e=>R1(e),li=e=>C1(e),bc=e=>N1(e),ay=e=>w1(e);var sy={"core::Transform":1,"core::Animator":1042,"core::AudioEvent":1105,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::GltfNodeModifiers":1099,"core::InputModifier":1078,"core::LightSource":1079,"core::MainCamera":1075,"core::MapPin":1097,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::PrimaryPointerInfo":1209,"core::Raycast":1067,"core::RaycastResult":1068,"core::RealmInfo":1106,"core::SkyboxTime":1210,"core::TextShape":1030,"core::TriggerArea":1060,"core::TriggerAreaResult":1061,"core::Tween":1102,"core::TweenSequence":1104,"core::TweenState":1103,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VirtualCamera":1076,"core::VisibilityComponent":1081};var L1=we(Sf());var tC=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function nC(e,n){let a=~~n^-1;for(let t=0;t<e.length;t++)a=tC[(a^e[t])&255]^a>>>8;return a^-1}function z1(e,n=0){return nC(e,n)>>>0}var cy=2048;function Fo(e){if(sy[e])return sy[e];let n=new Uint8Array(128);return L1.write(e,n,0),(z1(n)+cy&4294967295)>>>0}var uy=typeof process=="object"&&!1||!1;function Vu(e,n){if(uy&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(n);return e}function B1(){let e=new Map;return{addTo(n,a){if(a<0)return!1;let t=e.get(n);return t!==void 0&&t>=a||e.set(n,a),!0},has(n,a){let t=e.get(n);return t!==void 0&&t>=a},getMap(){return e}}}var Ha=65535,oC=4294901760,yL=Ha+1,U1=Ha,ly=512,Ho;(function(e){function n(t){return[(t&Ha)>>>0,((t&oC)>>16&Ha)>>>0]}e.fromEntityId=n;function a(t,r){return(t&Ha|(r&Ha)<<16)>>>0}e.toEntityId=a})(Ho||(Ho={}));var qt;(function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"})(qt||(qt={}));function D1(e){let n=e?.reservedStaticEntities??ly,a=n,t=new Set,r=[],o=B1();function f(){if(a>U1-1)throw new Error(`It fails trying to generate an entity out of range ${U1}.`);let E=a++,x=o.getMap().has(E)?o.getMap().get(E)+1:0,_=Ho.toEntityId(E,x);return t.has(_)?f():(t.add(_),_)}function u(){if(t.size+n>=a)return f();for(let[x,_]of o.getMap())if(_<Ha){let C=Ho.toEntityId(x,_+1);if(!t.has(C)&&!r.includes(C))return t.add(C),C}return f()}function c(E){return E<n?!1:(t.has(E)?(t.delete(E),r.push(E)):y(E),!0)}function m(){let E=r;if(E.length){r=[];for(let x of E){let[_,C]=Ho.fromEntityId(x);o.addTo(_,C)}}return E}function y(E){let[x,_]=Ho.fromEntityId(E);o.addTo(x,_);for(let C=0;C<=_;C++)t.delete(Ho.toEntityId(x,C));return!0}function R(E){let[x,_]=Ho.fromEntityId(E);if(o.has(x,_))return!1;if(_>0){for(let C=0;C<=_-1;C++)t.delete(Ho.toEntityId(x,C));o.addTo(x,_-1)}return t.add(E),!0}function g(E){let[x,_]=Ho.fromEntityId(E);if(x<n)return qt.Reserved;if(t.has(E))return qt.UsedEntity;let C=o.getMap().get(x);return C!==void 0&&C>=_?qt.Removed:qt.Unknown}return{generateEntity:u,removeEntity:c,getExistingEntities(){return new Set(t)},getEntityState:g,releaseRemovedEntities:m,updateRemovedEntity:y,updateUsedEntity:R}}var Ac=we(Sf()),Nt=function(e,n,a,t){if(a==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!t:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?t:a==="a"?t.call(e):t?t.value:n.get(e)},At,lo,Mn;function rC(e,n){let a=Math.max(e,n)+1024;return Math.ceil(a/1024)*1024}var iC=10240,Ke=class{constructor(n,a,t){At.add(this),this._buffer=n||new Uint8Array(iC),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=t??(n?this._buffer.length:null)??0,this.roffset=a??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(n){return Nt(this,At,"m",Mn).call(this,n)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(Nt(this,At,"m",Mn).call(this,4),!0)}readFloat64(){return this.view.getFloat64(Nt(this,At,"m",Mn).call(this,8),!0)}readInt8(){return this.view.getInt8(Nt(this,At,"m",Mn).call(this,1))}readInt16(){return this.view.getInt16(Nt(this,At,"m",Mn).call(this,2),!0)}readInt32(){return this.view.getInt32(Nt(this,At,"m",Mn).call(this,4),!0)}readInt64(){return this.view.getBigInt64(Nt(this,At,"m",Mn).call(this,8),!0)}readUint8(){return this.view.getUint8(Nt(this,At,"m",Mn).call(this,1))}readUint16(){return this.view.getUint16(Nt(this,At,"m",Mn).call(this,2),!0)}readUint32(){return this.view.getUint32(Nt(this,At,"m",Mn).call(this,4),!0)}readUint64(){return this.view.getBigUint64(Nt(this,At,"m",Mn).call(this,8),!0)}readBuffer(){let n=this.view.getUint32(Nt(this,At,"m",Mn).call(this,4),!0);return this._buffer.subarray(Nt(this,At,"m",Mn).call(this,n),Nt(this,At,"m",Mn).call(this,0))}readUtf8String(){let n=this.view.getUint32(Nt(this,At,"m",Mn).call(this,4),!0);return Ac.read(this._buffer,Nt(this,At,"m",Mn).call(this,n),Nt(this,At,"m",Mn).call(this,0))}incrementWriteOffset(n){return Nt(this,At,"m",lo).call(this,n)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(n,a=!0){a&&this.writeUint32(n.byteLength);let t=Nt(this,At,"m",lo).call(this,n.byteLength);this._buffer.set(n,t)}writeUtf8String(n,a=!0){let t=Ac.length(n);a&&this.writeUint32(t);let r=Nt(this,At,"m",lo).call(this,t);Ac.write(n,this._buffer,r)}writeFloat32(n){let a=Nt(this,At,"m",lo).call(this,4);this.view.setFloat32(a,n,!0)}writeFloat64(n){let a=Nt(this,At,"m",lo).call(this,8);this.view.setFloat64(a,n,!0)}writeInt8(n){let a=Nt(this,At,"m",lo).call(this,1);this.view.setInt8(a,n)}writeInt16(n){let a=Nt(this,At,"m",lo).call(this,2);this.view.setInt16(a,n,!0)}writeInt32(n){let a=Nt(this,At,"m",lo).call(this,4);this.view.setInt32(a,n,!0)}writeInt64(n){let a=Nt(this,At,"m",lo).call(this,8);this.view.setBigInt64(a,n,!0)}writeUint8(n){let a=Nt(this,At,"m",lo).call(this,1);this.view.setUint8(a,n)}writeUint16(n){let a=Nt(this,At,"m",lo).call(this,2);this.view.setUint16(a,n,!0)}writeUint32(n){let a=Nt(this,At,"m",lo).call(this,4);this.view.setUint32(a,n,!0)}writeUint64(n){let a=Nt(this,At,"m",lo).call(this,8);this.view.setBigUint64(a,n,!0)}getFloat32(n){return this.view.getFloat32(n,!0)}getFloat64(n){return this.view.getFloat64(n,!0)}getInt8(n){return this.view.getInt8(n)}getInt16(n){return this.view.getInt16(n,!0)}getInt32(n){return this.view.getInt32(n,!0)}getInt64(n){return this.view.getBigInt64(n,!0)}getUint8(n){return this.view.getUint8(n)}getUint16(n){return this.view.getUint16(n,!0)}getUint32(n){return this.view.getUint32(n,!0)}getUint64(n){return this.view.getBigUint64(n,!0)}setFloat32(n,a){this.view.setFloat32(n,a,!0)}setFloat64(n,a){this.view.setFloat64(n,a,!0)}setInt8(n,a){this.view.setInt8(n,a)}setInt16(n,a){this.view.setInt16(n,a,!0)}setInt32(n,a){this.view.setInt32(n,a,!0)}setInt64(n,a){this.view.setBigInt64(n,a,!0)}setUint8(n,a){this.view.setUint8(n,a)}setUint16(n,a){this.view.setUint16(n,a,!0)}setUint32(n,a){this.view.setUint32(n,a,!0)}setUint64(n,a){this.view.setBigUint64(n,a,!0)}};At=new WeakSet,lo=function(n){if(this.woffset+n>this._buffer.byteLength){let a=rC(this._buffer.byteLength,this.woffset+n),t=new Uint8Array(a);t.set(this._buffer);let r=this._buffer.byteOffset;this._buffer=t,this.view=new DataView(this._buffer.buffer,r)}return this.woffset+=n,this.woffset-n},Mn=function(n){if(this.roffset+n>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=n,this.roffset-n};var he;(function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.PUT_COMPONENT_NETWORK=5]="PUT_COMPONENT_NETWORK",e[e.DELETE_COMPONENT_NETWORK=6]="DELETE_COMPONENT_NETWORK",e[e.DELETE_ENTITY_NETWORK=7]="DELETE_ENTITY_NETWORK",e[e.AUTHORITATIVE_PUT_COMPONENT=8]="AUTHORITATIVE_PUT_COMPONENT",e[e.MAX_MESSAGE_TYPE=9]="MAX_MESSAGE_TYPE"})(he||(he={}));var sn=8,An;(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(An||(An={}));var Wt;(function(e){function n(o){let f=o.remainingBytes();if(f<sn)return!1;let u=o.getUint32(o.currentReadOffset());return!(f<u)}e.validate=n;function a(o){return n(o)?{length:o.readUint32(),type:o.readUint32()}:null}e.readHeader=a;function t(o){if(!n(o))return null;let f=o.currentReadOffset();return{length:o.getUint32(f),type:o.getUint32(f+4)}}e.getHeader=t;function r(o){let f=t(o);return f?(o.incrementReadOffset(f.length),!0):!1}e.consumeMessage=r})(Wt||(Wt={}));var Vo;(function(e){e.MESSAGE_HEADER_LENGTH=12;function n(t,r,o,f){let u=sn+e.MESSAGE_HEADER_LENGTH,c=f.incrementWriteOffset(u);f.setUint32(c,u),f.setUint32(c+4,he.DELETE_COMPONENT),f.setUint32(c+8,t),f.setUint32(c+12,r),f.setUint32(c+16,o)}e.write=n;function a(t){let r=Wt.readHeader(t);if(!r)return null;if(r.type!==he.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32()}}e.read=a})(Vo||(Vo={}));var fi;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,r,o,f,u){let c=u.incrementWriteOffset(sn+e.MESSAGE_HEADER_LENGTH);u.writeBuffer(f,!1);let m=u.currentWriteOffset()-c;u.setUint32(c,m),u.setUint32(c+4,he.APPEND_VALUE),u.setUint32(c+8,t),u.setUint32(c+12,o),u.setUint32(c+16,r);let y=m-e.MESSAGE_HEADER_LENGTH-sn;u.setUint32(c+20,y)}e.write=n;function a(t){let r=Wt.readHeader(t);if(!r)return null;if(r.type!==he.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=a})(fi||(fi={}));var Lr;(function(e){e.MESSAGE_HEADER_LENGTH=4;function n(t,r){r.writeUint32(sn+4),r.writeUint32(he.DELETE_ENTITY),r.writeUint32(t)}e.write=n;function a(t){let r=Wt.readHeader(t);if(!r)return null;if(r.type!==he.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...r,entityId:t.readUint32()}}e.read=a})(Lr||(Lr={}));var fo;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,r,o,f,u){let c=u.incrementWriteOffset(sn+e.MESSAGE_HEADER_LENGTH);u.writeBuffer(f,!1);let m=u.currentWriteOffset()-c;u.setUint32(c,m),u.setUint32(c+4,he.PUT_COMPONENT),u.setUint32(c+8,t),u.setUint32(c+12,o),u.setUint32(c+16,r);let y=m-e.MESSAGE_HEADER_LENGTH-sn;u.setUint32(c+20,y)}e.write=n;function a(t){let r=Wt.readHeader(t);if(!r)return null;if(r.type!==he.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=a})(fo||(fo={}));var ur;(function(e){e.MESSAGE_HEADER_LENGTH=20;function n(t,r,o,f,u,c){let m=c.incrementWriteOffset(sn+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(u,!1);let y=c.currentWriteOffset()-m;c.setUint32(m,y),c.setUint32(m+4,he.PUT_COMPONENT_NETWORK),c.setUint32(m+8,t),c.setUint32(m+12,o),c.setUint32(m+16,r),c.setUint32(m+20,f);let R=y-e.MESSAGE_HEADER_LENGTH-sn;c.setUint32(m+24,R)}e.write=n;function a(t){let r=Wt.readHeader(t);if(!r)return null;if(r.type!==he.PUT_COMPONENT_NETWORK)throw new Error("PutComponentNetworkOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),networkId:t.readUint32(),data:t.readBuffer()}}e.read=a})(ur||(ur={}));var Va;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,r,o,f,u){let c=sn+e.MESSAGE_HEADER_LENGTH,m=u.incrementWriteOffset(c);u.setUint32(m,c),u.setUint32(m+4,he.DELETE_COMPONENT_NETWORK),u.setUint32(m+8,t),u.setUint32(m+12,r),u.setUint32(m+16,o),u.setUint32(m+20,f)}e.write=n;function a(t){let r=Wt.readHeader(t);if(!r)return null;if(r.type!==he.DELETE_COMPONENT_NETWORK)throw new Error("DeleteComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),networkId:t.readUint32()}}e.read=a})(Va||(Va={}));var Ga;(function(e){e.MESSAGE_HEADER_LENGTH=8;function n(t,r,o){o.writeUint32(sn+4),o.writeUint32(he.DELETE_ENTITY_NETWORK),o.writeUint32(t),o.writeUint32(r)}e.write=n;function a(t){let r=Wt.readHeader(t);if(!r)return null;if(r.type!==he.DELETE_ENTITY_NETWORK)throw new Error("DeleteEntityNetwork tried to read another message type.");return{...r,entityId:t.readUint32(),networkId:t.readUint32()}}e.read=a})(Ga||(Ga={}));var Ya;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,r,o,f,u){let c=u.incrementWriteOffset(sn+e.MESSAGE_HEADER_LENGTH);u.writeBuffer(f,!1);let m=u.currentWriteOffset()-c;u.setUint32(c,m),u.setUint32(c+4,he.AUTHORITATIVE_PUT_COMPONENT),u.setUint32(c+8,t),u.setUint32(c+12,o),u.setUint32(c+16,r);let y=m-e.MESSAGE_HEADER_LENGTH-sn;u.setUint32(c+20,y)}e.write=n;function a(t){let r=Wt.readHeader(t);if(!r)return null;if(r.type!==he.AUTHORITATIVE_PUT_COMPONENT)throw new Error("AuthoritativePutComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=a})(Ya||(Ya={}));function W1(e,n){let a=[],t=[],r=[];function o(y){return function(g){let E=new Ke(g),x;for(;x=Wt.getHeader(E);){let _=E.currentReadOffset(),C;x.type===he.DELETE_COMPONENT?C=Vo.read(E):x.type===he.PUT_COMPONENT?C=fo.read(E):x.type===he.AUTHORITATIVE_PUT_COMPONENT?C=Ya.read(E):x.type===he.DELETE_ENTITY?C=Lr.read(E):x.type===he.APPEND_VALUE?C=fi.read(E):E.incrementReadOffset(x.length),C&&t.push({...C,transportId:y,messageBuffer:E.buffer().subarray(_,E.currentReadOffset())})}}}function f(y){return y.splice(0,y.length)}async function u(){let y=f(t),R=[];for(let g of y)if(g.type===he.DELETE_ENTITY)R.push(g.entityId),r.push(g);else{let E=e.entityContainer.getEntityState(g.entityId);if(E===qt.Removed)continue;if(E===qt.Unknown&&e.entityContainer.updateUsedEntity(g.entityId),"componentId"in g){let x=e.getComponentOrNull(g.componentId);if(x){let[_,C]=g.type===he.AUTHORITATIVE_PUT_COMPONENT?x.__forceUpdateFromCrdt(g):x.updateFromCrdt(g);_||(r.push(g),n&&n(g.entityId,g.type,x,C))}else r.push(g)}}for(let g of R){for(let E of e.componentsIter())E.entityDeleted(g,!0);e.entityContainer.updateRemovedEntity(g),n&&n(g,he.DELETE_ENTITY)}}async function c(y){let R=f(r),g=new Ke;for(let E of e.componentsIter())for(let x of E.getCrdtUpdates()){let _=g.currentWriteOffset();if(a.some(C=>C.filter(x))&&(x.type===he.PUT_COMPONENT?fo.write(x.entityId,x.timestamp,x.componentId,x.data,g):x.type===he.DELETE_COMPONENT?Vo.write(x.entityId,E.componentId,x.timestamp,g):x.type===he.APPEND_VALUE&&fi.write(x.entityId,x.timestamp,x.componentId,x.data,g),R.push({...x,messageBuffer:g.buffer().subarray(_,g.currentWriteOffset())})),n){let C=x.type===he.PUT_COMPONENT||x.type===he.APPEND_VALUE?E.get(x.entityId):void 0;n(x.entityId,x.type,E,C)}}for(let E of y){let x=g.currentWriteOffset();Lr.write(E,g),R.push({type:he.DELETE_ENTITY,entityId:E,messageBuffer:g.buffer().subarray(x,g.currentWriteOffset())}),n&&n(E,he.DELETE_ENTITY)}for(let E of a){let x=new Ke;for(let _ of R)_.transportId!==a.indexOf(E)&&E.filter(_)&&x.writeBuffer(_.messageBuffer,!1);await E.send(x.toBinary())}}function m(y){let R=a.push(y)-1;y.onmessage=o(R)}return{sendMessages:c,receiveMessages:u,addTransport:m}}var j1;(function(e){let n;(function(a){a[a.NETWORKED=0]="NETWORKED",a[a.RENDERER=1]="RENDERER"})(n=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))})(j1||(j1={}));function Gu(e,n){if(e===n)return 0;if(e===null&&n!==null)return-1;if(e!==null&&n===null)return 1;if(e instanceof Uint8Array&&n instanceof Uint8Array){let a=e.byteLength-n.byteLength;if(a!==0)return a>0?1:-1;let t;for(let r=0,o=e.byteLength;r<o;r++)if(t=e[r]-n[r],t!==0)return t>0?1:-1;return 0}if(typeof e=="string"){let a=e.length-n.length;return a!==0?a>0?1:-1:e.localeCompare(n)}return e>n?1:-1}function lp(e){return Object.freeze({...e})}function aC(e,n){let a=(n.get(e)||0)+1;return n.set(e,a),a}function sC(e,n,a,t){return function(o,f){for(let[u,c]of n)if(!(f&&!f(u)))if(t.has(u)){let m=t.get(u),y=new Ke;a.serialize(m,y),fo.write(u,c,e,y.toBinary(),o)}else Vo.write(u,e,c,o)}}var F1="__GLOBAL_ENTITY";function H1(e,n,a){function t(r){let{entityId:o,timestamp:f}=r,u=e.get(o);if(u===void 0||u<f)return An.StateUpdatedTimestamp;if(u>f)return An.StateOutdatedTimestamp;if(r.type===he.DELETE_COMPONENT&&!a.has(o))return An.NoChanges;let c=0;if(a.has(o)){let m=new Ke;n.serialize(a.get(o),m),c=Gu(m.toBinary(),r.data||null)}else c=Gu(null,r.data);return c===0?An.NoChanges:c>0?An.StateOutdatedData:An.StateUpdatedData}return t}function cC(e,n,a,t){return r=>{console.log("[ BOEDO ] [ CASLA ] ",r);let o=new Ke(r.data),f=a.deserialize(o);return t.set(r.entityId,f),n.set(r.entityId,r.timestamp),[null,f]}}function uC(e,n,a,t){let r=H1(n,a,t);return o=>{if(o.type!==he.PUT_COMPONENT&&o.type!==he.PUT_COMPONENT_NETWORK&&o.type!==he.DELETE_COMPONENT&&o.type!==he.DELETE_COMPONENT_NETWORK)return[null,t.get(o.entityId)];let f=r(o),u=o.entityId;switch(f){case An.StateUpdatedData:case An.StateUpdatedTimestamp:{if(n.set(u,o.timestamp),o.type===he.PUT_COMPONENT||o.type===he.PUT_COMPONENT_NETWORK){let c=new Ke(o.data);t.set(u,a.deserialize(c))}else t.delete(u);return[null,t.get(u)]}case An.StateOutdatedTimestamp:case An.StateOutdatedData:if(t.has(u)){let c=new Ke;return a.serialize(t.get(u),c),[{type:he.PUT_COMPONENT,componentId:e,data:c.toBinary(),entityId:u,timestamp:n.get(u)},t.get(u)]}else return[{type:he.DELETE_COMPONENT,componentId:e,entityId:u,timestamp:n.get(u)},void 0]}return[null,t.get(u)]}}function lC(e,n,a,t,r){return function*(){for(let o of a){let f=aC(o,n);if(r.has(o)){let u=new Ke;t.serialize(r.get(o),u),yield{type:he.PUT_COMPONENT,componentId:e,entityId:o,data:u.toBinary(),timestamp:f}}else yield{type:he.DELETE_COMPONENT,componentId:e,entityId:o,timestamp:f}}a.clear()}}function fy(e,n,a){let t=new Map,r=new Set,o=new Map,f=new Map,u=new Map;return{get componentId(){return n},get componentName(){return e},get componentType(){return 0},schema:a,has(c){return t.has(c)},deleteFrom(c,m=!0){let y=t.get(c);return t.delete(c)&&m&&r.add(c),y||null},entityDeleted(c,m){t.delete(c)&&m&&r.add(c)},getOrNull(c){let m=t.get(c);return m?lp(m):null},get(c){let m=t.get(c);if(!m)throw new Error(`[getFrom] Component ${e} for entity #${c} not found`);return lp(m)},create(c,m){if(t.get(c))throw new Error(`[create] Component ${e} for ${c} already exists`);let R=m===void 0?a.create():a.extend?a.extend(m):m;return t.set(c,R),r.add(c),R},createOrReplace(c,m){let y=m===void 0?a.create():a.extend?a.extend(m):m;return t.set(c,y),r.add(c),y},getMutableOrNull(c){let m=t.get(c);return m?(r.add(c),m):null},getOrCreateMutable(c,m){let y=t.get(c);return y?(r.add(c),y):this.create(c,m)},getMutable(c){let m=this.getMutableOrNull(c);if(m===null)throw new Error(`[mutable] Component ${e} for ${c} not found`);return m},*iterator(){for(let[c,m]of t)yield[c,m]},*dirtyIterator(){for(let c of r)yield c},getCrdtUpdates:lC(n,o,r,a,t),updateFromCrdt:uC(n,o,a,t),__forceUpdateFromCrdt:cC(n,o,a,t),__dry_run_updateFromCrdt:H1(o,a,t),dumpCrdtStateToBuffer:sC(n,o,a,t),validateBeforeChange(c,m){arguments.length===1?u.set(F1,c):m&&u.set(c,m)},__run_validateBeforeChange(c,m,y,R){let g=c&&u.get(c),E=u.get(F1),x=t.get(c),_={entity:c,currentValue:x,newValue:m,senderAddress:y,createdBy:R},C=E?.(_)??!0,M=(C&&g?.(_))??!0;return C&&M},getCrdtState(c){let m=t.get(c),y=o.get(c);if(m&&y!==void 0){let R=new Ke;return a.serialize(lp(m),R),{data:R.toBinary(),timestamp:y}}return null},onChange(c,m){let y=f.get(c)??[];y.push(m),f.set(c,y)},__onChangeCallbacks(c,m){let y=f.get(c);if(y)for(let R of y)R(m)}}}function V1(){let e=[];function n(){e.sort((r,o)=>o.priority-r.priority)}function a(r,o,f){let u=f??r.name;if(e.find(c=>c.fn===r))throw new Error(`System ${JSON.stringify(u)} already added to the engine`);e.push({fn:r,priority:o,name:u}),n()}function t(r){let o=-1;return typeof r=="string"?o=e.findIndex(f=>f.name===r):o=e.findIndex(f=>f.fn===r),o===-1?!1:(e.splice(o,1),n(),!0)}return{add:a,remove:t,getSystems(){return e}}}var dy=q1(new Set),G1="__GLOBAL_ENTITY";function Y1(){throw new Error("The set is frozen")}function q1(e){return e.add=Y1,e.clear=Y1,e}function fC(e,n){return e.timestamp>n.timestamp?1:-1}function $1(e,n,a,t){let r=new Map,o=new Set,f=[],u=new Map,c=new Map;function m(E){let x=E.raw.length;return x>1&&E.raw[x-1].timestamp<=E.raw[x-2].timestamp}function y(E){let x=r.get(E);if(x){for(m(x)&&x.raw.sort(fC);x.raw.length>t.maxElements;)x.raw.shift();let _=q1(new Set(x?.raw.map(C=>C.value)));return x.frozenSet=_,_}else return dy}function R(E,x){let _=r.get(E);_||(_={raw:[],frozenSet:dy},r.set(E,_));let C=a.extend?a.extend(x):x,M=t.timestampFunction(C);return uy&&Object.freeze(C),_.raw.push({value:C,timestamp:M}),{set:y(E),value:C}}return{get componentId(){return n},get componentName(){return e},get componentType(){return 1},schema:a,has(E){return r.has(E)},entityDeleted(E,x){r.delete(E)},get(E){let x=r.get(E);return x?x.frozenSet:dy},addValue(E,x){let{set:_,value:C}=R(E,x);o.add(E);let M=new Ke;return a.serialize(C,M),f.push({componentId:n,data:M.toBinary(),entityId:E,timestamp:0,type:he.APPEND_VALUE}),_},*iterator(){for(let[E,x]of r)yield[E,x.frozenSet]},*dirtyIterator(){for(let E of o)yield E},getCrdtUpdates(){return o.clear(),f.splice(0,f.length)},updateFromCrdt(E){if(E.type===he.APPEND_VALUE){let x=new Ke(E.data),{value:_}=R(E.entityId,a.deserialize(x));return[null,_]}return[null,void 0]},dumpCrdtStateToBuffer:function(E,x){for(let[_,{raw:C}]of r)if(!(x&&!x(_)))for(let M of C){let q=new Ke;a.serialize(M.value,q),fi.write(_,0,n,q.toBinary(),E)}},onChange(E,x){let _=u.get(E)??[];_.push(x),u.set(E,_)},__onChangeCallbacks(E,x){let _=u.get(E);if(_)for(let C of _)C(x)},__dry_run_updateFromCrdt(E){return An.StateUpdatedData},validateBeforeChange(E,x){arguments.length===1?c.set(G1,E):x&&c.set(E,x)},__run_validateBeforeChange(E,x,_,C){let M=E&&c.get(E),q=c.get(G1),ue=[...this.get(E).values()],H={entity:E,currentValue:ue,newValue:x,senderAddress:_,createdBy:C},F=q?.(H)??!0,U=(F&&M?.(H))??!0;return F&&U},getCrdtState(E){let x=r.get(E);return!x||x.raw.length===0,null},__forceUpdateFromCrdt(E){return[null,void 0]}}}function*J1(e,n){if(n.has(e)){n.delete(e);for(let[a,t]of n)t.parent===e&&(yield*J1(a,n));yield e}}function Rc(e,n,a){let t=new Map(e.getEntitiesWith(a));return J1(n,t)}function K1(e,n){let a=bc(e),t=li(e);e.removeEntity(n);let r=t.getOrNull(n);if(r)for(let[o,f]of e.getEntitiesWith(a))f.entityId===r.entityId&&f.networkId===r.networkId&&K1(e,o)}function Q1(e,n){let a=cr(e);if(li(e).has(n))return K1(e,n);for(let r of Rc(e,n,a))e.removeEntity(r)}var X1=[0,1,2,4,5,6,7,8,9,10,11,12,13],dC=1<<20;function fp(e){let n=Nu(e),a={previousFrameMaxTimestamp:0,currentFrameMaxTimestamp:0,buttonState:new Map,thisFrameCommands:[]};function t(_,C,M){let q=n.get(M);for(let ue of Array.from(q).reverse())if(ue.button===C&&ue.state===_)return ue}function*r(_,C){let M=n.get(C);for(let q of Array.from(M).reverse())q.button===_&&(yield q)}function o(){let _=a.currentFrameMaxTimestamp;a.previousFrameMaxTimestamp=_,a.thisFrameCommands.length&&(a.thisFrameCommands=[]);for(let[,C]of e.getEntitiesWith(n)){let M=Array.from(C);for(let q=M.length-1;q>=0;q--){let ue=M[q];if(ue.timestamp>_&&(_=ue.timestamp),ue.timestamp>a.previousFrameMaxTimestamp&&a.thisFrameCommands.push(ue),ue.state===0||ue.state===1){let H=a.buttonState.get(ue.button);if(!H||ue.timestamp>H.timestamp)a.buttonState.set(ue.button,ue);else break}}}a.currentFrameMaxTimestamp=_}e.addSystem(o,dC,"@dcl/ecs#inputSystem");function f(_){return _>a.previousFrameMaxTimestamp&&_<=a.currentFrameMaxTimestamp}function u(_,C){if(_!==3)return c(_,C);for(let M of X1){let q=c(M,C);if(q)return q}return null}function c(_,C){let M=null,q=null;for(let ue of r(_,C))if(q){if(!M&&ue.state===1){M=ue;break}}else if(ue.state===0){q=ue;continue}return!q||!M?null:M.timestamp<q.timestamp&&f(q.timestamp)?{up:q,down:M}:null}function m(_,C,M){if(_!==3)return R(_,C,M);for(let q of X1){let ue=R(q,C,M);if(ue)return ue}return null}function y(_,C,M){if(M)return m(_,C,M);for(let q of a.thisFrameCommands)if((q.button===_||_===3)&&q.state===C)return q;return null}function R(_,C,M){let q=t(C,_,M);return q&&f(q.timestamp)?q:null}function g(_,C){return u(_,C)!==null}function E(_,C,M){if(M){let q=t(C,_,M);return q&&f(q.timestamp)||!1}else{for(let q of a.thisFrameCommands)if((q.button===_||_===3)&&q.state===C)return!0;return!1}}function x(_){return a.buttonState.get(_)?.state===1}return{isPressed:x,getClick:u,getInputCommand:y,isClicked:g,isTriggered:E}}var Z1;(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(Z1||(Z1={}));function mC(e){let n=e?.entityContainer??D1(),a=new Map,t=V1(),r=!1;function o(P,G=1e5,z){t.add(P,G,z)}function f(P){return t.remove(P)}function u(){return n.generateEntity()}function c(P){for(let[,G]of a)G.componentName!=="core-schema::Network-Entity"&&G.entityDeleted(P,!0);return n.removeEntity(P)}function m(P){return Q1({removeEntity:c,defineComponentFromSchema:R,getEntitiesWith:C,defineComponent:E},P)}function y(P,G){if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let z=Fo(P);if(a.get(z))throw new Error(`Component number ${z} was already registered.`);if(G.componentName!==P)throw new Error(`Component name doesn't match componentDefinition.componentName ${P} != ${G.componentName}`);if(G.componentId!==z)throw new Error(`Component number doesn't match componentDefinition.componentId ${z} != ${G.componentId}`);return a.set(z,G),G}function R(P,G){let z=Fo(P),N=a.get(z);if(N)return N;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let $=fy(P,z,G);return a.set(z,$),$}function g(P,G,z){let N=Fo(P),$=a.get(N);if($)return $;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let ee=$1(P,N,G,z);return a.set(N,ee),ee}function E(P,G,z){let N=Fo(P),$=a.get(N);if($)return $;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let ee=T.Map(G,z),fe=fy(P,N,ee),_e={...fe,create(ze,Be){return fe.create(ze,Be)},createOrReplace(ze,Be){return fe.createOrReplace(ze,Be)}};return a.set(N,_e),_e}function x(P){let G=typeof P=="number"?P:Fo(P),z=a.get(G);if(!z)throw new Error(`Component ${P} not found. You need to declare the components at the beginnig of the engine declaration`);return z}function _(P){let G=typeof P=="number"?P:Fo(P);return a.get(G)??null}function*C(...P){for(let[G,...z]of H(...P))yield[G,...z.map(N=>N.get(G))]}function M(P){let G=xc({defineComponent:E});for(let[z,N]of C(G))if(N.value===P)return z;return null}function q(P){return M(P)}function*ue(P){let G=cp({defineComponent:E});for(let[z,N]of C(G))z!==0&&N.tags?.some($=>$===P)&&(yield z)}function*H(...P){let[G,...z]=P;for(let[N]of G.iterator()){let $=!0;for(let ee of z)if(!ee.has(N)){$=!1;break}$&&(yield[N,...P])}}function F(){return t.getSystems()}function U(){return a.values()}function Z(P){if(r)throw new Error("Engine is already sealed. No components can be removed at this stage");let G=typeof P=="number"?P:Fo(P);a.delete(G)}cr({defineComponentFromSchema:R});function ie(){r||(r=!0)}return{addEntity:u,removeEntity:c,removeEntityWithChildren:m,addSystem:o,getSystems:F,removeSystem:f,defineComponent:E,defineComponentFromSchema:R,defineValueSetComponentFromSchema:g,getEntitiesWith:C,getComponent:x,getComponentOrNull:_,getEntityOrNullByName:M,getEntityByName:q,getEntitiesByTag:ue,removeComponentDefinition:Z,registerComponentDefinition:y,entityContainer:n,componentsIter:U,seal:ie}}function e_(e){let n=mC(e),t=W1(n,(o,f,u,c)=>{if(f===he.DELETE_ENTITY)for(let m of n.componentsIter())m?.__onChangeCallbacks(o,void 0);else u?.__onChangeCallbacks(o,c);return e?.onChangeFunction(o,f,u,c)});async function r(o){await t.receiveMessages();for(let u of n.getSystems()){let c=u.fn(o);Vu(c,`A system (${u.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`)}let f=n.entityContainer.releaseRemovedEntities();await t.sendMessages(f)}return{_id:Date.now(),addEntity:n.addEntity,removeEntity:n.removeEntity,removeEntityWithChildren:n.removeEntityWithChildren,addSystem:n.addSystem,removeSystem:n.removeSystem,defineComponent:n.defineComponent,defineComponentFromSchema:n.defineComponentFromSchema,defineValueSetComponentFromSchema:n.defineValueSetComponentFromSchema,registerComponentDefinition:n.registerComponentDefinition,getEntitiesWith:n.getEntitiesWith,getComponent:n.getComponent,getComponentOrNull:n.getComponentOrNull,removeComponentDefinition:n.removeComponentDefinition,componentsIter:n.componentsIter,seal:n.seal,getEntityOrNullByName:n.getEntityOrNullByName,getEntityByName:n.getEntityByName,getEntitiesByTag:n.getEntitiesByTag,update:r,RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:n.entityContainer.getEntityState,addTransport:t.addTransport,entityContainer:n.entityContainer}}var Yu=(e={})=>({button:3,...e});function dp(e,n){let a=ci(e),t;(function(x){x[x.Click=0]="Click",x[x.Down=1]="Down",x[x.Up=2]="Up",x[x.HoverEnter=3]="HoverEnter",x[x.HoverLeave=4]="HoverLeave"})(t||(t={}));let r=new Map;function o(x){return r.get(x)||r.set(x,new Map).get(x)}function f(x,_,C){(a.getMutableOrNull(x)||a.create(x)).pointerEvents.push({eventType:_,eventInfo:{button:C.button,showFeedback:C.showFeedback,showHighlight:C.showHighlight,hoverText:C.hoverText,maxDistance:C.maxDistance}})}function u(x,_,C){let M=a.getMutableOrNull(x);M&&(M.pointerEvents=M.pointerEvents.filter(q=>!(q.eventInfo?.button===C&&q.eventType===_)))}function c(x){return x===t.Up?0:x===t.HoverLeave?3:x===t.HoverEnter?2:1}function m(x,_){let C=o(x),M=C.get(_);M?.opts.hoverText&&u(x,c(_),M.opts.button),C.delete(_)}e.addSystem(function(){for(let[_,C]of r){if(e.getEntityState(_)===qt.Removed){r.delete(_);continue}for(let[M,{cb:q,opts:ue}]of C){if(M===t.Click){let H=n.getClick(ue.button,_);H&&Vu(q(H.up),"Click event returned a thenable. Only synchronous functions are allowed")}if(M===t.Down||M===t.Up||M===t.HoverEnter||M===t.HoverLeave){let H=n.getInputCommand(ue.button,c(M),_);H&&Vu(q(H),"Event handler returned a thenable. Only synchronous functions are allowed")}}}});let y=(...x)=>{let[_,C,M]=x;if(typeof _=="number")return y({entity:_,opts:M??{}},C);let{entity:q,opts:ue}=_,H=Yu(ue);m(q,t.Down),o(q).set(t.Down,{cb:C,opts:H}),f(q,1,H)},R=(...x)=>{let[_,C,M]=x;if(typeof _=="number")return R({entity:_,opts:M??{}},C);let{entity:q,opts:ue}=_,H=Yu(ue);m(q,t.Up),o(q).set(t.Up,{cb:C,opts:H}),f(q,0,H)};return{removeOnClick(x){m(x,t.Click)},removeOnPointerDown(x){m(x,t.Down)},removeOnPointerUp(x){m(x,t.Up)},removeOnPointerHoverEnter(x){m(x,t.HoverEnter)},removeOnPointerHoverLeave(x){m(x,t.HoverLeave)},onClick(x,_){let{entity:C}=x,M=Yu(x.opts);m(C,t.Click),o(C).set(t.Click,{cb:_,opts:M}),f(C,1,M)},onPointerDown:y,onPointerUp:R,onPointerHoverEnter:(...x)=>{let[_,C]=x,{entity:M,opts:q}=_,ue=Yu(q);m(M,t.HoverEnter),o(M).set(t.HoverEnter,{cb:C,opts:ue}),f(M,2,ue)},onPointerHoverLeave:(...x)=>{let[_,C]=x,{entity:M,opts:q}=_,ue=Yu(q);m(M,t.HoverLeave),o(M).set(t.HoverLeave,{cb:C,opts:ue}),f(M,3,ue)}}}var py=new Map;function pp(e){if(py.has(e._id))return py.get(e._id);let n=_c(e),a=Iu(e),t=Da(e),r=new Map;function o(y){let R=a.getOrNull(y),g=n.getOrNull(y),E=r.get(y);return!R||!g||!E?!1:!!((R.state===1&&!E.changed||f(y)&&!E.changed)&&!E.completed)}function f(y){let R=n.getOrNull(y),g=r.get(y)?.tween;if(R&&!g||!R&&g)return!0;if(!R||!g)return!1;let E=new Ke;return n.schema.serialize(R,E),Gu(E.toBinary(),g)!==0}e.addSystem(()=>{for(let[y,R]of e.getEntitiesWith(n)){if(f(y)){let E=new Ke;n.schema.serialize(R,E),r.set(y,{tween:E.toBinary(),completed:!1,changed:!0});continue}let g=r.get(y);g&&(g.changed=!1,o(y)&&(g.completed=!0))}},Number.NEGATIVE_INFINITY);function u(){let y=[];function R(g){if(g.mode?.$case==="move"&&g.mode.move)return{...g,mode:{...g.mode,move:{start:g.mode.move.end,end:g.mode.move.start}}};if(g.mode?.$case==="rotate"&&g.mode.rotate)return{...g,mode:{...g.mode,rotate:{start:g.mode.rotate.end,end:g.mode.rotate.start}}};if(g.mode?.$case==="scale"&&g.mode.scale)return{...g,mode:{...g.mode,scale:{start:g.mode.scale.end,end:g.mode.scale.start}}};if(g.mode?.$case==="textureMove"&&g.mode.textureMove)return{...g,mode:{...g.mode,textureMove:{start:g.mode.textureMove.end,end:g.mode.textureMove.start}}};throw new Error("Invalid tween")}e.addSystem(()=>{for(let g of y)g();y.length=0;for(let[g,E]of e.getEntitiesWith(n)){let x=r.get(g);if(x&&x.completed){let _=t.getOrNull(g);if(!_)continue;let{sequence:C}=_;if(C&&C.length){let[M,...q]=C;n.createOrReplace(g,M);let ue=t.getMutable(g);ue.sequence=q,_.loop===0&&ue.sequence.push(E),x.completed=!1,x.changed=!0}else _.loop===1?(n.createOrReplace(g,R(E)),x.completed=!1,x.changed=!0):_.loop===0&&(n.deleteFrom(g),r.delete(g),y.push(()=>{n.createOrReplace(g,E)}))}}},Number.NEGATIVE_INFINITY)}globalThis.ENABLE_SDK_TWEEN_SEQUENCE!==!1&&u();let m={tweenCompleted:o};return py.set(e._id,m),m}function t_(e){let n=ci(e),a=sp(e),t=Ua(e),r=ui(e),o=new Set,f=0;function u(c){if(f+=c,!(f<=10)){f=0;for(let[m]of e.getEntitiesWith(n)){if(o.has(m)||t.has(m)||r.has(m))continue;let y=a.getOrNull(m);y&&(y.collisionMask===void 0||y.collisionMask&1)||(o.add(m),console.log(`\u26A0\uFE0F Missing MeshCollider component on entity ${m}. Add a MeshCollider to the entity so it can be clickeable by the player.
See https://docs.decentraland.org/creator/development-guide/sdk7/colliders/#pointer-blocking`))}}}e.removeSystem(u),e.addSystem(u)}function n_(e){let n=Yd(e),a=new Map;function t(g){return a.has(g)&&a.get(g)!==void 0}function r(g,E,x){t(g)?a.get(g).triggerCallbackMap.set(E,x):a.set(g,{triggerCallbackMap:new Map([[E,x]]),lastConsumedTimestamp:-1})}function o(g,E){if(!a.has(g)||!a.get(g).triggerCallbackMap.has(E))return;let x=a.get(g).triggerCallbackMap;x.delete(E),x.size===0&&a.delete(g)}function f(g,E){r(g,0,E)}function u(g){o(g,0)}function c(g,E){r(g,1,E)}function m(g){o(g,1)}function y(g,E){r(g,2,E)}function R(g){o(g,2)}return e.addSystem(function(){let E=[];for(let[x,_]of a){if(e.getEntityState(x)===qt.Removed){E.push(x);continue}let C=n.get(x);if(C.size===0)continue;let M=Array.from(C.values()),q=0;if(_.lastConsumedTimestamp>=0){if(M[M.length-1].timestamp<=_.lastConsumedTimestamp)continue;let H=M.length-2;for(;H>=0&&M[H].timestamp>_.lastConsumedTimestamp;)H--;q=H+1}if(!(q>=M.length)){for(let ue=q;ue<M.length;ue++)switch(M[ue].eventType){case 0:if(!_.triggerCallbackMap.has(0))continue;_.triggerCallbackMap.get(0)(M[ue]);break;case 1:if(!_.triggerCallbackMap.has(1))continue;_.triggerCallbackMap.get(1)(M[ue]);break;case 2:if(!_.triggerCallbackMap.has(2))continue;_.triggerCallbackMap.get(2)(M[ue]);break}_.lastConsumedTimestamp=M[M.length-1].timestamp}}E.forEach(x=>a.delete(x))}),{onTriggerEnter:f,removeOnTriggerEnter:u,onTriggerStay:c,removeOnTriggerStay:m,onTriggerExit:y,removeOnTriggerExit:R}}var pe=e_(),hC=fp(pe),qu=dp(pe,hC);var mU=pp(pe),my=n_(pe);t_(pe);var o_=bu(pe);var r_=Au(pe),i_=Vh(pe),a_=Ru(pe);var s_=Gh(pe),mp=Ua(pe),c_=Yh(pe);var hp=Cu(pe),hy=ci(pe),yp=Nu(pe);var u_=Vd(pe),qa=Zh(pe);var gp=Da(pe),Ep=Iu(pe);var l_=vu(pe),f_=ku(pe),d_=Ou(pe),p_=Wa(pe),m_=ja(pe),h_=Fa(pe),y_=ui(pe),g_=qd(pe);var E_;(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(E_||(E_={}));var $u;(function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"})($u||($u={}));var Tp;(function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"})(Tp||(Tp={}));var T_;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"})(T_||(T_={}));var S_;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(S_||(S_={}));var __;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(__||(__={}));function yy(e){let n=e.getComponentOrNull("composite::root");return n||e.defineComponent("composite::root",{src:T.String,entities:T.Array(T.Map({src:T.Entity,dest:T.Entity}))})}var yC="/";function gC(e,n=!1){let a="",t=0,r=-1,o=0,f;for(let u=0;u<=e.length;++u){if(u<e.length)f=e.charCodeAt(u);else{if(f===47)break;f=47}if(f===47){if(!(r===u-1||o===1))if(r!==u-1&&o===2){if(a.length<2||t!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){let c=a.lastIndexOf("/");if(c!==a.length-1){c===-1?(a="",t=0):(a=a.slice(0,c),t=a.length-1-a.lastIndexOf("/")),r=u,o=0;continue}}else if(a.length===2||a.length===1){a="",t=0,r=u,o=0;continue}}n&&(a.length>0?a+="/..":a="..",t=2)}else a.length>0?a+="/"+e.slice(r+1,u):a=e.slice(r+1,u),t=u-r-1;r=u,o=0}else f===46&&o!==-1?++o:o=-1}return a}function Sp(...e){let n="",a=!1,t;for(let r=e.length-1;r>=-1&&!a;r--){let o;r>=0?o=e[r]:(t===void 0&&(t=yC),o=t),o.length!==0&&(n=o+"/"+n,a=o.charCodeAt(0)===47)}return n=gC(n,!a),a?n.length>0?"/"+n:"/":n.length>0?n:"."}function x_(e){if(e.length===0)return".";let n=e.charCodeAt(0),a=n===47,t=-1,r=!0;for(let o=e.length-1;o>=1;--o)if(n=e.charCodeAt(o),n===47){if(!r){t=o;break}}else r=!1;return t===-1?a?"/":".":a&&t===1?"//":e.slice(0,t)}function _p(e,n){return(e.startsWith(".")?Sp(n,e):Sp(e)).substring(1)}var Cc;(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(Cc||(Cc={}));function b_(e,n){return n.data?.$case==="json"?n.data.json:e.schema.deserialize(new Ke(n.data?.binary))}function TC(e,n){let a=e.getComponentOrNull(n.name);if(a)return a;if(n.name.startsWith("core::")){if(n.name in ny)return ny[n.name](e);throw new Error(`The core component ${n.name} was not found.`)}else{if(n.jsonSchema)return e.defineComponentFromSchema(n.name,T.fromJson(n.jsonSchema));throw new Error(`${n.name} is not defined and there is no schema to define it.`)}}function SC(e,n,a,{entityMapping:t}){let r=a.get(n);if(r)return r;if(t?.type===Cc.EMM_DIRECT_MAPPING){let f=t.getCompositeEntity(n);return a.set(n,f),f}let o=t?.type===Cc.EMM_NEXT_AVAILABLE?t.getNextAvailableEntity():e.addEntity();if(o===null)throw new Error("There is no more entities to allocate");return a.set(n,o),o}function gy(e,n,a,t){let{rootEntity:r,alreadyRequestedSrc:o,entityMapping:f}=t,u=o||new Set,c=x_(Sp(n.src)),m=Fo("core::Transform"),y=yy(e),R=new Map,g=C=>SC(e,C,R,t),E=r??g(0);r&&R.set(0,r);let x=n.composite.components.find(C=>C.name===y.componentName);if(x)for(let[C,M]of x.data){let q=b_(y,M),ue=_p(q.src,c),H=a.getCompositeOrNull(ue),F=g(C);if(H){if(u.has(H.src)||H.src===n.src)throw new Error(`Composite ${n.src} has a recursive instanciation while try to instance ${H.src}. Previous instances: ${u.toString()}`);gy(e,H,a,{rootEntity:F,alreadyRequestedSrc:new Set(u).add(H.src),entityMapping:f?.type===Cc.EMM_NEXT_AVAILABLE?f:void 0})}}for(let C of n.composite.components){if(C.name===y.componentName)continue;let M=TC(e,C);for(let[q,ue]of C.data){let H=b_(M,ue),F=g(q),U=M.create(F,H);if(M.componentId===m){let Z=U;Z.parent?Z.parent=g(Z.parent):Z.parent=g(0)}else T.mutateNestedValues(M.schema.jsonSchema,U,(Z,ie)=>ie.serializationType==="entity"?{changed:!0,value:g(Z)}:{changed:!1})}}let _=y.getMutableOrNull(E)||y.create(E);for(let[C,M]of R)_.entities.push({src:C,dest:M});return _.src=n.src,E}var bo=we(Pe());var xo=we(Pe());var A_;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(A_||(A_={}));function _C(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new I_.Error("Unrecognized enum value "+e+" for enum NullValue")}}function xC(e){switch(e){case 0:return"NULL_VALUE";default:throw new I_.Error("Unrecognized enum value "+e+" for enum NullValue")}}function R_(){return{fields:new Map}}var Nc;(function(e){function n(u,c=xo.default.Writer.create()){return u.fields.forEach((m,y)=>{m!==void 0&&xp.encode({key:y,value:m},c.uint32(10).fork()).ldelim()}),c}e.encode=n;function a(u,c){let m=u instanceof xo.default.Reader?u:xo.default.Reader.create(u),y=c===void 0?m.len:m.pos+c,R=R_();for(;m.pos<y;){let g=m.uint32();switch(g>>>3){case 1:if(g!==10)break;let E=xp.decode(m,m.uint32());E.value!==void 0&&R.fields.set(E.key,E.value);continue}if((g&7)===4||g===0)break;m.skipType(g&7)}return R}e.decode=a;function t(u){return{fields:AC(u.fields)?Object.entries(u.fields).reduce((c,[m,y])=>(c.set(m,y),c),new Map):new Map}}e.fromJSON=t;function r(u){let c={};return c.fields={},u.fields&&u.fields.forEach((m,y)=>{c.fields[y]=m}),c}e.toJSON=r;function o(u){let c=R_();return u!==void 0&&Object.keys(u).forEach(m=>{c.fields.set(m,u[m])}),c}e.wrap=o;function f(u){let c={};return[...u.fields.keys()].forEach(m=>{c[m]=u.fields.get(m)}),c}e.unwrap=f})(Nc||(Nc={}));function bC(){return{key:"",value:void 0}}var xp;(function(e){function n(o,f=xo.default.Writer.create()){return o.key!==""&&f.uint32(10).string(o.key),o.value!==void 0&&Rn.encode(Rn.wrap(o.value),f.uint32(18).fork()).ldelim(),f}e.encode=n;function a(o,f){let u=o instanceof xo.default.Reader?o:xo.default.Reader.create(o),c=f===void 0?u.len:u.pos+f,m=bC();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==10)break;m.key=u.string();continue;case 2:if(y!==18)break;m.value=Rn.unwrap(Rn.decode(u,u.uint32()));continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return m}e.decode=a;function t(o){return{key:Gi(o.key)?String(o.key):"",value:Gi(o?.value)?o.value:void 0}}e.fromJSON=t;function r(o){let f={};return o.key!==void 0&&(f.key=o.key),o.value!==void 0&&(f.value=o.value),f}e.toJSON=r})(xp||(xp={}));function C_(){return{kind:void 0}}var Rn;(function(e){function n(u,c=xo.default.Writer.create()){switch(u.kind?.$case){case"nullValue":c.uint32(8).int32(u.kind.nullValue);break;case"numberValue":c.uint32(17).double(u.kind.numberValue);break;case"stringValue":c.uint32(26).string(u.kind.stringValue);break;case"boolValue":c.uint32(32).bool(u.kind.boolValue);break;case"structValue":Nc.encode(Nc.wrap(u.kind.structValue),c.uint32(42).fork()).ldelim();break;case"listValue":Ic.encode(Ic.wrap(u.kind.listValue),c.uint32(50).fork()).ldelim();break}return c}e.encode=n;function a(u,c){let m=u instanceof xo.default.Reader?u:xo.default.Reader.create(u),y=c===void 0?m.len:m.pos+c,R=C_();for(;m.pos<y;){let g=m.uint32();switch(g>>>3){case 1:if(g!==8)break;R.kind={$case:"nullValue",nullValue:m.int32()};continue;case 2:if(g!==17)break;R.kind={$case:"numberValue",numberValue:m.double()};continue;case 3:if(g!==26)break;R.kind={$case:"stringValue",stringValue:m.string()};continue;case 4:if(g!==32)break;R.kind={$case:"boolValue",boolValue:m.bool()};continue;case 5:if(g!==42)break;R.kind={$case:"structValue",structValue:Nc.unwrap(Nc.decode(m,m.uint32()))};continue;case 6:if(g!==50)break;R.kind={$case:"listValue",listValue:Ic.unwrap(Ic.decode(m,m.uint32()))};continue}if((g&7)===4||g===0)break;m.skipType(g&7)}return R}e.decode=a;function t(u){return{kind:Gi(u.nullValue)?{$case:"nullValue",nullValue:_C(u.nullValue)}:Gi(u.numberValue)?{$case:"numberValue",numberValue:Number(u.numberValue)}:Gi(u.stringValue)?{$case:"stringValue",stringValue:String(u.stringValue)}:Gi(u.boolValue)?{$case:"boolValue",boolValue:!!u.boolValue}:Gi(u.structValue)?{$case:"structValue",structValue:u.structValue}:Gi(u.listValue)?{$case:"listValue",listValue:[...u.listValue]}:void 0}}e.fromJSON=t;function r(u){let c={};return u.kind?.$case==="nullValue"&&(c.nullValue=u.kind?.nullValue!==void 0?xC(u.kind?.nullValue):void 0),u.kind?.$case==="numberValue"&&(c.numberValue=u.kind?.numberValue),u.kind?.$case==="stringValue"&&(c.stringValue=u.kind?.stringValue),u.kind?.$case==="boolValue"&&(c.boolValue=u.kind?.boolValue),u.kind?.$case==="structValue"&&(c.structValue=u.kind?.structValue),u.kind?.$case==="listValue"&&(c.listValue=u.kind?.listValue),c}e.toJSON=r;function o(u){let c=C_();if(u===null)c.kind={$case:"nullValue",nullValue:0};else if(typeof u=="boolean")c.kind={$case:"boolValue",boolValue:u};else if(typeof u=="number")c.kind={$case:"numberValue",numberValue:u};else if(typeof u=="string")c.kind={$case:"stringValue",stringValue:u};else if(Array.isArray(u))c.kind={$case:"listValue",listValue:u};else if(typeof u=="object")c.kind={$case:"structValue",structValue:u};else if(typeof u<"u")throw new Error("Unsupported any value type: "+typeof u);return c}e.wrap=o;function f(u){return u.kind?.$case==="nullValue"?null:u.kind?.$case==="numberValue"?u.kind?.numberValue:u.kind?.$case==="stringValue"?u.kind?.stringValue:u.kind?.$case==="boolValue"?u.kind?.boolValue:u.kind?.$case==="structValue"?u.kind?.structValue:u.kind?.$case==="listValue"?u.kind?.listValue:void 0}e.unwrap=f})(Rn||(Rn={}));function N_(){return{values:[]}}var Ic;(function(e){function n(u,c=xo.default.Writer.create()){for(let m of u.values)Rn.encode(Rn.wrap(m),c.uint32(10).fork()).ldelim();return c}e.encode=n;function a(u,c){let m=u instanceof xo.default.Reader?u:xo.default.Reader.create(u),y=c===void 0?m.len:m.pos+c,R=N_();for(;m.pos<y;){let g=m.uint32();switch(g>>>3){case 1:if(g!==10)break;R.values.push(Rn.unwrap(Rn.decode(m,m.uint32())));continue}if((g&7)===4||g===0)break;m.skipType(g&7)}return R}e.decode=a;function t(u){return{values:Array.isArray(u?.values)?[...u.values]:[]}}e.fromJSON=t;function r(u){let c={};return u.values?c.values=u.values.map(m=>m):c.values=[],c}e.toJSON=r;function o(u){let c=N_();return c.values=u??[],c}e.wrap=o;function f(u){return u?.hasOwnProperty("values")&&Array.isArray(u.values)?u.values:u}e.unwrap=f})(Ic||(Ic={}));var I_=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function AC(e){return typeof e=="object"&&e!==null}function Gi(e){return e!=null}function RC(){return{data:void 0}}var Yi;(function(e){function n(o,f=bo.default.Writer.create()){switch(o.data?.$case){case"json":Rn.encode(Rn.wrap(o.data.json),f.uint32(10).fork()).ldelim();break;case"binary":f.uint32(18).bytes(o.data.binary);break}return f}e.encode=n;function a(o,f){let u=o instanceof bo.default.Reader?o:bo.default.Reader.create(o),c=f===void 0?u.len:u.pos+f,m=RC();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==10)break;m.data={$case:"json",json:Rn.unwrap(Rn.decode(u,u.uint32()))};continue;case 2:if(y!==18)break;m.data={$case:"binary",binary:u.bytes()};continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return m}e.decode=a;function t(o){return{data:Ja(o.json)?{$case:"json",json:o.json}:Ja(o.binary)?{$case:"binary",binary:vC(o.binary)}:void 0}}e.fromJSON=t;function r(o){let f={};return o.data?.$case==="json"&&(f.json=o.data?.json),o.data?.$case==="binary"&&(f.binary=o.data?.binary!==void 0?kC(o.data?.binary):void 0),f}e.toJSON=r})(Yi||(Yi={}));function CC(){return{name:"",jsonSchema:void 0,data:new Map}}var vc;(function(e){function n(o,f=bo.default.Writer.create()){return o.name!==""&&f.uint32(10).string(o.name),o.jsonSchema!==void 0&&Rn.encode(Rn.wrap(o.jsonSchema),f.uint32(18).fork()).ldelim(),o.data.forEach((u,c)=>{bp.encode({key:c,value:u},f.uint32(26).fork()).ldelim()}),f}e.encode=n;function a(o,f){let u=o instanceof bo.default.Reader?o:bo.default.Reader.create(o),c=f===void 0?u.len:u.pos+f,m=CC();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==10)break;m.name=u.string();continue;case 2:if(y!==18)break;m.jsonSchema=Rn.unwrap(Rn.decode(u,u.uint32()));continue;case 3:if(y!==26)break;let R=bp.decode(u,u.uint32());R.value!==void 0&&m.data.set(R.key,R.value);continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return m}e.decode=a;function t(o){return{name:Ja(o.name)?String(o.name):"",jsonSchema:Ja(o?.jsonSchema)?o.jsonSchema:void 0,data:OC(o.data)?Object.entries(o.data).reduce((f,[u,c])=>(f.set(Number(u),Yi.fromJSON(c)),f),new Map):new Map}}e.fromJSON=t;function r(o){let f={};return o.name!==void 0&&(f.name=o.name),o.jsonSchema!==void 0&&(f.jsonSchema=o.jsonSchema),f.data={},o.data&&o.data.forEach((u,c)=>{f.data[c]=Yi.toJSON(u)}),f}e.toJSON=r})(vc||(vc={}));function NC(){return{key:0,value:void 0}}var bp;(function(e){function n(o,f=bo.default.Writer.create()){return o.key!==0&&f.uint32(8).int32(o.key),o.value!==void 0&&Yi.encode(o.value,f.uint32(18).fork()).ldelim(),f}e.encode=n;function a(o,f){let u=o instanceof bo.default.Reader?o:bo.default.Reader.create(o),c=f===void 0?u.len:u.pos+f,m=NC();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==8)break;m.key=u.int32();continue;case 2:if(y!==18)break;m.value=Yi.decode(u,u.uint32());continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return m}e.decode=a;function t(o){return{key:Ja(o.key)?Number(o.key):0,value:Ja(o.value)?Yi.fromJSON(o.value):void 0}}e.fromJSON=t;function r(o){let f={};return o.key!==void 0&&(f.key=Math.round(o.key)),o.value!==void 0&&(f.value=o.value?Yi.toJSON(o.value):void 0),f}e.toJSON=r})(bp||(bp={}));function IC(){return{version:0,components:[]}}var $a;(function(e){function n(o,f=bo.default.Writer.create()){o.version!==0&&f.uint32(8).int32(o.version);for(let u of o.components)vc.encode(u,f.uint32(18).fork()).ldelim();return f}e.encode=n;function a(o,f){let u=o instanceof bo.default.Reader?o:bo.default.Reader.create(o),c=f===void 0?u.len:u.pos+f,m=IC();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==8)break;m.version=u.int32();continue;case 2:if(y!==18)break;m.components.push(vc.decode(u,u.uint32()));continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return m}e.decode=a;function t(o){return{version:Ja(o.version)?Number(o.version):0,components:Array.isArray(o?.components)?o.components.map(f=>vc.fromJSON(f)):[]}}e.fromJSON=t;function r(o){let f={};return o.version!==void 0&&(f.version=Math.round(o.version)),o.components?f.components=o.components.map(u=>u?vc.toJSON(u):void 0):f.components=[],f}e.toJSON=r})($a||($a={}));var kc=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function vC(e){if(kc.Buffer)return Uint8Array.from(kc.Buffer.from(e,"base64"));{let n=kc.atob(e),a=new Uint8Array(n.length);for(let t=0;t<n.length;++t)a[t]=n.charCodeAt(t);return a}}function kC(e){if(kc.Buffer)return kc.Buffer.from(e).toString("base64");{let n=[];return e.forEach(a=>{n.push(String.fromCharCode(a))}),kc.btoa(n.join(""))}}function OC(e){return typeof e=="object"&&e!==null}function Ja(e){return e!=null}var qi;(function(e){function n(u){return $a.fromJSON(u)}e.fromJson=n;function a(u){return $a.decode(u)}e.fromBinary=a;function t(u){return $a.toJSON(u)}e.toJson=t;function r(u){return $a.encode(u).finish()}e.toBinary=r;function o(u,c,m,y={}){gy(u,c,m,y)}e.instance=o;function f(u,c="/"){return _p(u,c)}e.resolveAndNormalizePath=f})(qi||(qi={}));var qe=cr(pe);var lr=ip(pe),Ey=M1(pe),Oc=rp(pe),Ap=ap(pe),Ty=sp(pe),cD=xc(pe),uD=cp(pe),En=_c(pe);var fr=P1(pe),Rp=up(pe),wc=li(pe),Cp=bc(pe);var $i=.45454545454545453,Ji=2.2,v_=1e-6,Ju=Math.PI/180,Ku=360/(Math.PI*2);var wt;(function(e){e.TwoPi=Math.PI*2;function n(U,Z,ie=1401298e-51){let P=U-Z;return-ie<=P&&P<=ie}e.withinEpsilon=n;function a(U){let Z=U.toString(16);return U<=15?("0"+Z).toUpperCase():Z.toUpperCase()}e.toHex=a;function t(U){let Z=+U;return Z===0||isNaN(Z)?Z:Z>0?1:-1}e.sign=t;function r(U,Z=0,ie=1){return Math.min(ie,Math.max(Z,U))}e.clamp=r;function o(U){return Math.log(U)*Math.LOG2E}e.log2=o;function f(U,Z){return U-Math.floor(U/Z)*Z}e.repeat=f;function u(U,Z,ie){return(U-Z)/(ie-Z)}e.normalize=u;function c(U,Z,ie){return U*(ie-Z)+Z}e.denormalize=c;function m(U,Z){let ie=f(Z-U,360);return ie>180&&(ie-=360),ie}e.deltaAngle=m;function y(U,Z){let ie=f(U,Z*2);return Z-Math.abs(ie-Z)}e.pingPong=y;function R(U,Z,ie){let P=r(ie);return P=-2*P*P*P+3*P*P,Z*P+U*(1-P)}e.smoothStep=R;function g(U,Z,ie){let P=0;return Math.abs(Z-U)<=ie?P=Z:P=U+t(Z-U)*ie,P}e.moveTowards=g;function E(U,Z,ie){let P=m(U,Z),G=0;return-ie<P&&P<ie?G=Z:G=g(U,U+P,ie),G}e.moveTowardsAngle=E;function x(U,Z,ie){return U+(Z-U)*ie}e.lerp=x;function _(U,Z,ie){let P=f(Z-U,360);return P>180&&(P-=360),U+P*r(ie)}e.lerpAngle=_;function C(U,Z,ie){let P=0;return U!==Z?P=r((ie-U)/(Z-U)):P=0,P}e.inverseLerp=C;function M(U,Z,ie,P,G){let z=G*G,N=G*z,$=2*N-3*z+1,ee=-2*N+3*z,fe=N-2*z+G,_e=N-z;return U*$+ie*ee+Z*fe+P*_e}e.hermite=M;function q(U,Z){return U===Z?U:Math.random()*(Z-U)+U}e.randomRange=q;function ue(U,Z,ie){return(U-Z)/(ie-Z)}e.rangeToPercent=ue;function H(U,Z,ie){return(ie-Z)*U+Z}e.percentToRange=H;function F(U){return U-e.TwoPi*Math.floor((U+Math.PI)/e.TwoPi)}e.normalizeRadians=F})(wt||(wt={}));var ne;(function(e){function n(v){let B=Math.abs(v.x),X=Math.abs(v.y);if(B!==X)return!0;let be=Math.abs(v.z);return B!==be}e.isNonUniform=n;function a(v=0,B=0,X=0){return{x:v,y:B,z:X}}e.create=a;function t(v,B){return{x:v.x+B.x,y:v.y+B.y,z:v.z+B.z}}e.add=t;function r(v,B,X){X.x=v.x+B.x,X.y=v.y+B.y,X.z=v.z+B.z}e.addToRef=r;function o(v,B){return{x:v.x-B.x,y:v.y-B.y,z:v.z-B.z}}e.subtract=o;function f(v,B,X){X.x=v.x-B.x,X.y=v.y-B.y,X.z=v.z-B.z}e.subtractToRef=f;function u(v,B,X,be,Se){Se.x=v.x-B,Se.y=v.y-X,Se.z=v.z-be}e.subtractFromFloatsToRef=u;function c(v){return{x:-v.x,y:-v.y,z:-v.z}}e.negate=c;function m(v,B){B.x=v.x,B.y=v.y,B.z=v.z}e.copyFrom=m;function y(v,B,X,be){be.x=v,be.y=B,be.z=X}e.copyFromFloats=y;function R(v){return a(v.x,v.y,v.z)}e.clone=R;function g(v,B,X,be){let Se=G(v,X)-be,Ie=G(B,X)-be;return Se/(Se-Ie)}e.getClipFactor=g;function E(v,B,X){let be=ie(v),Se=ie(B),Ie=G(be,Se),je=a();return Be(be,Se,je),G(je,X)>0?Math.acos(Ie):-Math.acos(Ie)}e.getAngleBetweenVectors=E;function x(v,B=0){return a(v[B],v[B+1],v[B+2])}e.fromArray=x;function _(v,B){return x(v,B)}e.fromFloatArray=_;function C(v,B,X){X.x=v[B],X.y=v[B+1],X.z=v[B+2]}e.fromArrayToRef=C;function M(v,B,X){return C(v,B,X)}e.fromFloatArrayToRef=M;function q(v){return Math.sqrt(v.x*v.x+v.y*v.y+v.z*v.z)}e.length=q;function ue(v){return v.x*v.x+v.y*v.y+v.z*v.z}e.lengthSquared=ue;function H(v,B,X){X.x=v.x*B,X.y=v.y*B,X.z=v.z*B}e.scaleToRef=H;function F(v,B){return a(v.x*B,v.y*B,v.z*B)}e.scale=F;function U(v,B){let X=a(0,0,0);return Z(v,B,X),X}e.normalizeFromLength=U;function Z(v,B,X){if(B===0||B===1){m(v,X);return}H(v,1/B,X)}e.normalizeFromLengthToRef=Z;function ie(v){return U(v,q(v))}e.normalize=ie;function P(v,B){Z(v,q(v),B)}e.normalizeToRef=P;function G(v,B){return v.x*B.x+v.y*B.y+v.z*B.z}e.dot=G;function z(v,B){let X=R(v);return N(v,B,X),X}e.applyMatrix4=z;function N(v,B,X){let{x:be,y:Se,z:Ie}=v,je=B._m,Ut=1/(je[3]*be+je[7]*Se+je[11]*Ie+je[15]);X.x=(je[0]*be+je[4]*Se+je[8]*Ie+je[12])*Ut,X.y=(je[1]*be+je[5]*Se+je[9]*Ie+je[13])*Ut,X.z=(je[2]*be+je[6]*Se+je[10]*Ie+je[14])*Ut}e.applyMatrix4ToRef=N;function $(v,B){let X=a();return ee(v,B,X),X}e.rotate=$;function ee(v,B,X){let{x:be,y:Se,z:Ie}=v,{x:je,y:Ut,z:O,w:W}=B,J=W*be+Ut*Ie-O*Se,me=W*Se+O*be-je*Ie,se=W*Ie+je*Se-Ut*be,Ae=-je*be-Ut*Se-O*Ie;X.x=J*W+Ae*-je+me*-O-se*-Ut,X.y=me*W+Ae*-Ut+se*-je-J*-O,X.z=se*W+Ae*-O+J*-Ut-me*-je}e.rotateToRef=ee;function fe(v,B,X){let be=a(0,0,0);return _e(v,B,X,be),be}e.lerp=fe;function _e(v,B,X,be){be.x=v.x+(B.x-v.x)*X,be.y=v.y+(B.y-v.y)*X,be.z=v.z+(B.z-v.z)*X}e.lerpToRef=_e;function ze(v,B){let X=Zo();return Be(v,B,X),X}e.cross=ze;function Be(v,B,X){X.x=v.y*B.z-v.z*B.y,X.y=v.z*B.x-v.x*B.z,X.z=v.x*B.y-v.y*B.x}e.crossToRef=Be;function Xe(v,B){let X=Zo();return Ze(v,B,X),X}e.transformCoordinates=Xe;function Ze(v,B,X){return ct(v.x,v.y,v.z,B,X)}e.transformCoordinatesToRef=Ze;function ct(v,B,X,be,Se){let Ie=be._m,je=v*Ie[0]+B*Ie[4]+X*Ie[8]+Ie[12],Ut=v*Ie[1]+B*Ie[5]+X*Ie[9]+Ie[13],O=v*Ie[2]+B*Ie[6]+X*Ie[10]+Ie[14],W=1/(v*Ie[3]+B*Ie[7]+X*Ie[11]+Ie[15]);Se.x=je*W,Se.y=Ut*W,Se.z=O*W}e.transformCoordinatesFromFloatsToRef=ct;function pt(v,B){let X=Zo();return Ot(v,B,X),X}e.transformNormal=pt;function Ot(v,B,X){ot(v.x,v.y,v.z,B,X)}e.transformNormalToRef=Ot;function ot(v,B,X,be,Se){let Ie=be._m;Se.x=v*Ie[0]+B*Ie[4]+X*Ie[8],Se.y=v*Ie[1]+B*Ie[5]+X*Ie[9],Se.z=v*Ie[2]+B*Ie[6]+X*Ie[10]}e.transformNormalFromFloatsToRef=ot;function Tn(v,B,X,be,Se){let Ie=Se*Se,je=Se*Ie,Ut=.5*(2*B.x+(-v.x+X.x)*Se+(2*v.x-5*B.x+4*X.x-be.x)*Ie+(-v.x+3*B.x-3*X.x+be.x)*je),O=.5*(2*B.y+(-v.y+X.y)*Se+(2*v.y-5*B.y+4*X.y-be.y)*Ie+(-v.y+3*B.y-3*X.y+be.y)*je),W=.5*(2*B.z+(-v.z+X.z)*Se+(2*v.z-5*B.z+4*X.z-be.z)*Ie+(-v.z+3*B.z-3*X.z+be.z)*je);return a(Ut,O,W)}e.catmullRom=Tn;function Q(v,B,X){let be=a();return le(v,B,X,be),be}e.clamp=Q;function le(v,B,X,be){let Se=v.x;Se=Se>X.x?X.x:Se,Se=Se<B.x?B.x:Se;let Ie=v.y;Ie=Ie>X.y?X.y:Ie,Ie=Ie<B.y?B.y:Ie;let je=v.z;je=je>X.z?X.z:je,je=je<B.z?B.z:je,y(Se,Ie,je,be)}e.clampToRef=le;function xe(v,B,X,be,Se){let Ie=Se*Se,je=Se*Ie,Ut=2*je-3*Ie+1,O=-2*je+3*Ie,W=je-2*Ie+Se,J=je-Ie,me=v.x*Ut+X.x*O+B.x*W+be.x*J,se=v.y*Ut+X.y*O+B.y*W+be.y*J,Ae=v.z*Ut+X.z*O+B.z*W+be.z*J;return a(me,se,Ae)}e.hermite=xe;function V(v,B){let X=a();return Ni(B,v.x,v.y,v.z,X),X}e.minimize=V;function oe(v,B){let X=a();return Yr(v,B.x,B.y,B.z,X),X}e.maximize=oe;function Ne(v,B){return Math.sqrt(mt(v,B))}e.distance=Ne;function mt(v,B){let X=v.x-B.x,be=v.y-B.y,Se=v.z-B.z;return X*X+be*be+Se*Se}e.distanceSquared=mt;function Nn(v,B){let X=t(v,B);return H(X,.5,X),X}e.center=Nn;function aa(v,B,X){let be=Zo();return bi(v,B,X,be),be}e.rotationFromAxis=aa;function bi(v,B,X,be){let Se=Ve.create();Ve.fromAxisToRotationQuaternionToRef(v,B,X,Se),m(Ve.toEulerAngles(Se),be)}e.rotationFromAxisToRef=bi;function sa(v){return`(${v.x}, ${v.y}, ${v.z})`}e.toString=sa;function Tr(v){let B=v.x||0;return B=B*397^(v.y||0),B=B*397^(v.z||0),B}e.getHashCode=Tr;function Sr(v,B){return v.x===B.x&&v.y===B.y&&v.z===B.z}e.equals=Sr;function Ai(v,B,X=v_){return wt.withinEpsilon(v.x,B.x,X)&&wt.withinEpsilon(v.y,B.y,X)&&wt.withinEpsilon(v.z,B.z,X)}e.equalsWithEpsilon=Ai;function Qo(v,B,X,be){return v.x===B&&v.y===X&&v.z===be}e.equalsToFloats=Qo;function Gr(v,B){let X=a();return zt(v,B,X),X}e.multiply=Gr;function zt(v,B,X){X.x=v.x*B.x,X.y=v.y*B.y,X.z=v.z*B.z}e.multiplyToRef=zt;function Ri(v,B,X,be,Se){Se.x=v.x*B,Se.y=v.y*X,Se.z=v.z*be}e.multiplyByFloatsToRef=Ri;function Xo(v,B,X,be){let Se=a();return Ri(v,B,X,be,Se),Se}e.multiplyByFloats=Xo;function Ci(v,B){return{x:v.x/B.x,y:v.y/B.y,z:v.z/B.z}}e.divide=Ci;function ca(v,B,X){X.x=v.x/B.x,X.y=v.y/B.y,X.z=v.z/B.z}e.divideToRef=ca;function Yr(v,B,X,be,Se){B>v.x?Se.x=B:Se.x=v.x,X>v.y?Se.y=X:Se.y=v.y,be>v.z?Se.z=be:Se.z=v.z}e.maximizeInPlaceFromFloatsToRef=Yr;function Ni(v,B,X,be,Se){B<v.x?Se.x=B:Se.x=v.x,X<v.y?Se.y=X:Se.y=v.y,be<v.z?Se.z=be:Se.z=v.z}e.minimizeInPlaceFromFloatsToRef=Ni;function ua(v){return a(Math.floor(v.x),Math.floor(v.y),Math.floor(v.z))}e.floor=ua;function Ii(v){return a(v.x-Math.floor(v.x),v.y-Math.floor(v.y),v.z-Math.floor(v.z))}e.fract=Ii;function Zo(){return a(0,0,0)}e.Zero=Zo;function la(){return a(1,1,1)}e.One=la;function qr(){return a(0,1,0)}e.Up=qr;function fa(){return a(0,-1,0)}e.Down=fa;function da(){return a(0,0,1)}e.Forward=da;function vi(){return a(0,0,-1)}e.Backward=vi;function $r(){return a(1,0,0)}e.Right=$r;function pa(){return a(-1,0,0)}e.Left=pa;function ma(){return a(Math.random(),Math.random(),Math.random())}e.Random=ma})(ne||(ne={}));var Np;(function(e){function n(_,C,M,q){return{normal:ne.create(_,C,M),d:q}}e.create=n;function a(_){return n(_[0],_[1],_[2],_[3])}e.fromArray=a;function t(_,C,M){return n(0,0,0,0)}e.fromPoints=t;function r(_,C){let M=n(0,0,0,0);return M.normal=ne.normalize(C),M.d=-(C.x*_.x+C.y*_.y+C.z*_.z),M}e.romPositionAndNormal=r;function o(_,C,M){let q=-(C.x*_.x+C.y*_.y+C.z*_.z);return ne.dot(M,C)+q}e.signedDistanceToPlaneFromPositionAndNormal=o;function f(_){return[_.normal.x,_.normal.y,_.normal.z,_.d]}e.asArray=f;function u(_){return n(_.normal.x,_.normal.y,_.normal.z,_.d)}e.clone=u;function c(_){return 0}e.getHashCode=c;function m(_){let C=n(0,0,0,0),M=Math.sqrt(_.normal.x*_.normal.x+_.normal.y*_.normal.y+_.normal.z*_.normal.z),q=0;return M!==0&&(q=1/M),C.normal.x=_.normal.x*q,C.normal.y=_.normal.y*q,C.normal.z=_.normal.z*q,C.d*=q,_}e.normalize=m;function y(_,C){let M=dr.create();dr.transposeToRef(C,M);let q=M._m,ue=_.normal.x,H=_.normal.y,F=_.normal.z,U=_.d,Z=ue*q[0]+H*q[1]+F*q[2]+U*q[3],ie=ue*q[4]+H*q[5]+F*q[6]+U*q[7],P=ue*q[8]+H*q[9]+F*q[10]+U*q[11],G=ue*q[12]+H*q[13]+F*q[14]+U*q[15];return n(Z,ie,P,G)}e.transform=y;function R(_,C){return _.normal.x*C.x+_.normal.y*C.y+_.normal.z*C.z+_.d}e.dotCoordinate=R;function g(_,C,M){let q=C.x-_.x,ue=C.y-_.y,H=C.z-_.z,F=M.x-_.x,U=M.y-_.y,Z=M.z-_.z,ie=ue*Z-H*U,P=H*F-q*Z,G=q*U-ue*F,z=Math.sqrt(ie*ie+P*P+G*G),N;z!==0?N=1/z:N=0;let $=ne.create(ie*N,P*N,G*N);return{normal:$,d:-($.x*_.x+$.y*_.y+$.z*_.z)}}e.copyFromPoints=g;function E(_,C,M){return ne.dot(_.normal,C)<=M}e.isFrontFacingTo=E;function x(_,C){return ne.dot(C,_.normal)+_.d}e.signedDistanceTo=x})(Np||(Np={}));var dr;(function(e){function n(S){return S._m}e.m=n;let a=0,t={};function r(){return t}e.IdentityReadonly=r;function o(){let S={updateFlag:0,isIdentity:!1,isIdentity3x2:!0,_isIdentityDirty:!0,_isIdentity3x2Dirty:!0,_m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return $t(S,!1),S}e.create=o;function f(S,I=0){let k=o();return u(S,I,k),k}e.fromArray=f;function u(S,I,k){for(let w=0;w<16;w++)k._m[w]=S[w+I];zt(k)}e.fromArrayToRef=u;function c(S,I,k,w){for(let j=0;j<16;j++)w._m[j]=S[j+I]*k;zt(w)}e.fromFloatArrayToRefScaled=c;function m(S,I,k,w,j,de,ce,Te,ke,Ye,Je,yt,$e,Lt,Vt,on,Jt){let We=Jt._m;We[0]=S,We[1]=I,We[2]=k,We[3]=w,We[4]=j,We[5]=de,We[6]=ce,We[7]=Te,We[8]=ke,We[9]=Ye,We[10]=Je,We[11]=yt,We[12]=$e,We[13]=Lt,We[14]=Vt,We[15]=on,zt(Jt)}e.fromValuesToRef=m;function y(S,I,k,w,j,de,ce,Te,ke,Ye,Je,yt,$e,Lt,Vt,on){let Jt=o(),We=Jt._m;return We[0]=S,We[1]=I,We[2]=k,We[3]=w,We[4]=j,We[5]=de,We[6]=ce,We[7]=Te,We[8]=ke,We[9]=Ye,We[10]=Je,We[11]=yt,We[12]=$e,We[13]=Lt,We[14]=Vt,We[15]=on,zt(Jt),Jt}e.fromValues=y;function R(S,I,k){let w=o();return g(S,I,k,w),w}e.compose=R;function g(S,I,k,w){let j=[o(),o(),o()];z(S.x,S.y,S.z,j[1]),Gr(I,j[0]),Se(j[1],j[0],w),$r(w,k)}e.composeToRef=g;function E(){let S=y(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return $t(S,!0),S}e.Identity=E;function x(S){m(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,S),$t(S,!0)}e.IdentityToRef=x;function _(){let S=y(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return $t(S,!1),S}e.Zero=_;function C(S){let I=o();return M(S,I),I}e.RotationX=C;function M(S,I){let k=Math.sin(S),w=Math.cos(S);m(1,0,0,0,0,w,k,0,0,-k,w,0,0,0,0,1,I),$t(I,w===1&&k===0)}e.rotationXToRef=M;function q(S){let I=o();return ue(S,I),I}e.rotationY=q;function ue(S,I){let k=Math.sin(S),w=Math.cos(S);m(w,0,-k,0,0,1,0,0,k,0,w,0,0,0,0,1,I),$t(I,w===1&&k===0)}e.rotationYToRef=ue;function H(S){let I=o();return F(S,I),I}e.rotationZ=H;function F(S,I){let k=Math.sin(S),w=Math.cos(S);m(w,k,0,0,-k,w,0,0,0,0,1,0,0,0,0,1,I),$t(I,w===1&&k===0)}e.rotationZToRef=F;function U(S,I){let k=o();return Z(S,I,k),k}e.rotationAxis=U;function Z(S,I,k){let w=Math.sin(-I),j=Math.cos(-I),de=1-j,ce=ne.normalize(S),Te=k._m;Te[0]=ce.x*ce.x*de+j,Te[1]=ce.x*ce.y*de-ce.z*w,Te[2]=ce.x*ce.z*de+ce.y*w,Te[3]=0,Te[4]=ce.y*ce.x*de+ce.z*w,Te[5]=ce.y*ce.y*de+j,Te[6]=ce.y*ce.z*de-ce.x*w,Te[7]=0,Te[8]=ce.z*ce.x*de-ce.y*w,Te[9]=ce.z*ce.y*de+ce.x*w,Te[10]=ce.z*ce.z*de+j,Te[11]=0,Te[12]=0,Te[13]=0,Te[14]=0,Te[15]=1,zt(k)}e.rotationAxisToRef=Z;function ie(S,I,k){let w=o();return P(S,I,k,w),w}e.rotationYawPitchRoll=ie;function P(S,I,k,w){let j=Ve.Zero();Ve.fromRotationYawPitchRollToRef(S,I,k,j),Gr(j,w)}e.rotationYawPitchRollToRef=P;function G(S,I,k){let w=o();return z(S,I,k,w),w}e.scaling=G;function z(S,I,k,w){m(S,0,0,0,0,I,0,0,0,0,k,0,0,0,0,1,w),$t(w,S===1&&I===1&&k===1)}e.scalingToRef=z;function N(S,I,k){let w=o();return $(S,I,k,w),w}e.translation=N;function $(S,I,k,w){m(1,0,0,0,0,1,0,0,0,0,1,0,S,I,k,1,w),$t(w,S===0&&I===0&&k===0)}e.translationToRef=$;function ee(S,I,k){let w=o();return fe(S,I,k,w),w}e.lerp=ee;function fe(S,I,k,w){for(let j=0;j<16;j++)w._m[j]=S._m[j]*(1-k)+I._m[j]*k;zt(w)}e.lerpToRef=fe;function _e(S,I,k){let w=o();return ze(S,I,k,w),w}e.decomposeLerp=_e;function ze(S,I,k,w){let j=ne.Zero(),de=Ve.Zero(),ce=ne.Zero();W(S,j,de,ce);let Te=ne.Zero(),ke=Ve.Zero(),Ye=ne.Zero();W(I,Te,ke,Ye);let Je=ne.Zero();ne.lerpToRef(j,Te,k,Je);let yt=Ve.Zero();Ve.slerpToRef(de,ke,k,yt);let $e=ne.Zero();ne.lerpToRef(ce,Ye,k,$e),g(Je,yt,$e,w)}e.decomposeLerpToRef=ze;function Be(S,I,k){let w=o();return Xe(S,I,k,w),w}e.LookAtLH=Be;function Xe(S,I,k,w){let j=ne.Zero(),de=ne.Zero(),ce=ne.Zero();ne.subtractToRef(I,S,ce),ne.normalizeToRef(ce,ce),ne.crossToRef(k,ce,j);let Te=ne.lengthSquared(j);Te===0?j.x=1:ne.normalizeFromLengthToRef(j,Math.sqrt(Te),j),ne.crossToRef(ce,j,de),ne.normalizeToRef(de,de);let ke=-ne.dot(j,S),Ye=-ne.dot(de,S),Je=-ne.dot(ce,S);m(j.x,de.x,ce.x,0,j.y,de.y,ce.y,0,j.z,de.z,ce.z,0,ke,Ye,Je,1,w)}e.lookAtLHToRef=Xe;function Ze(S,I,k){let w=o();return ct(S,I,k,w),w}e.lookAtRH=Ze;function ct(S,I,k,w){let j=ne.Zero(),de=ne.Zero(),ce=ne.Zero();ne.subtractToRef(S,I,ce),ne.normalizeToRef(ce,ce),ne.crossToRef(k,ce,j);let Te=ne.lengthSquared(j);Te===0?j.x=1:ne.normalizeFromLengthToRef(j,Math.sqrt(Te),j),ne.crossToRef(ce,j,de),ne.normalizeToRef(de,de);let ke=-ne.dot(j,S),Ye=-ne.dot(de,S),Je=-ne.dot(ce,S);m(j.x,de.x,ce.x,0,j.y,de.y,ce.y,0,j.z,de.z,ce.z,0,ke,Ye,Je,1,w)}e.lookAtRHToRef=ct;function pt(S,I,k,w){let j=o();return Ot(S,I,k,w,j),j}e.orthoLH=pt;function Ot(S,I,k,w,j){let de=k,ce=w,Te=2/S,ke=2/I,Ye=2/(ce-de),Je=-(ce+de)/(ce-de);m(Te,0,0,0,0,ke,0,0,0,0,Ye,0,0,0,Je,1,j),$t(j,Te===1&&ke===1&&Ye===1&&Je===0)}e.orthoLHToRef=Ot;function ot(S,I,k,w,j,de){let ce=o();return Tn(S,I,k,w,j,de,ce),ce}e.OrthoOffCenterLH=ot;function Tn(S,I,k,w,j,de,ce){let Te=j,ke=de,Ye=2/(I-S),Je=2/(w-k),yt=2/(ke-Te),$e=-(ke+Te)/(ke-Te),Lt=(S+I)/(S-I),Vt=(w+k)/(k-w);m(Ye,0,0,0,0,Je,0,0,0,0,yt,0,Lt,Vt,$e,1,ce),zt(ce)}e.orthoOffCenterLHToRef=Tn;function Q(S,I,k,w,j,de){let ce=o();return le(S,I,k,w,j,de,ce),ce}e.orthoOffCenterRH=Q;function le(S,I,k,w,j,de,ce){Tn(S,I,k,w,j,de,ce),ce._m[10]*=-1}e.orthoOffCenterRHToRef=le;function xe(S,I,k,w){let j=o(),de=k,ce=w,Te=2*de/S,ke=2*de/I,Ye=(ce+de)/(ce-de),Je=-2*ce*de/(ce-de);return m(Te,0,0,0,0,ke,0,0,0,0,Ye,1,0,0,Je,0,j),$t(j,!1),j}e.perspectiveLH=xe;function V(S,I,k,w){let j=o();return oe(S,I,k,w,j),j}e.perspectiveFovLH=V;function oe(S,I,k,w,j,de=!0){let ce=k,Te=w,ke=1/Math.tan(S*.5),Ye=de?ke/I:ke,Je=de?ke:ke*I,yt=(Te+ce)/(Te-ce),$e=-2*Te*ce/(Te-ce);m(Ye,0,0,0,0,Je,0,0,0,0,yt,1,0,0,$e,0,j),$t(j,!1)}e.perspectiveFovLHToRef=oe;function Ne(S,I,k,w){let j=o();return mt(S,I,k,w,j),j}e.PerspectiveFovRH=Ne;function mt(S,I,k,w,j,de=!0){let ce=k,Te=w,ke=1/Math.tan(S*.5),Ye=de?ke/I:ke,Je=de?ke:ke*I,yt=-(Te+ce)/(Te-ce),$e=-2*Te*ce/(Te-ce);m(Ye,0,0,0,0,Je,0,0,0,0,yt,-1,0,0,$e,0,j),$t(j,!1)}e.perspectiveFovRHToRef=mt;function Nn(S,I,k,w,j=!1){let de=j?-1:1,ce=Math.tan(S.upDegrees*Math.PI/180),Te=Math.tan(S.downDegrees*Math.PI/180),ke=Math.tan(S.leftDegrees*Math.PI/180),Ye=Math.tan(S.rightDegrees*Math.PI/180),Je=2/(ke+Ye),yt=2/(ce+Te),$e=w._m;$e[0]=Je,$e[1]=$e[2]=$e[3]=$e[4]=0,$e[5]=yt,$e[6]=$e[7]=0,$e[8]=(ke-Ye)*Je*.5,$e[9]=-((ce-Te)*yt*.5),$e[10]=-k/(I-k),$e[11]=1*de,$e[12]=$e[13]=$e[15]=0,$e[14]=-(2*k*I)/(k-I),zt(w)}e.perspectiveFovWebVRToRef=Nn;function aa(S){return[S._m[0],S._m[1],S._m[4],S._m[5]]}e.GetAsMatrix2x2=aa;function bi(S){return[S._m[0],S._m[1],S._m[2],S._m[4],S._m[5],S._m[6],S._m[8],S._m[9],S._m[10]]}e.GetAsMatrix3x3=bi;function sa(S){let I=o();return Tr(S,I),I}e.transpose=sa;function Tr(S,I){let k=I._m,w=S._m;k[0]=w[0],k[1]=w[4],k[2]=w[8],k[3]=w[12],k[4]=w[1],k[5]=w[5],k[6]=w[9],k[7]=w[13],k[8]=w[2],k[9]=w[6],k[10]=w[10],k[11]=w[14],k[12]=w[3],k[13]=w[7],k[14]=w[11],k[15]=w[15],$t(I,S.isIdentity,S._isIdentityDirty)}e.transposeToRef=Tr;function Sr(S){let I=o();return Ai(S,I),I}e.reflection=Sr;function Ai(S,I){let k=Np.normalize(S),w=k.normal.x,j=k.normal.y,de=k.normal.z,ce=-2*w,Te=-2*j,ke=-2*de;m(ce*w+1,Te*w,ke*w,0,ce*j,Te*j+1,ke*j,0,ce*de,Te*de,ke*de+1,0,ce*k.d,Te*k.d,ke*k.d,1,I)}e.reflectionToRef=Ai;function Qo(S,I,k,w){m(S.x,S.y,S.z,0,I.x,I.y,I.z,0,k.x,k.y,k.z,0,0,0,0,1,w)}e.fromXYZAxesToRef=Qo;function Gr(S,I){let k=S.x*S.x,w=S.y*S.y,j=S.z*S.z,de=S.x*S.y,ce=S.z*S.w,Te=S.z*S.x,ke=S.y*S.w,Ye=S.y*S.z,Je=S.x*S.w;I._m[0]=1-2*(w+j),I._m[1]=2*(de+ce),I._m[2]=2*(Te-ke),I._m[3]=0,I._m[4]=2*(de-ce),I._m[5]=1-2*(j+k),I._m[6]=2*(Ye+Je),I._m[7]=0,I._m[8]=2*(Te+ke),I._m[9]=2*(Ye-Je),I._m[10]=1-2*(w+k),I._m[11]=0,I._m[12]=0,I._m[13]=0,I._m[14]=0,I._m[15]=1,zt(I)}e.fromQuaternionToRef=Gr;function zt(S){S.updateFlag=a++,S.isIdentity=!1,S.isIdentity3x2=!1,S._isIdentityDirty=!0,S._isIdentity3x2Dirty=!0}function Ri(S){if(S._isIdentityDirty){S._isIdentityDirty=!1;let I=S._m;S.isIdentity=I[0]===1&&I[1]===0&&I[2]===0&&I[3]===0&&I[4]===0&&I[5]===1&&I[6]===0&&I[7]===0&&I[8]===0&&I[9]===0&&I[10]===1&&I[11]===0&&I[12]===0&&I[13]===0&&I[14]===0&&I[15]===1}return S.isIdentity}e.isIdentityUpdate=Ri;function Xo(S){return S._isIdentity3x2Dirty&&(S._isIdentity3x2Dirty=!1,S._m[0]!==1||S._m[5]!==1||S._m[15]!==1||S._m[1]!==0||S._m[2]!==0||S._m[3]!==0||S._m[4]!==0||S._m[6]!==0||S._m[7]!==0||S._m[8]!==0||S._m[9]!==0||S._m[10]!==0||S._m[11]!==0||S._m[12]!==0||S._m[13]!==0||S._m[14]!==0?S.isIdentity3x2=!1:S.isIdentity3x2=!0),S.isIdentity3x2}e.isIdentityAs3x2Update=Xo;function Ci(S){if(S.isIdentity===!0)return 1;let I=S._m,k=I[0],w=I[1],j=I[2],de=I[3],ce=I[4],Te=I[5],ke=I[6],Ye=I[7],Je=I[8],yt=I[9],$e=I[10],Lt=I[11],Vt=I[12],on=I[13],Jt=I[14],We=I[15],ln=$e*We-Jt*Lt,fn=yt*We-on*Lt,ut=yt*Jt-on*$e,it=Je*We-Vt*Lt,dn=Je*Jt-$e*Vt,It=Je*on-Vt*yt,Dt=+(Te*ln-ke*fn+Ye*ut),zn=-(ce*ln-ke*it+Ye*dn),jn=+(ce*fn-Te*it+Ye*It),Kt=-(ce*ut-Te*dn+ke*It);return k*Dt+w*zn+j*jn+de*Kt}e.determinant=Ci;function ca(S){return S._m}e.toArray=ca;function Yr(S){return S._m}e.asArray=Yr;function Ni(S){m(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,S),$t(S,!1)}e.reset=Ni;function ua(S,I){let k=o();return Ii(S,I,k),k}e.add=ua;function Ii(S,I,k){for(let w=0;w<16;w++)k._m[w]=S._m[w]+I._m[w];zt(k)}e.addToRef=Ii;function Zo(S,I){for(let k=0;k<16;k++)S._m[k]+=I._m[k];zt(S)}e.addToSelf=Zo;function la(S){let I=o();return qr(S,I),I}e.invert=la;function qr(S,I){if(S.isIdentity===!0){X(S,I);return}let k=S._m,w=k[0],j=k[1],de=k[2],ce=k[3],Te=k[4],ke=k[5],Ye=k[6],Je=k[7],yt=k[8],$e=k[9],Lt=k[10],Vt=k[11],on=k[12],Jt=k[13],We=k[14],ln=k[15],fn=Lt*ln-We*Vt,ut=$e*ln-Jt*Vt,it=$e*We-Jt*Lt,dn=yt*ln-on*Vt,It=yt*We-Lt*on,Dt=yt*Jt-on*$e,zn=+(ke*fn-Ye*ut+Je*it),jn=-(Te*fn-Ye*dn+Je*It),Kt=+(Te*ut-ke*dn+Je*Dt),No=-(Te*it-ke*It+Ye*Dt),_r=w*zn+j*jn+de*Kt+ce*No;if(_r===0){X(S,I);return}let Qt=1/_r,Io=Ye*ln-We*Je,xr=ke*ln-Jt*Je,Sn=ke*We-Jt*Ye,Jr=Te*ln-on*Je,Kr=Te*We-on*Ye,Qr=Te*Jt-on*ke,vo=Ye*Vt-Lt*Je,ya=ke*Vt-$e*Je,ki=ke*Lt-$e*Ye,ga=Te*Vt-yt*Je,Rl=Te*Lt-yt*Ye,Cl=Te*$e-yt*ke,Zc=-(j*fn-de*ut+ce*it),Nl=+(w*fn-de*dn+ce*It),eu=-(w*ut-j*dn+ce*Dt),Ea=+(w*it-j*It+de*Dt),Sm=+(j*Io-de*xr+ce*Sn),tu=-(w*Io-de*Jr+ce*Kr),ht=+(w*xr-j*Jr+ce*Qr),Il=-(w*Sn-j*Kr+de*Qr),nu=-(j*vo-de*ya+ce*ki),vl=+(w*vo-de*ga+ce*Rl),_m=-(w*ya-j*ga+ce*Cl),xm=+(w*ki-j*Rl+de*Cl);m(zn*Qt,Zc*Qt,Sm*Qt,nu*Qt,jn*Qt,Nl*Qt,tu*Qt,vl*Qt,Kt*Qt,eu*Qt,ht*Qt,_m*Qt,No*Qt,Ea*Qt,Il*Qt,xm*Qt,I)}e.invertToRef=qr;function fa(S,I,k){S._m[I]+=k,zt(S)}e.addAtIndex=fa;function da(S,I,k){return S._m[I]*=k,zt(S),S}e.multiplyAtIndex=da;function vi(S,I,k,w){S._m[12]=I,S._m[13]=k,S._m[14]=w,zt(S)}e.setTranslationFromFloats=vi;function $r(S,I){vi(S,I.x,I.y,I.z)}e.setTranslation=$r;function pa(S){return ne.create(S._m[12],S._m[13],S._m[14])}e.getTranslation=pa;function ma(S,I){I.x=S._m[12],I.y=S._m[13],I.z=S._m[14]}e.getTranslationToRef=ma;function v(S){let I=S._m;return m(1,0,0,0,0,1,0,0,0,0,1,0,I[12],I[13],I[14],I[15],S),$t(S,I[12]===0&&I[13]===0&&I[14]===0&&I[15]===1),S}e.removeRotationAndScaling=v;function B(S,I){let k=o();return Se(S,I,k),k}e.multiply=B;function X(S,I){be(S,I._m),$t(I,S.isIdentity,S._isIdentityDirty,S.isIdentity3x2,S._isIdentity3x2Dirty)}e.copy=X;function be(S,I,k=0){for(let w=0;w<16;w++)I[k+w]=S._m[w]}e.copyToArray=be;function Se(S,I,k){if(S.isIdentity){X(I,k);return}if(I.isIdentity){X(S,k);return}Ie(S,I,k._m,0),zt(k)}e.multiplyToRef=Se;function Ie(S,I,k,w){let j=S._m,de=I._m,ce=j[0],Te=j[1],ke=j[2],Ye=j[3],Je=j[4],yt=j[5],$e=j[6],Lt=j[7],Vt=j[8],on=j[9],Jt=j[10],We=j[11],ln=j[12],fn=j[13],ut=j[14],it=j[15],dn=de[0],It=de[1],Dt=de[2],zn=de[3],jn=de[4],Kt=de[5],No=de[6],_r=de[7],Qt=de[8],Io=de[9],xr=de[10],Sn=de[11],Jr=de[12],Kr=de[13],Qr=de[14],vo=de[15];k[w]=ce*dn+Te*jn+ke*Qt+Ye*Jr,k[w+1]=ce*It+Te*Kt+ke*Io+Ye*Kr,k[w+2]=ce*Dt+Te*No+ke*xr+Ye*Qr,k[w+3]=ce*zn+Te*_r+ke*Sn+Ye*vo,k[w+4]=Je*dn+yt*jn+$e*Qt+Lt*Jr,k[w+5]=Je*It+yt*Kt+$e*Io+Lt*Kr,k[w+6]=Je*Dt+yt*No+$e*xr+Lt*Qr,k[w+7]=Je*zn+yt*_r+$e*Sn+Lt*vo,k[w+8]=Vt*dn+on*jn+Jt*Qt+We*Jr,k[w+9]=Vt*It+on*Kt+Jt*Io+We*Kr,k[w+10]=Vt*Dt+on*No+Jt*xr+We*Qr,k[w+11]=Vt*zn+on*_r+Jt*Sn+We*vo,k[w+12]=ln*dn+fn*jn+ut*Qt+it*Jr,k[w+13]=ln*It+fn*Kt+ut*Io+it*Kr,k[w+14]=ln*Dt+fn*No+ut*xr+it*Qr,k[w+15]=ln*zn+fn*_r+ut*Sn+it*vo}e.multiplyToArray=Ie;function je(S,I){let k=I;if(!k)return!1;if((S.isIdentity||k.isIdentity)&&!S._isIdentityDirty&&!k._isIdentityDirty)return S.isIdentity&&k.isIdentity;let w=S._m,j=k._m;return w[0]===j[0]&&w[1]===j[1]&&w[2]===j[2]&&w[3]===j[3]&&w[4]===j[4]&&w[5]===j[5]&&w[6]===j[6]&&w[7]===j[7]&&w[8]===j[8]&&w[9]===j[9]&&w[10]===j[10]&&w[11]===j[11]&&w[12]===j[12]&&w[13]===j[13]&&w[14]===j[14]&&w[15]===j[15]}e.equals=je;function Ut(S){let I=o();return X(S,I),I}e.clone=Ut;function O(S){let I=S._m[0]||0;for(let k=1;k<16;k++)I=I*397^(S._m[k]||0);return I}e.getHashCode=O;function W(S,I,k,w){if(S.isIdentity)return w&&(w.x=0,w.y=0,w.z=0),I&&(I.x=1,I.y=1,I.z=1),k&&(k.w=1,k.x=0,k.y=0,k.z=0),!0;let j=S._m;w&&(w.x=j[12],w.y=j[13],w.z=j[14]);let de=I||ne.Zero();if(de.x=Math.sqrt(j[0]*j[0]+j[1]*j[1]+j[2]*j[2]),de.y=Math.sqrt(j[4]*j[4]+j[5]*j[5]+j[6]*j[6]),de.z=Math.sqrt(j[8]*j[8]+j[9]*j[9]+j[10]*j[10]),Ci(S)<=0&&(de.y*=-1),de.x===0||de.y===0||de.z===0)return k&&(k.w=1,k.x=0,k.y=0,k.z=0),!1;if(k){let ce=1/de.x,Te=1/de.y,ke=1/de.z,Ye=o();m(j[0]*ce,j[1]*ce,j[2]*ce,0,j[4]*Te,j[5]*Te,j[6]*Te,0,j[8]*ke,j[9]*ke,j[10]*ke,0,0,0,0,1,Ye),Ve.fromRotationMatrixToRef(Ye,k)}return!0}e.decompose=W;function J(S,I,k,w,j,de){if(I<0||I>3)return;let ce=I*4;S._m[ce+0]=k,S._m[ce+1]=w,S._m[ce+2]=j,S._m[ce+3]=de,zt(S)}e.setRowFromFloats=J;function me(S,I){let k=o();return se(S,I,k),k}e.scale=me;function se(S,I,k){for(let w=0;w<16;w++)k._m[w]=S._m[w]*I;zt(k)}e.scaleToRef=se;function Ae(S,I,k){for(let w=0;w<16;w++)k._m[w]+=S._m[w]*I;zt(k)}e.scaleAndAddToRef=Ae;function nt(S,I){let k=o();qr(S,k),Tr(k,I);let w=I._m;m(w[0],w[1],w[2],0,w[4],w[5],w[6],0,w[8],w[9],w[10],0,0,0,0,1,I)}e.normalMatrixToRef=nt;function St(S){let I=o();return Ht(S,I),I}e.getRotationMatrix=St;function Ht(S,I){let k=ne.Zero();if(!W(S,k)){I=E();return}let w=S._m,j=1/k.x,de=1/k.y,ce=1/k.z;m(w[0]*j,w[1]*j,w[2]*j,0,w[4]*de,w[5]*de,w[6]*de,0,w[8]*ce,w[9]*ce,w[10]*ce,0,0,0,0,1,I)}e.getRotationMatrixToRef=Ht;function Co(S){S._m[2]*=-1,S._m[6]*=-1,S._m[8]*=-1,S._m[9]*=-1,S._m[14]*=-1,zt(S)}e.toggleModelMatrixHandInPlace=Co;function ha(S){S._m[8]*=-1,S._m[9]*=-1,S._m[10]*=-1,S._m[11]*=-1,zt(S)}e.toggleProjectionMatrixHandInPlace=ha;function $t(S,I,k=!1,w=!1,j=!0){S.updateFlag=a++,S.isIdentity=I,S.isIdentity3x2=I||w,S._isIdentityDirty=S.isIdentity?!1:k,S._isIdentity3x2Dirty=S.isIdentity3x2?!1:j}})(dr||(dr={}));var Ve;(function(e){function n(z=0,N=0,$=0,ee=1){return{x:z,y:N,z:$,w:ee}}e.create=n;function a(z,N){return{x:z.x+N.x,y:z.y+N.y,z:z.z+N.z,w:z.w+N.w}}e.add=a;function t(z,N,$){let ee=N*.5,fe=z*.5,_e=$*.5,ze=Math.cos(ee),Be=Math.cos(fe),Xe=Math.cos(_e),Ze=Math.sin(ee),ct=Math.sin(fe),pt=Math.sin(_e);return n(Be*Ze*Xe+ct*ze*pt,ct*ze*Xe-Be*Ze*pt,Be*ze*pt-ct*Ze*Xe,Be*ze*Xe+ct*Ze*pt)}e.fromRotationYawPitchRoll=t;function r(z,N,$){return t(N*Ju,z*Ju,$*Ju)}e.fromEulerDegrees=r;function o(z){return Math.sqrt(f(z))}e.length=o;function f(z){return z.x*z.x+z.y*z.y+z.z*z.z+z.w*z.w}e.lengthSquared=f;function u(z,N){return z.x*N.x+z.y*N.y+z.z*N.z+z.w*N.w}e.dot=u;function c(z,N){let $=u(z,N);return Math.acos(Math.min(Math.abs($),1))*2*Ku}e.angle=c;function m(z,N,$){let ee=c(z,N);if(ee===0)return N;let fe=Math.min(1,$/ee);return M(z,N,fe)}e.rotateTowards=m;function y(z,N={x:0,y:1,z:0}){let $=ne.normalize(z),ee=ne.normalize(ne.cross(N,$)),fe=ne.cross($,ee),_e=ee.x,ze=ee.y,Be=ee.z,Xe=fe.x,Ze=fe.y,ct=fe.z,pt=$.x,Ot=$.y,ot=$.z,Tn=_e+Ze+ot,Q=n();if(Tn>0){let V=Math.sqrt(Tn+1);return Q.w=V*.5,V=.5/V,Q.x=(ct-Ot)*V,Q.y=(pt-Be)*V,Q.z=(ze-Xe)*V,Q}if(_e>=Ze&&_e>=ot){let V=Math.sqrt(1+_e-Ze-ot),oe=.5/V;return Q.x=.5*V,Q.y=(ze+Xe)*oe,Q.z=(Be+pt)*oe,Q.w=(ct-Ot)*oe,Q}if(Ze>ot){let V=Math.sqrt(1+Ze-_e-ot),oe=.5/V;return Q.x=(Xe+ze)*oe,Q.y=.5*V,Q.z=(Ot+ct)*oe,Q.w=(pt-Be)*oe,Q}let le=Math.sqrt(1+ot-_e-Ze),xe=.5/le;return Q.x=(pt+Be)*xe,Q.y=(Ot+ct)*xe,Q.z=.5*le,Q.w=(ze-Xe)*xe,Q}e.lookRotation=y;function R(z){let N=1/o(z);return n(z.x*N,z.y*N,z.z*N,z.w*N)}e.normalize=R;function g(z,N,$=ne.Up()){let ee=ne.normalize(z),fe=ne.normalize(N),_e=ne.cross(ee,fe),ze=Math.sqrt(ne.lengthSquared(ee)*ne.lengthSquared(fe))+ne.dot(ee,fe);return ne.lengthSquared(_e)<1e-4?Math.abs(ze)<1e-4?R(n($.x,$.y,$.z,0)):E():R(n(_e.x,_e.y,_e.z,ze))}e.fromToRotation=g;function E(){return n(0,0,0,1)}e.Identity=E;function x(z){let N=ne.create(),$=z.x*z.x+z.y*z.y+z.z*z.z+z.w*z.w,ee=z.x*z.w-z.y*z.z;return ee>.4995*$?(N.x=Math.PI/2,N.y=2*Math.atan2(z.y,z.x),N.z=0):ee<-.4995*$?(N.x=-Math.PI/2,N.y=-2*Math.atan2(z.y,z.x),N.z=0):(N.x=Math.asin(2*(z.w*z.x-z.y*z.z)),N.y=Math.atan2(2*z.w*z.y+2*z.z*z.x,1-2*(z.x*z.x+z.y*z.y)),N.z=Math.atan2(2*z.w*z.z+2*z.x*z.y,1-2*(z.z*z.z+z.x*z.x))),N.x*=Ku,N.y*=Ku,N.z*=Ku,N.x=wt.repeat(N.x,360),N.y=wt.repeat(N.y,360),N.z=wt.repeat(N.z,360),N}e.toEulerAngles=x;function _(z,N,$,ee){let fe=N*.5,_e=z*.5,ze=$*.5,Be=Math.cos(fe),Xe=Math.cos(_e),Ze=Math.cos(ze),ct=Math.sin(fe),pt=Math.sin(_e),Ot=Math.sin(ze);ee.x=Xe*ct*Ze+pt*Be*Ot,ee.y=pt*Be*Ze-Xe*ct*Ot,ee.z=Xe*Be*Ot-pt*ct*Ze,ee.w=Xe*Be*Ze+pt*ct*Ot}e.fromRotationYawPitchRollToRef=_;function C(z,N){let $=z._m,ee=$[0],fe=$[4],_e=$[8],ze=$[1],Be=$[5],Xe=$[9],Ze=$[2],ct=$[6],pt=$[10],Ot=ee+Be+pt,ot;Ot>0?(ot=.5/Math.sqrt(Ot+1),N.w=.25/ot,N.x=(ct-Xe)*ot,N.y=(_e-Ze)*ot,N.z=(ze-fe)*ot):ee>Be&&ee>pt?(ot=2*Math.sqrt(1+ee-Be-pt),N.w=(ct-Xe)/ot,N.x=.25*ot,N.y=(fe+ze)/ot,N.z=(_e+Ze)/ot):Be>pt?(ot=2*Math.sqrt(1+Be-ee-pt),N.w=(_e-Ze)/ot,N.x=(fe+ze)/ot,N.y=.25*ot,N.z=(Xe+ct)/ot):(ot=2*Math.sqrt(1+pt-ee-Be),N.w=(ze-fe)/ot,N.x=(_e+Ze)/ot,N.y=(Xe+ct)/ot,N.z=.25*ot)}e.fromRotationMatrixToRef=C;function M(z,N,$){let ee=e.Identity();return e.slerpToRef(z,N,$,ee),ee}e.slerp=M;function q(z,N,$,ee){let fe,_e,ze=z.x*N.x+z.y*N.y+z.z*N.z+z.w*N.w,Be=!1;if(ze<0&&(Be=!0,ze=-ze),ze>.999999)_e=1-$,fe=Be?-$:$;else{let Xe=Math.acos(ze),Ze=1/Math.sin(Xe);_e=Math.sin((1-$)*Xe)*Ze,fe=Be?-Math.sin($*Xe)*Ze:Math.sin($*Xe)*Ze}ee.x=_e*z.x+fe*N.x,ee.y=_e*z.y+fe*N.y,ee.z=_e*z.z+fe*N.z,ee.w=_e*z.w+fe*N.w}e.slerpToRef=q;function ue(z,N){let $=n(0,0,0,1);return H(z,N,$),$}e.multiply=ue;function H(z,N,$){$.x=z.x*N.w+z.y*N.z-z.z*N.y+z.w*N.x,$.y=-z.x*N.z+z.y*N.w+z.z*N.x+z.w*N.y,$.z=z.x*N.y-z.y*N.x+z.z*N.w+z.w*N.z,$.w=-z.x*N.x-z.y*N.y-z.z*N.z+z.w*N.w}e.multiplyToRef=H;function F(z,N){if(ne.lengthSquared(N)===0)return e.Identity();let $=E(),ee=z*Ju;ee*=.5;let fe=ne.normalize(N);return ne.scaleToRef(fe,Math.sin(ee),fe),$.x=fe.x,$.y=fe.y,$.z=fe.z,$.w=Math.cos(ee),R($)}e.fromAngleAxis=F;function U(z,N,$){let ee=e.create(0,0,0,0);return Z(z,N,$,ee),ee}e.fromAxisToRotationQuaternion=U;function Z(z,N,$,ee){let fe=dr.create();dr.fromXYZAxesToRef(ne.normalize(z),ne.normalize(N),ne.normalize($),fe),e.fromRotationMatrixToRef(fe,ee)}e.fromAxisToRotationQuaternionToRef=Z;function ie(){return n(0,0,0,0)}e.Zero=ie;function P(z,N,$=ne.Up()){let ee=e.Identity();return G(z,N,$,ee),ee}e.fromLookAt=P;function G(z,N,$=ne.Up(),ee){let fe=dr.Identity();dr.lookAtLHToRef(z,N,$,fe),dr.invertToRef(fe,fe),e.fromRotationMatrixToRef(fe,ee)}e.fromLookAtToRef=G})(Ve||(Ve={}));var k_;(function(e){function n(r=0,o=0){return{x:r,y:o}}e.create=n;function a(){return n(0,0)}e.Zero=a;function t(){return n(1,1)}e.One=t})(k_||(k_={}));var L;(function(e){function n(Q=0,le=0,xe=0,V=1){return{r:Q,g:le,b:xe,a:V}}e.create=n;function a(Q){if(Q.substring(0,1)!=="#"||Q.length!==7&&Q.length!==9)return n(0,0,0,1);let le=parseInt(Q.substring(1,3),16),xe=parseInt(Q.substring(3,5),16),V=parseInt(Q.substring(5,7),16),oe=Q.substring(7,9),Ne=oe?parseInt(oe,16):255;return e.fromInts(le,xe,V,Ne)}e.fromHexString=a;function t(Q,le,xe){let V=n(0,0,0,0);return e.lerpToRef(Q,le,xe,V),V}e.lerp=t;function r(Q,le,xe,V){V.r=Q.r+(le.r-Q.r)*xe,V.g=Q.g+(le.g-Q.g)*xe,V.b=Q.b+(le.b-Q.b)*xe,V.a=Q.a+(le.a-Q.a)*xe}e.lerpToRef=r;function o(){return n(1,0,0,1)}e.Red=o;function f(){return n(0,1,0,1)}e.Green=f;function u(){return n(0,0,1,1)}e.Blue=u;function c(){return n(0,0,0,1)}e.Black=c;function m(){return n(1,1,1,1)}e.White=m;function y(){return n(.5,0,.5,1)}e.Purple=y;function R(){return n(1,0,1,1)}e.Magenta=R;function g(){return n(1,1,0,1)}e.Yellow=g;function E(){return n(.5,.5,.5,1)}e.Gray=E;function x(){return n(0,1,1,1)}e.Teal=x;function _(){return n(0,0,0,0)}e.Clear=_;function C(Q,le=1){return n(Q.r,Q.g,Q.b,le)}e.fromColor3=C;function M(Q,le=0){return n(Q[le],Q[le+1],Q[le+2],Q[le+3])}e.fromArray=M;function q(Q,le,xe,V){return n(Q/255,le/255,xe/255,V/255)}e.fromInts=q;function ue(Q,le){if(Q.length===le*3){let xe=[];for(let V=0;V<Q.length;V+=3){let oe=V/3*4;xe[oe]=Q[V],xe[oe+1]=Q[V+1],xe[oe+2]=Q[V+2],xe[oe+3]=1}return xe}return Q}e.checkColors4=ue;function H(Q,le,xe){xe.r=Q.r+le.r,xe.g=Q.g+le.g,xe.b=Q.b+le.b,xe.a=Q.a+le.a}e.addToRef=H;function F(Q,le,xe=0){le[xe]=Q.r,le[xe+1]=Q.g,le[xe+2]=Q.b,le[xe+3]=Q.a}e.toArray=F;function U(Q,le){let xe=_();return H(Q,le,xe),xe}e.add=U;function Z(Q,le){let xe=_();return ie(Q,le,xe),xe}e.subtract=Z;function ie(Q,le,xe){xe.r=Q.r-le.r,xe.g=Q.g-le.g,xe.b=Q.b-le.b,xe.a=Q.a-le.a}e.subtractToRef=ie;function P(Q,le){return n(Q.r*le,Q.g*le,Q.b*le,Q.a*le)}e.scale=P;function G(Q,le,xe){xe.r=Q.r*le,xe.g=Q.g*le,xe.b=Q.b*le,xe.a=Q.a*le}e.scaleToRef=G;function z(Q,le,xe){xe.r+=Q.r*le,xe.g+=Q.g*le,xe.b+=Q.b*le,xe.a+=Q.a*le}e.scaleAndAddToRef=z;function N(Q,le=0,xe=1,V){V.r=wt.clamp(Q.r,le,xe),V.g=wt.clamp(Q.g,le,xe),V.b=wt.clamp(Q.b,le,xe),V.a=wt.clamp(Q.a,le,xe)}e.clampToRef=N;function $(Q,le){return n(Q.r*le.r,Q.g*le.g,Q.b*le.b,Q.a*le.a)}e.multiply=$;function ee(Q,le,xe){xe.r=Q.r*le.r,xe.g=Q.g*le.g,xe.b=Q.b*le.b,xe.a=Q.a*le.a}e.multiplyToRef=ee;function fe(Q){return"{R: "+Q.r+" G:"+Q.g+" B:"+Q.b+" A:"+Q.a+"}"}e.toString=fe;function _e(Q){let le=Q.r||0;return le=le*397^(Q.g||0),le=le*397^(Q.b||0),le=le*397^(Q.a||0),le}e.getHashCode=_e;function ze(Q){return n(Q.r,Q.g,Q.b,Q.a)}e.clone=ze;function Be(Q,le){le.r=Q.r,le.g=Q.g,le.b=Q.b,le.a=Q.a}e.copyFrom=Be;function Xe(Q,le,xe,V,oe){oe.r=Q,oe.g=le,oe.b=xe,oe.a=V}e.copyFromFloats=Xe;function Ze(Q,le,xe,V,oe){oe.r=Q,oe.g=le,oe.b=xe,oe.a=V}e.set=Ze;function ct(Q){let le=Q.r*255|0,xe=Q.g*255|0,V=Q.b*255|0,oe=Q.a*255|0;return"#"+wt.toHex(le)+wt.toHex(xe)+wt.toHex(V)+wt.toHex(oe)}e.toHexString=ct;function pt(Q){let le=n();return Ot(Q,le),le}e.toLinearSpace=pt;function Ot(Q,le){le.r=Math.pow(Q.r,Ji),le.g=Math.pow(Q.g,Ji),le.b=Math.pow(Q.b,Ji),le.a=Q.a}e.toLinearSpaceToRef=Ot;function ot(Q){let le=n();return Tn(Q,le),le}e.toGammaSpace=ot;function Tn(Q,le){le.r=Math.pow(Q.r,$i),le.g=Math.pow(Q.g,$i),le.b=Math.pow(Q.b,$i),le.a=Q.a}e.toGammaSpaceToRef=Tn})(L||(L={}));var Qu;(function(e){function n(V=0,oe=0,Ne=0){return{r:V,g:oe,b:Ne}}e.create=n;function a(V){if(V.substring(0,1)!=="#"||V.length!==7)return n(0,0,0);let oe=parseInt(V.substring(1,3),16),Ne=parseInt(V.substring(3,5),16),mt=parseInt(V.substring(5,7),16);return r(oe,Ne,mt)}e.fromHexString=a;function t(V,oe=0){return n(V[oe],V[oe+1],V[oe+2])}e.fromArray=t;function r(V,oe,Ne){return n(V/255,oe/255,Ne/255)}e.fromInts=r;function o(V,oe,Ne){let mt=n(0,0,0);return e.lerpToRef(V,oe,Ne,mt),mt}e.lerp=o;function f(V,oe,Ne,mt){mt.r=V.r+(oe.r-V.r)*Ne,mt.g=V.g+(oe.g-V.g)*Ne,mt.b=V.b+(oe.b-V.b)*Ne}e.lerpToRef=f;function u(){return n(1,0,0)}e.Red=u;function c(){return n(0,1,0)}e.Green=c;function m(){return n(0,0,1)}e.Blue=m;function y(){return n(0,0,0)}e.Black=y;function R(){return n(1,1,1)}e.White=R;function g(){return n(.5,0,.5)}e.Purple=g;function E(){return n(1,0,1)}e.Magenta=E;function x(){return n(1,1,0)}e.Yellow=x;function _(){return n(.5,.5,.5)}e.Gray=_;function C(){return n(0,1,1)}e.Teal=C;function M(){return n(Math.random(),Math.random(),Math.random())}e.Random=M;function q(V){return"{R: "+V.r+" G:"+V.g+" B:"+V.b+"}"}e.toString=q;function ue(V){let oe=V.r||0;return oe=oe*397^(V.g||0),oe=oe*397^(V.b||0),oe}e.getHashCode=ue;function H(V,oe,Ne=0){oe[Ne]=V.r,oe[Ne+1]=V.g,oe[Ne+2]=V.b}e.toArray=H;function F(V,oe=1){return L.create(V.r,V.g,V.b,oe)}e.toColor4=F;function U(V){let oe=new Array;return H(V,oe,0),oe}e.asArray=U;function Z(V){return V.r*.3+V.g*.59+V.b*.11}e.toLuminance=Z;function ie(V,oe){return n(V.r*oe.r,V.g*oe.g,V.b*oe.b)}e.multiply=ie;function P(V,oe,Ne){Ne.r=V.r*oe.r,Ne.g=V.g*oe.g,Ne.b=V.b*oe.b}e.multiplyToRef=P;function G(V,oe){return oe&&V.r===oe.r&&V.g===oe.g&&V.b===oe.b}e.equals=G;function z(V,oe,Ne,mt){return V.r===oe&&V.g===Ne&&V.b===mt}e.equalsFloats=z;function N(V,oe){return n(V.r*oe,V.g*oe,V.b*oe)}e.scale=N;function $(V,oe,Ne){Ne.r=V.r*oe,Ne.g=V.g*oe,Ne.b=V.b*oe}e.scaleToRef=$;function ee(V,oe,Ne){Ne.r+=V.r*oe,Ne.g+=V.g*oe,Ne.b+=V.b*oe}e.scaleAndAddToRef=ee;function fe(V,oe=0,Ne=1,mt){mt.r=wt.clamp(V.r,oe,Ne),mt.g=wt.clamp(V.g,oe,Ne),mt.b=wt.clamp(V.b,oe,Ne)}e.clampToRef=fe;function _e(V,oe=0,Ne=1){let mt=e.Black();return fe(V,oe,Ne,mt),mt}e.clamp=_e;function ze(V,oe){return n(V.r+oe.r,V.g+oe.g,V.b+oe.b)}e.add=ze;function Be(V,oe,Ne){Ne.r=V.r+oe.r,Ne.g=V.g+oe.g,Ne.b=V.b+oe.b}e.addToRef=Be;function Xe(V,oe){return n(V.r-oe.r,V.g-oe.g,V.b-oe.b)}e.subtract=Xe;function Ze(V,oe,Ne){Ne.r=V.r-oe.r,Ne.g=V.g-oe.g,Ne.b=V.b-oe.b}e.subtractToRef=Ze;function ct(V){return n(V.r,V.g,V.b)}e.clone=ct;function pt(V,oe){oe.r=V.r,oe.g=V.g,oe.b=V.b}e.copyFrom=pt;function Ot(V,oe,Ne,mt){V.r=oe,V.g=Ne,V.b=mt}e.set=Ot;function ot(V){let oe=V.r*255|0,Ne=V.g*255|0,mt=V.b*255|0;return"#"+wt.toHex(oe)+wt.toHex(Ne)+wt.toHex(mt)}e.toHexString=ot;function Tn(V){let oe=n();return Q(V,oe),oe}e.toLinearSpace=Tn;function Q(V,oe){oe.r=Math.pow(V.r,Ji),oe.g=Math.pow(V.g,Ji),oe.b=Math.pow(V.b,Ji)}e.toLinearSpaceToRef=Q;function le(V){let oe=n();return xe(V,oe),oe}e.toGammaSpace=le;function xe(V,oe){oe.r=Math.pow(V.r,$i),oe.g=Math.pow(V.g,$i),oe.b=Math.pow(V.b,$i)}e.toGammaSpaceToRef=xe})(Qu||(Qu={}));var wp=we(Op()),po;(function(e){e.createElement=wp.default.createElement,e.useEffect=wp.default.useEffect,e.useState=wp.default.useState})(po||(po={}));var R2=we(Op());var b2=we(i2());var $C={"nine-slices":0,center:1,stretch:2};function s2(e){return{textureMode:e?$C[e]:1}}function c2(e){if(e.texture)return{tex:{$case:"texture",texture:a2(e.texture)}};if(e.avatarTexture)return{tex:{$case:"avatarTexture",avatarTexture:a2(e.avatarTexture)}}}function a2(e){return{...e,wrapMode:e.wrapMode?JC[e.wrapMode]:void 0,filterMode:e.filterMode?KC[e.filterMode]:void 0}}var JC={repeat:0,clamp:1,mirror:2},KC={point:0,"bi-linear":1,"tri-linear":2};function Up(e){if(!e||!Object.keys(e).length)return;let n=c2(e);return{...e,...s2(e.textureMode),uvs:e.uvs??[],texture:n}}function nl(e){return`${e[0].toUpperCase()}${e.slice(1,e.length)}`}function QC(e){return typeof e=="string"&&e.endsWith("%")}function XC(e){return typeof e=="string"&&e.endsWith("px")}function ZC(e){return typeof e=="string"&&e.endsWith("vw")}function eN(e){return typeof e=="string"&&e.endsWith("vh")}function Dp(e){function n(a,t){return Number(t.slice(0,t.indexOf(a)))}return e==null?[void 0,0]:e==="auto"?[0,3]:typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))?[Number(e),1]:QC(e)?[n("%",e),2]:XC(e)?[n("px",e),1]:ZC(e)||eN(e)?[jp(e),1]:[void 0,0]}function Py(e){if(typeof e=="object"){let n={};for(let a in e){let t=a,r=`border${nl(t)}Radius`,o=`${r}Unit`,[f,u]=Dp(e[t]);f!==void 0&&(n[o]=u,n[r]=f)}return n}if(typeof e=="number")return Py({topLeft:e,topRight:e,bottomLeft:e,bottomRight:e})}function zy(e){if(typeof e=="object"){let n={};for(let a in e){let t=a,r=`border${nl(t)}Width`,o=`${r}Unit`,[f,u]=Dp(e[t]);f!==void 0&&(n[o]=u,n[r]=f)}return n}if(typeof e=="number")return zy({top:e,left:e,right:e,bottom:e})}var tN=e=>e.b!==void 0;function Ly(e){if(tN(e))return Ly({top:e,left:e,right:e,bottom:e});if(typeof e=="object"){let n={};for(let a in e){let t=a,r=`border${nl(t)}Color`;n[r]=e[t]}return n}}function di(e={},n){if(typeof e=="object"){let u={};for(let c in e){let m=c,y=`${n}${nl(m)}`,R=`${n}${nl(m)}Unit`,[g,E]=Dp(e[m]);g!==void 0&&(u[R]=E,u[y]=g)}return u}if(typeof e=="number")return di({top:e,left:e,right:e,bottom:e},n);let a=e.split(" ").filter(u=>u!=="");if(a.length===1){let[u]=a;return di({top:u,left:u,right:u,bottom:u},n)}if(a.length===2){let[u,c]=a;return di({top:u,left:c,right:c,bottom:u},n)}if(a.length===3){let[u,c,m]=a;return di({top:u,left:c,right:c,bottom:m},n)}let[t,r,o,f]=a;return di({top:t,right:r,bottom:o,left:f},n)}function Qa(e,n){let a=`${n}Unit`,[t,r]=Dp(e);return t===void 0?{}:{[n]:t,[a]:r}}function u2(e){return{display:e?nN[e]:0}}var nN={flex:0,none:1};function l2(e){return{justifyContent:e?oN[e]:0}}var oN={center:1,"flex-end":2,"flex-start":0,"space-around":4,"space-between":3,"space-evenly":5};function Wp(e,n){let a=rN[n];return{[e]:a}}var rN={auto:0,baseline:5,center:2,"flex-end":3,"flex-start":1,stretch:4,"space-between":6,"space-around":7};function f2(e){return{flexDirection:e?iN[e]:0}}var iN={row:0,column:1,"row-reverse":3,"column-reverse":2};function d2(e){return{flexWrap:aN[e]}}var aN={wrap:1,nowrap:0,"wrap-reverse":2};function p2(e){return{overflow:e?sN[e]:0}}var sN={visible:0,scroll:2,hidden:1};function m2(e){return{positionType:e?cN[e]:0}}var cN={relative:0,absolute:1};function h2(e){return{pointerFilter:e?uN[e]:0}}var uN={none:0,block:1};var By=0,lN={overflow:0,display:0,justifyContent:0,alignSelf:0,flexDirection:0,positionType:0,parent:By,rightOf:0,flexBasis:0,width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,flexGrow:0,marginBottom:0,marginBottomUnit:0,marginLeft:0,marginLeftUnit:0,marginRight:0,marginRightUnit:0,marginTop:0,marginTopUnit:0,maxHeightUnit:0,maxWidthUnit:0,minHeightUnit:0,minWidthUnit:0,paddingBottom:0,paddingBottomUnit:0,paddingLeft:0,paddingLeftUnit:0,paddingTopUnit:0,paddingRight:0,paddingRightUnit:0,paddingTop:0,positionBottom:0,positionBottomUnit:0,positionLeft:0,positionLeftUnit:0,positionRight:0,positionRightUnit:0,positionTop:0,positionTopUnit:0,flexBasisUnit:0,widthUnit:3,heightUnit:0,pointerFilter:0,opacity:1,zIndex:0};function Fp(e={}){let{height:n,minHeight:a,maxHeight:t,width:r,minWidth:o,maxWidth:f,alignItems:u,alignContent:c,flexWrap:m,borderRadius:y,borderWidth:R,borderColor:g,...E}=e;return{...lN,...E,...di(e.position,"position"),...di(e.margin,"margin"),...di(e.padding,"padding"),...Qa(e.height,"height"),...Qa(e.minHeight,"minHeight"),...Qa(e.maxHeight,"maxHeight"),...Qa(e.width,"width"),...Qa(e.minWidth,"minWidth"),...Qa(e.maxWidth,"maxWidth"),...u2(e.display),...Wp("alignSelf",e.alignSelf??"auto"),...l2(e.justifyContent),...f2(e.flexDirection),...p2(e.overflow),...h2(e.pointerFilter),...m2(e.positionType),...c&&Wp("alignContent",c),...u&&Wp("alignItems",u),...m&&d2(m),...y&&Py(y),...R&&zy(R),...g&&Ly(g)}}function Qi(e){let{uiTransform:n,uiBackground:a,...t}=e,r=Fp(n),o=a?{uiBackground:Up(a)}:void 0;return{...t,uiTransform:r,...o}}function fN(e){if(typeof e=="number")return[e,"vw"];let n=Number(e.slice(0,-2));return e.endsWith("vh")?[n,"vh"]:e.endsWith("vw")?[n,"vw"]:[NaN,"vw"]}function y2(e,n,a){return n/100*(e/a)}function g2(e=pe){let a=e.getComponent(l_.componentId).getOrNull(e.RootEntity);if(!a)return;let{width:t,height:r,devicePixelRatio:o}=a;return{width:t,height:r,ratio:o}}function jp(e,n=g2()){let[a,t]=fN(e);if(!n)return a;let{height:r,width:o,ratio:f}=n;return t==="vh"?y2(a,r,f):y2(a,o,f)}var dN={"sans-serif":0,serif:1,monospace:2};function Ur(e){if(e)return{font:dN[e]}}var pN={"top-left":0,"top-center":1,"top-right":2,"middle-left":3,"middle-center":4,"middle-right":5,"bottom-left":6,"bottom-center":7,"bottom-right":8};function Dr(e){if(e)return{textAlign:pN[e]}}function Wr(e){if(e)return typeof e=="string"?{fontSize:jp(e)}:{fontSize:e}}var mN={wrap:0,nowrap:1};function Pc(e){return e?{textWrap:mN[e]}:{textWrap:0}}var hN={onMouseDown:void 0,onMouseUp:void 0,onMouseEnter:void 0,onMouseLeave:void 0},yN=Object.keys(hN),ol=e=>yN.includes(e);function gN(e){let{textAlign:n,font:a,fontSize:t,...r}=e;return{acceptEmpty:!1,options:[],selectedIndex:e.acceptEmpty?-1:0,disabled:!1,...r,...Dr(n),...Ur(a),...Wr(t)}}function zc(e){let{uiTransform:n,uiBackground:a,onMouseDown:t,onMouseUp:r,onMouseEnter:o,onMouseLeave:f,...u}=e,c=gN(u),m=Qi({uiTransform:n,uiBackground:a,onMouseDown:t,onMouseUp:r,onMouseEnter:o,onMouseLeave:f});return po.createElement("entity",{...m,uiDropdown:c})}function EN(e){let{textAlign:n,font:a,fontSize:t,...r}=e;return{disabled:!1,placeholder:"",...r,...Dr(n),...Ur(a),...Wr(t)}}function Xa(e){let{uiTransform:n,uiBackground:a,onMouseDown:t,onMouseUp:r,onMouseEnter:o,onMouseLeave:f,...u}=e,c=EN(u),m=Qi({uiTransform:n,uiBackground:a,onMouseDown:t,onMouseUp:r,onMouseEnter:o,onMouseLeave:f});return po.createElement("entity",{...m,uiInput:c})}function Me(e){let{uiTransform:n,uiBackground:a,onMouseDown:t,onMouseUp:r,onMouseEnter:o,onMouseLeave:f,...u}=e,c=Qi({uiTransform:n,uiBackground:a,onMouseDown:t,onMouseUp:r,onMouseEnter:o,onMouseLeave:f}),{font:m,textAlign:y,fontSize:R,textWrap:g,...E}=u,x={...E,...Ur(m),...Dr(y),...Wr(R),...Pc(g)};return po.createElement("entity",{...c,uiText:x})}function SN(e){return e.variant==="secondary"?{uiBackground:{color:{r:1,g:1,b:1,a:1}},uiText:{color:{r:.98,g:.17,b:.33,a:1}}}:{uiBackground:{color:{r:.98,g:.17,b:.33,a:1}},uiText:{color:{r:1,g:1,b:1,a:1}}}}function Uy(e){let{uiTransform:n,uiBackground:a,onMouseDown:t,onMouseUp:r,onMouseEnter:o,onMouseLeave:f,...u}=e,c=SN(e),m=Up({...c.uiBackground,...a}),{font:y,textAlign:R,fontSize:g,textWrap:E,...x}=u,_={...c.uiText,...x,...Ur(y),...Dr(R),...Wr(g),...Pc(E)},C=Fp({height:36,...n});return e.disabled&&(_.color&&(_.color.a/=2),m&&m.color&&(m.color.a/=2)),po.createElement("entity",{onMouseDown:e.disabled?void 0:t,onMouseUp:e.disabled?void 0:r,onMouseEnter:o,onMouseLeave:f,uiTransform:C,uiText:_,uiBackground:m})}function K(e){let n=e.uiText&&{uiText:{...e.uiText,...Ur(e.uiText.font),...Dr(e.uiText.textAlign),...Wr(e.uiText.fontSize),...Pc(e.uiText.textWrap)}};return po.createElement("entity",{...Qi(e),...n})}function E2(e,n,a){if(n&&!a)return{type:"delete",component:e};if(!a)return;if(!n&&a)return{type:"add",props:a,component:e};if(ol(e)&&!Dy(n,a))return{type:"put",component:e,props:a};let t={};for(let r in n){let o=r;Dy(n[o],a[o])||(t[o]=a[o])}if(Object.keys(t).length)return{type:"put",props:t,component:e}}var _N={uiText:void 0,uiBackground:void 0,uiTransform:void 0,onMouseDown:void 0,onMouseUp:void 0,onMouseEnter:void 0,onMouseLeave:void 0,uiInput:void 0,uiDropdown:void 0},T2=Object.keys(_N);function Dy(e,n){if(!e&&!n)return!0;if(!e||!n)return e===n;if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e!="object")return e===n;if(Array.isArray(e)&&Array.isArray(n)&&e.length!==n.length||Object.keys(e).length!==Object.keys(n).length)return!1;if(JSON.stringify(e)===JSON.stringify(n))return!0;for(let a in e)if(!Dy(e[a],n[a]))return!1;return!0}var S2=e=>!!e,_2={supportsMutation:!0,supportsPersistence:!1,noTimeout:-1,isPrimaryRenderer:!0,supportsHydration:!1,insertInContainerBefore(e,n,a){},detachDeletedInstance(e){},hideInstance(e){},hideTextInstance(e){},unhideInstance(e,n){},unhideTextInstance(e,n){},clearContainer(e){},getCurrentEventPriority(){return 0},getInstanceFromNode(e){return null},beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},prepareScopeUpdate(){},getInstanceFromScope(){return null},commitMount(e,n,a,t){},resetTextContent(e){},commitTextUpdate(e,n,a){},prepareForCommit(e){return null},resetAfterCommit(e){},preparePortalMount(e){},createTextInstance(e,n,a,t){return{}},scheduleTimeout(e,n){},cancelTimeout(e){},shouldSetTextContent(e,n){return!1},getRootHostContext(e){return null},getChildHostContext(e,n,a){return null},getPublicInstance(e){return e},finalizeInitialChildren(e,n,a,t,r){return!1}};function x2(e){return{onMouseDown:1,onMouseUp:0,onMouseEnter:2,onMouseLeave:3}[e]}function A2(e,n){let a=new Set,t=new Map,r=new Map,o=ui(e),f=Fa(e),u=gc(e),c=Wa(e),m=ja(e),y=ku(e),R=Ou(e),g={uiTransform:o.componentId,uiText:f.componentId,uiBackground:u.componentId,uiInput:c.componentId,uiDropdown:y.componentId};function E(P,G){let z=r.get(P)?.get(G);z&&z()}function x(P,G){M(P,G,"uiTransform")}function _(P,G){if(G.type==="delete"||!G.props){r.get(P.entity)?.delete(x2(G.component)),G.component==="onMouseDown"?n.removeOnPointerDown(P.entity):G.component==="onMouseUp"?n.removeOnPointerUp(P.entity):G.component==="onMouseEnter"?n.removeOnPointerHoverEnter(P.entity):G.component==="onMouseLeave"&&n.removeOnPointerHoverLeave(P.entity);return}if(G.props){let z=x2(G.component),N=r.get(P.entity)||r.set(P.entity,new Map).get(P.entity),$=N.get(z);if(N.set(z,G.props),$)return;let ee=G.component==="onMouseDown"?n.onPointerDown:G.component==="onMouseUp"?n.onPointerUp:G.component==="onMouseEnter"?n.onPointerHoverEnter:G.component==="onMouseLeave"&&n.onPointerHoverLeave;ee&&ee({entity:P.entity,opts:{button:0,showFeedback:!0}},()=>E(P.entity,z))}}function C(P,G){let z=g[G];e.getComponent(z).deleteFrom(P.entity)}function M(P,G={},z){let N=g[z],$="onChange"in G,ee="onSubmit"in G,fe=t.get(P.entity)?.get(N),_e=$?G.onChange:fe?.onChangeCallback,ze=ee?G.onSubmit:fe?.onSubmitCallback;if(($||ee)&&(F(P.entity,N,{onChangeCallback:_e,onSubmitCallback:ze}),delete G.onChange,delete G.onSubmit),!Object.keys(G).length)return;let Be=e.getComponent(N),Xe=Be.getMutableOrNull(P.entity)||Be.create(P.entity);for(let Ze in G){let ct=Ze;Xe[ct]=G[ct]}}function q(P){t.delete(P.entity),r.delete(P.entity),e.removeEntity(P.entity);for(let G of P._child)q(G)}function ue(P,G){if(!G||!Object.keys(P).length)return;if(P._child.find(N=>N.entity===G.entity)){let N=P._child.find($=>$.rightOf===G.entity);N&&(N.rightOf=G.rightOf,P._child=P._child.filter($=>$.entity!==G.entity),P._child.push(G),x(N,{rightOf:N.rightOf})),G.rightOf=P._child[P._child.length-2]?.entity}else G.rightOf=P._child[P._child.length-1]?.entity,P._child.push(G);G.parent=P.entity,x(G,{rightOf:G.rightOf,parent:P.entity})}function H(P,G){let z=P._child.findIndex($=>$.entity===G.entity),N=P._child[z+1];N&&(N.rightOf=G.rightOf,x(N,{rightOf:G.rightOf})),P._child.splice(z,1),q(G)}function F(P,G,z){let N=t.has(P),$=t.get(P)||t.set(P,new Map).get(P),ee=z?.onChangeCallback,fe=z?.onSubmitCallback;if($.set(G,{onChangeCallback:ee,onSubmitCallback:fe}),!N){let _e=G===y.componentId?R.componentId:m.componentId;e.getComponent(_e).onChange(P,ze=>{if(ze?.isSubmit){let Xe=t.get(P)?.get(G)?.onSubmitCallback;Xe&&Xe(ze?.value)}let Be=t.get(P)?.get(G)?.onChangeCallback;Be&&Be(ze?.value)})}}let U={..._2,createInstance(P,G){let z=e.addEntity();a.add(z);let N={entity:z,_child:[],parent:By,rightOf:void 0};for(let $ in G){let ee=$;ee==="children"||ee==="key"||(ol(ee)?_(N,{type:"add",props:G[ee],component:ee}):M(N,G[ee],ee))}return N},appendChild:ue,appendChildToContainer:ue,appendInitialChild:ue,removeChild:H,prepareUpdate(P,G,z,N){return T2.map($=>E2($,z[$],N[$])).filter(S2)},commitUpdate(P,G,z,N,$,ee){for(let fe of G){if(ol(fe.component)){_(P,fe);continue}fe.type==="delete"?C(P,fe.component):fe.props&&M(P,fe.props,fe.component)}},insertBefore(P,G,z){let N=P._child.findIndex($=>$.entity===z.entity);P._child=[...P._child.slice(0,N),G,...P._child.slice(N)],G.rightOf=z.rightOf,z.rightOf=G.entity,G.parent=P.entity,x(G,{rightOf:G.rightOf,parent:G.parent}),x(z,{rightOf:z.rightOf})},removeChildFromContainer(P,G){q(G)}},Z=(0,b2.default)(U),ie=Z.createContainer({},0,null,!1,null,"",function(){},null);return{update:function(P){return Z.updateContainer(P,ie,null)},getEntities:()=>Array.from(a)}}function Hp(e,n){let a=A2(e,n),t;function r(){t&&a.update(R2.default.createElement(t))}return e.addSystem(r,1e5,"@dcl/react-ecs"),{destroy(){e.removeSystem(r);for(let o of a.getEntities())e.removeEntity(o)},setUiRenderer(o){t=o}}}var C2=Hp(pe,qu),A=po;var dt=A;var Lc=10.821,pi=40,mi=40,N2=3,xN=8,I2=["assets/chunks/Chunk01.glb","assets/chunks/Chunk02.glb","assets/chunks/Chunk03.glb"],Kn=null,Xi=[],rl=null,il=0,Wy=0,Zi=[];function v2(){for(let e of Xi)qe.has(e)&&pe.removeEntity(e);Xi=[],rl=null,il=0,Wy=0,Zi=[]}function bN(){return Math.floor(Math.random()*(xN-N2+1))+N2}function AN(){let e=Math.floor(Math.random()*I2.length);return I2[e]}function RN(e){return(e.split("/").pop()||e).replace(".glb","")}function Vp(e,n,a){let t=pe.addEntity();return qe.create(t,{position:n,rotation:Ve.fromEulerDegrees(0,a,0),scale:ne.One()}),mp.create(t,{src:e}),t}function Gp(){if(Kn!==null)return;let e=pe.getEntityOrNullByName("ChunkEnd01");e?(Kn=e,console.log("[Tower Generator] Found ChunkEnd01 in scene, will move it to tower top")):console.log("[Tower Generator] WARNING: ChunkEnd01 not found in scene")}function Yp(){Gp(),v2();let e=bN();Wy=e;let n=[];for(let u=0;u<e;u++){let c=Lc*(u+1),m=u%2===0?180:0,y=AN(),R=RN(y);n.push(R);let g=Vp(y,ne.create(pi,c,mi),m);Xi.push(g)}let a=Lc*(e+1),t=e-1,r=t%2===0?180:0;console.log(`[Tower Generator] Creating ChunkEnd at Y=${a.toFixed(2)} with rotation ${r}\xB0`),console.log(`[Tower Generator] Middle chunk count: ${e}, last middle chunk index: ${t} (${t%2===0?"even\u2192180\xB0":"odd\u21920\xB0"}), ChunkEnd rotation: ${r}\xB0`),Kn===null&&Gp();let o;if(Kn!==null){if(qe.has(Kn)){let u=qe.getMutable(Kn);u.position=ne.create(pi,a,mi),u.rotation=Ve.fromEulerDegrees(0,r,0),console.log(`[Tower Generator] Moved ChunkEnd01 to position (${pi}, ${a.toFixed(2)}, ${mi}) with rotation ${r}\xB0`)}else qe.create(Kn,{position:ne.create(pi,a,mi),rotation:Ve.fromEulerDegrees(0,r,0),scale:ne.One()}),console.log("[Tower Generator] Created Transform for ChunkEnd01");o=Kn}else o=Vp("assets/chunks/ChunkEnd.glb",ne.create(pi,a,mi),r),Xi.push(o),console.log("[Tower Generator] Using fallback ChunkEnd.glb");if(rl=o,qe.has(o)){let u=qe.get(o);console.log(`[Tower Generator] ChunkEnd created successfully at position: (${u.position.x.toFixed(2)}, ${u.position.y.toFixed(2)}, ${u.position.z.toFixed(2)})`),console.log(`[Tower Generator] ChunkEnd rotation: Y=${r}\xB0`)}else console.error("[Tower Generator] ERROR: ChunkEnd entity missing Transform component!");if(mp.has(o)){let u=mp.get(o);console.log(`[Tower Generator] ChunkEnd GLTF loaded: ${u.src}`)}else console.error("[Tower Generator] ERROR: ChunkEnd entity missing GltfContainer component!");return console.log(`[Tower Generator] Total entities created: ${Xi.length} (${e} middle + 1 end)`),il=(e+1)*Lc,console.log(`[Tower Generator] Generated tower with ${e} middle chunks + ChunkEnd. Total height: ${il.toFixed(2)}m`),console.log(`[Tower Generator] ChunkEnd entity ID: ${rl}, stored in array: ${Xi.includes(rl)}`),Zi=[Kn!==null?"ChunkEnd01":"ChunkEnd",...n.reverse(),"ChunkStart"],o}function k2(e){console.log("[Tower Generator] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("[Tower Generator] Building tower from SERVER data"),console.log(`[Tower Generator] Chunks: ${e.join(" \u2192 ")}`),console.log("[Tower Generator] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),Gp(),v2();let n=e.length;Wy=n;let a=[];for(let c=0;c<n;c++){let m=Lc*(c+1),y=c%2===0?180:0,R=e[c],g=`assets/chunks/${R}.glb`;a.push(R);let E=Vp(g,ne.create(pi,m,mi),y);Xi.push(E),console.log(`[Tower Generator] Spawned ${R} at Y=${m.toFixed(2)} rot=${y}\xB0`)}let t=Lc*(n+1),o=(n-1)%2===0?180:0;console.log(`[Tower Generator] Placing ChunkEnd at Y=${t.toFixed(2)} rot=${o}\xB0`),Kn===null&&Gp();let f;if(Kn!==null){if(qe.has(Kn)){let c=qe.getMutable(Kn);c.position=ne.create(pi,t,mi),c.rotation=Ve.fromEulerDegrees(0,o,0)}else qe.create(Kn,{position:ne.create(pi,t,mi),rotation:Ve.fromEulerDegrees(0,o,0),scale:ne.One()});f=Kn}else f=Vp("assets/chunks/ChunkEnd.glb",ne.create(pi,t,mi),o),Xi.push(f);return rl=f,il=(n+1)*Lc,Zi=[Kn!==null?"ChunkEnd01":"ChunkEnd",...a.reverse(),"ChunkStart"],console.log("[Tower Generator] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log(`[Tower Generator] \u2705 Tower built! Height: ${il.toFixed(2)}m`),console.log("[Tower Generator] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),f}function O2(){C2.setUiRenderer(CN)}var CN=()=>{let e=c=>{let m=Math.floor(c/60),y=Math.floor(c%60);return`${m}:${y.toString().padStart(2,"0")}`},n=c=>{let m=Math.floor(c/60),y=Math.floor(c%60),R=Math.floor(c%1*100);return`${m}:${y.toString().padStart(2,"0")}.${R.toString().padStart(2,"0")}`},a=mo==="IN_PROGRESS",t=Un==="ACTIVE",r=to>0?(Date.now()-to)/1e3:999,o=Ao&&r<5,f=(Un==="ENDING"||Un==="BREAK")&&es.length>0,u=()=>mr<=30?L.create(1,.2,.2,1):mr<=60?L.create(1,.8,0,1):L.create(.3,1,.3,1);return dt.createElement(K,{uiTransform:{width:"100%",height:"100%",positionType:"absolute"}},dt.createElement(K,{uiTransform:{width:"100%",height:100,positionType:"absolute",position:{top:"15px",left:"0px"},alignItems:"center",justifyContent:"center"}},dt.createElement(K,{uiTransform:{width:280,height:90,alignItems:"center",justifyContent:"center",flexDirection:"column"},uiBackground:{color:hr>1?L.create(.6,.2,0,.95):L.create(.1,.1,.15,.95)}},dt.createElement(K,{uiTransform:{width:"100%",height:55,alignItems:"center",justifyContent:"center"},uiText:{value:`\u23F1\uFE0F ${e(mr)}`,fontSize:42,color:u(),textAlign:"middle-center"}}),hr>1&&dt.createElement(K,{uiTransform:{width:"100%",height:25,alignItems:"center",justifyContent:"center"},uiText:{value:`\u26A1 x${hr.toFixed(0)} SPEED!`,fontSize:18,color:L.Yellow(),textAlign:"middle-center"}}),!t&&dt.createElement(K,{uiTransform:{width:"100%",height:25,alignItems:"center",justifyContent:"center"},uiText:{value:Un==="ENDING"?"\u{1F3C1} ROUND ENDED":"\u23F3 NEXT ROUND SOON",fontSize:14,color:L.White(),textAlign:"middle-center"}}))),dt.createElement(K,{uiTransform:{width:"100%",height:120,positionType:"absolute",position:{top:"115px",left:"0px"},alignItems:"center",justifyContent:"center"}},dt.createElement(K,{uiTransform:{width:260,height:a?110:70,alignItems:"center",justifyContent:"center",flexDirection:"column"},uiBackground:{color:L.create(0,0,0,.8)}},dt.createElement(K,{uiTransform:{width:"100%",height:35,alignItems:"center",justifyContent:"center"},uiText:{value:`\u{1F4CD} Height: ${ns.toFixed(1)}m`,fontSize:22,color:L.White(),textAlign:"middle-center"}}),a&&dt.createElement(K,{uiTransform:{width:"100%",height:35,alignItems:"center",justifyContent:"center"},uiText:{value:`\u{1F3C3} Attempt: ${n(hi)}`,fontSize:20,color:L.create(.5,.8,1,1),textAlign:"middle-center"}}),a&&dt.createElement(K,{uiTransform:{width:"100%",height:30,alignItems:"center",justifyContent:"center"},uiText:{value:`\u{1F3D4}\uFE0F Max: ${Qn.toFixed(1)}m`,fontSize:16,color:L.Yellow(),textAlign:"middle-center"}}))),dt.createElement(K,{uiTransform:{width:220,height:100,positionType:"absolute",position:{top:"15px",right:"15px"},alignItems:"center",justifyContent:"center",flexDirection:"column"},uiBackground:{color:L.create(0,0,0,.8)}},dt.createElement(K,{uiTransform:{width:"100%",height:30,alignItems:"center",justifyContent:"center"},uiText:{value:"\u{1F3C6} PERSONAL BEST",fontSize:14,color:L.Yellow(),textAlign:"middle-center"}}),dt.createElement(K,{uiTransform:{width:"100%",height:30,alignItems:"center",justifyContent:"center"},uiText:{value:`Time: ${ts>0?n(ts):"--:--.--"}`,fontSize:16,color:L.White(),textAlign:"middle-center"}}),dt.createElement(K,{uiTransform:{width:"100%",height:30,alignItems:"center",justifyContent:"center"},uiText:{value:`Height: ${ea>0?ea.toFixed(1)+"m":"--"}`,fontSize:16,color:L.White(),textAlign:"middle-center"}})),ho&&Za.length>0&&dt.createElement(K,{uiTransform:{width:230,height:Math.min(350,45+Za.length*28),positionType:"absolute",position:{top:"15px",left:"15px"},alignItems:"flex-start",justifyContent:"flex-start",flexDirection:"column"},uiBackground:{color:L.create(0,0,0,.85)}},dt.createElement(K,{uiTransform:{width:"100%",height:35,alignItems:"center",justifyContent:"center"},uiText:{value:"\u{1F3C6} LEADERBOARD",fontSize:16,color:L.Yellow(),textAlign:"middle-center"}}),Za.slice(0,10).map((c,m)=>{let y=m===0?"\u{1F947}":m===1?"\u{1F948}":m===2?"\u{1F949}":`${m+1}.`,R=c.displayName.length>10?c.displayName.substring(0,10)+"..":c.displayName,g=c.isFinished?"\u2705":"";return dt.createElement(K,{key:`lb-${m}`,uiTransform:{width:"100%",height:26,alignItems:"center",justifyContent:"flex-start",margin:{left:8}},uiText:{value:`${y} ${R} ${g} ${c.maxHeight.toFixed(0)}m`,fontSize:13,color:c.isFinished?L.Green():L.White(),textAlign:"middle-left"}})})),Zi.length>0&&dt.createElement(K,{uiTransform:{width:220,height:Math.min(200,35+Zi.length*16),positionType:"absolute",position:{top:"125px",right:"15px"},alignItems:"flex-start",justifyContent:"flex-start",flexDirection:"column"},uiBackground:{color:L.create(0,0,0,.7)}},dt.createElement(K,{uiTransform:{width:"100%",height:28,alignItems:"center",justifyContent:"center"},uiText:{value:`\u{1F5FC} Tower (${Zi.length-1} chunks)`,fontSize:14,color:L.White(),textAlign:"middle-center"}}),Zi.slice(0,8).map((c,m)=>dt.createElement(K,{key:`chunk-${m}`,uiTransform:{width:"100%",height:16,alignItems:"center",justifyContent:"center"},uiText:{value:c,fontSize:12,color:L.create(.7,.7,.7,1),textAlign:"middle-center"}}))),f&&dt.createElement(K,{uiTransform:{width:"100%",height:"100%",positionType:"absolute",position:{top:"0px",left:"0px"},alignItems:"center",justifyContent:"center"}},dt.createElement(K,{uiTransform:{width:400,height:60+es.length*45+50,alignItems:"center",justifyContent:"flex-start",flexDirection:"column"},uiBackground:{color:L.create(.05,.05,.2,.95)}},dt.createElement(K,{uiTransform:{width:"100%",height:50,alignItems:"center",justifyContent:"center"},uiText:{value:"\u{1F3C1} ROUND COMPLETE!",fontSize:32,color:L.Yellow(),textAlign:"middle-center"}}),es.map((c,m)=>{let y=["\u{1F947}","\u{1F948}","\u{1F949}"][m]||`${m+1}.`,R=c.time>0?`${c.time.toFixed(2)}s`:`${c.height.toFixed(0)}m`;return dt.createElement(K,{key:`winner-${m}`,uiTransform:{width:"100%",height:40,alignItems:"center",justifyContent:"center"},uiText:{value:`${y} ${c.displayName} - ${R}`,fontSize:22,color:m===0?L.create(1,.84,0,1):L.White(),textAlign:"middle-center"}})}),dt.createElement(K,{uiTransform:{width:"100%",height:40,alignItems:"center",justifyContent:"center",margin:{top:10}},uiText:{value:"\u23F3 Next round starting soon...",fontSize:16,color:L.create(.6,.6,.6,1),textAlign:"middle-center"}}))),o&&!f&&dt.createElement(K,{uiTransform:{width:"100%",height:"100%",positionType:"absolute",position:{top:"0px",left:"0px"},alignItems:"center",justifyContent:"center"}},dt.createElement(K,{uiTransform:{width:Ao==="DEATH"?500:400,height:Ao==="DEATH"?180:120,alignItems:"center",justifyContent:"center",flexDirection:"column"},uiBackground:{color:Ao==="WIN"?L.create(0,.6,0,.95):L.create(.7,0,0,.95)}},dt.createElement(K,{uiTransform:{width:"100%",height:60,alignItems:"center",justifyContent:"center"},uiText:{value:Ao==="WIN"?"\u{1F3C6} FINISHED!":"\u2620\uFE0F DEATH!",fontSize:40,color:L.White(),textAlign:"middle-center"}}),dt.createElement(K,{uiTransform:{width:"100%",height:40,alignItems:"center",justifyContent:"center"},uiText:{value:Yo,fontSize:18,color:L.White(),textAlign:"middle-center"}}),Ao==="DEATH"&&dt.createElement(K,{uiTransform:{width:"100%",height:35,alignItems:"center",justifyContent:"center"},uiText:{value:"\u21A9\uFE0F Go to TriggerStart to retry!",fontSize:16,color:L.Yellow(),textAlign:"middle-center"}}))),mo==="NOT_STARTED"&&t&&dt.createElement(K,{uiTransform:{width:"100%",height:60,positionType:"absolute",position:{bottom:"40px",left:"0px"},alignItems:"center",justifyContent:"center"}},dt.createElement(K,{uiTransform:{width:380,height:50,alignItems:"center",justifyContent:"center"},uiBackground:{color:L.create(.1,.4,.1,.9)}},dt.createElement(K,{uiTransform:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},uiText:{value:"\u{1F3AE} Go to TriggerStart to begin your attempt!",fontSize:18,color:L.White(),textAlign:"middle-center"}}))),ho&&dt.createElement(K,{uiTransform:{width:140,height:30,positionType:"absolute",position:{bottom:"15px",right:"15px"},alignItems:"center",justifyContent:"center"},uiBackground:{color:L.create(.2,.5,.2,.9)}},dt.createElement(K,{uiTransform:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},uiText:{value:"\u{1F310} MULTIPLAYER",fontSize:14,color:L.White(),textAlign:"middle-center"}})))};var $2=require("~system/CommunicationsController");var Dn;(function(e){e[e.CRDT=7]="CRDT",e[e.REQ_CRDT_STATE=8]="REQ_CRDT_STATE",e[e.RES_CRDT_STATE=9]="RES_CRDT_STATE",e[e.CRDT_SERVER=4]="CRDT_SERVER",e[e.CRDT_AUTHORITATIVE=5]="CRDT_AUTHORITATIVE",e[e.CUSTOM_EVENT=6]="CUSTOM_EVENT"})(Dn||(Dn={}));function w2(e){let n=new Map;return{on:(a,t)=>{n.set(a,t)},emit:(a,t,r)=>{e(NN(a,t),r)},__processMessages:a=>{for(let t of a){let r=IN(t);if(!r)continue;let{sender:o,messageType:f,data:u}=r,c=n.get(f);c&&c(u,o)}}}}function NN(e,n){let a=new Uint8Array(n.byteLength+1);return a.set([e]),a.set(n,1),a}function IN(e){try{let n=0,a=new Uint8Array(e),t=new DataView(a.buffer),r=t.getUint8(n);n+=1;let o=vN(e.subarray(1,r+1));n+=r;let f=t.getUint8(n);n+=1;let u=a.subarray(n);return{sender:o,messageType:f,data:u}}catch(n){console.error("Invalid Comms message",n)}}function vN(e){let n=new Ke;return n.writeBuffer(e,!0),n.readUtf8String()}function Bc(e){let n=new Ke(e),a=[],t;for(;t=Wt.getHeader(n);){let r=n.currentReadOffset(),o;t.type===he.DELETE_COMPONENT_NETWORK?o=Va.read(n):t.type===he.PUT_COMPONENT_NETWORK?o=ur.read(n):t.type===he.DELETE_ENTITY_NETWORK?o=Ga.read(n):t.type===he.PUT_COMPONENT?o=fo.read(n):t.type===he.AUTHORITATIVE_PUT_COMPONENT?o=Ya.read(n):t.type===he.DELETE_COMPONENT?o=Vo.read(n):t.type===he.DELETE_ENTITY?o=Lr.read(n):n.incrementReadOffset(t.length),o&&a.push({...o,messageBuffer:n.buffer().subarray(r,n.currentReadOffset())})}return a}function qp(e){return[he.DELETE_COMPONENT_NETWORK,he.DELETE_ENTITY_NETWORK,he.PUT_COMPONENT_NETWORK].includes(e.type)}function M2(e,n,a,t,r=!1){if(e.type===he.PUT_COMPONENT_NETWORK){let o=e.data;if(e.componentId===1&&t){let f=t.getOrNull(n);o=ON(e,f?.entityId)}return r?(Ya.write(n,e.timestamp,e.componentId,o,a),{type:he.AUTHORITATIVE_PUT_COMPONENT,componentId:e.componentId,timestamp:e.timestamp,data:o,entityId:n}):(fo.write(n,e.timestamp,e.componentId,o,a),{type:he.PUT_COMPONENT,componentId:e.componentId,timestamp:e.timestamp,data:o,entityId:n})}else{if(e.type===he.DELETE_COMPONENT_NETWORK)return Vo.write(n,e.componentId,e.timestamp,a),{type:he.DELETE_COMPONENT,componentId:e.componentId,timestamp:e.timestamp,entityId:n};if(e.type===he.DELETE_ENTITY_NETWORK)return Lr.write(n,a),{type:he.DELETE_ENTITY,entityId:n}}throw 1}function P2(e,n,a){e.type===he.PUT_COMPONENT?ur.write(n.entityId,e.timestamp,e.componentId,n.networkId,e.data,a):e.type===he.DELETE_COMPONENT?Va.write(n.entityId,e.componentId,e.timestamp,n.networkId,a):e.type===he.DELETE_ENTITY&&Ga.write(n.entityId,n.networkId,a)}function ON(e,n){let a=new Ke,t="data"in e&&Sc.deserialize(new Ke(e.data));if(!t)throw new Error("Invalid parent transform");let r={...t,parent:n};return Sc.serialize(r,a),a.toBinary()}function Hy(e,n=12){if(e.length===0)return[];let a=new Ke,t=[];for(let r of Bc(e)){let o=a.toBinary().byteLength,f=r.messageBuffer.byteLength;if((o+f)/1024>n&&(o>0&&(t.push(a.toCopiedBinary()),a.resetBuffer()),f/1024>n)){console.error(`Message too large (${f} bytes), skipping CRDT message`);continue}a.writeBuffer(r.messageBuffer,!1)}return a.currentWriteOffset()>0&&t.push(a.toBinary()),t}var Uc=12;function z2(e){let{engine:n,binaryMessageBus:a}=e,t=li(n),r=ay(n),o=bc(n);function f(E){return(E.componentType===0||E.componentType===1)&&"getCrdtState"in E}function u(E){for(let[x,_]of n.getEntitiesWith(t))if(_.networkId===E.networkId&&_.entityId===E.entityId)return x;return null}function c(E,x,_){let C=u(E);if(C)return C;let M=n.addEntity();return t.createOrReplace(M,{networkId:E.networkId,entityId:E.entityId}),_&&r.createOrReplace(M,{address:x}),Cn()&&console.log(`[DEBUG] Created new entity ${M} for network ${E.networkId}:${E.entityId}`),M}function m(E,x,_=!1){let C=new Ke;try{return{...M2(E,x,C,o,_),messageBuffer:C.toBinary()}}catch(M){return Cn()&&console.error("Error converting network message:",M),null}}function y(E,x,_){if(!x||x===ta)return!1;if(E.type,he.DELETE_ENTITY,E.type===he.PUT_COMPONENT||E.type===he.DELETE_COMPONENT){let C=n.getComponent(E.componentId),M="data"in E?new Ke(E.data):null,q=M?C.schema.deserialize(M):null,ue=C.__dry_run_updateFromCrdt(E),H=[An.StateUpdatedData,An.StateUpdatedTimestamp,An.EntityDeleted].includes(ue),F=r.getOrNull(E.entityId);return!!(H&&C.__run_validateBeforeChange(E.entityId,q,x,F?.address??ta))}return!0}function R(E,x){if(E.length===0)return;let _=new Ke;for(let M of E){if(M.messageBuffer.byteLength/1024>Uc){console.error(`Message too large (${M.messageBuffer.byteLength} bytes), skipping message from ${x}`);continue}_.writeBuffer(M.messageBuffer,!1)}let C=Hy(_.toBinary(),Uc);for(let M of C)a.emit(Dn.CRDT,M);Cn()&&console.log(`Total: ${E.length} messages in ${C.length} chunks from ${x}`)}function g(E,x,_){try{if(E.type===he.DELETE_ENTITY_NETWORK){Cn()&&console.log("[AUTHORITATIVE] Cannot send authoritative message for entity deletion");return}let C=n.getComponent(E.componentId);if(!f(C)){Cn()&&console.log("[AUTHORITATIVE] Component does not support authoritative messages");return}let M=C.getCrdtState(_);if(M){let q=new Ke;ur.write(E.entityId,M.timestamp,E.componentId,E.networkId,M.data,q),a.emit(Dn.CRDT_AUTHORITATIVE,q.toBinary(),[x]),Cn()&&console.log(`[AUTHORITATIVE] Sent authoritative message to ${x} for entity ${_} component ${E.componentId} with timestamp ${E.timestamp}`)}}catch(C){Cn()&&console.error("Error sending correction:",C)}}return{findExistingNetworkEntity:u,processClientMessages:function(x,_,C=!1){let M=new Ke;for(let q of Bc(x))if(qp(q)){let ue=q,H=c(ue,_,!1),F=m(ue,H,C);F?.messageBuffer.byteLength&&M.writeBuffer(F.messageBuffer,!1)}return M.toBinary()},processServerMessages:function(x,_){let C=[],M=new Ke;for(let q of Bc(x))try{if(qp(q)){let ue=q,H=c(ue,_,!0),F=m(ue,H);if(!y(F,_,H)){g(ue,_,H);continue}C.push(ue),F?.messageBuffer.byteLength&&M.writeBuffer(F.messageBuffer,!1)}}catch(ue){Cn()&&console.error("Error processing server message:",ue)}return R(C,_),M.toBinary()},convertRegularToNetworkMessage:function(x){let _=new Ke;for(let M of Bc(x)){let q=t.getOrNull(M.entityId);q&&!qp(M)&&P2(M,q,_)}let C=_.toBinary();return Hy(C,Uc)}}}var Vy=[g_,Ep,o_,s_,c_,yp,u_,qa,f_,d_,p_,m_,y_,h_],Gy=Vy.map(e=>e.componentId);function L2(e){let n=new Ke,a=new Ke,t=e.getComponent(wc.componentId),r=[];for(let f of e.componentsIter())Gy.includes(f.componentId)||f.dumpCrdtStateToBuffer(n,u=>t.has(u));let o;for(;o=Wt.getHeader(n);)if(o.type===he.PUT_COMPONENT){let f=fo.read(n),u=t.getOrNull(f.entityId),c=a.toBinary().byteLength,m=f.data.byteLength;if((c+m)/1024>Uc&&(c>0&&(r.push(a.toCopiedBinary()),a.resetBuffer()),m/1024>Uc)){console.error(`Message too large (${m} bytes), skipping component ${f.componentId} for entity ${f.entityId}`);continue}u&&ur.write(u.entityId,f.timestamp,f.componentId,u.networkId,f.data,a)}else n.incrementReadOffset(o.length);return a.currentWriteOffset()>0&&r.push(a.toBinary()),r}function B2(e){let n=e.getComponent(wc.componentId),a=e.getComponent(Rp.componentId);return function(t){let r=t.componentId;if(Gy.includes(r))return!1;let[o]=Ho.fromEntityId(t.entityId);if(o<ly)return!1;let f=n.getOrNull(t.entityId);if(t.type===he.DELETE_ENTITY_NETWORK||f&&t.type===he.DELETE_ENTITY)return!0;let u=a.getOrNull(t.entityId);return u?t.timestamp<=1?!0:r===n.componentId?!1:!!(r===Cp.componentId||r===a.componentId||r&&u.componentIds.includes(r)):!1}}function U2(e,n){n({}).then(({data:a})=>{if(a?.userId){let t=a.userId,r=Fo(a.userId);e.networkId=r,e.userId=t}else throw new Error("Couldn't fetch profile data")})}function D2(e,n){let a=e.getComponent(wc.componentId),t=e.getComponent(Cp.componentId),r=e.getComponent(qe.componentId),o=e.getComponent(Rp.componentId);function f(g,E,x){let _=[...E];if(!n?.networkId)throw new Error("Profile not initialized. Call syncEntity inside the main() function.");let C={entityId:g,networkId:n.networkId};if(x!==void 0){C.networkId=0,C.entityId=x;for(let[M,q]of e.getEntitiesWith(a))if(q.networkId===C.networkId&&q.entityId===C.entityId)throw new Error("syncEntity failed because the id provided is already in use")}for(let M of Vy)_.includes(M.componentId)&&(console.log(`\u26A0\uFE0F ${M.componentName} can't be sync through the network!`),_=_.filter(q=>q!==M.componentId));a.createOrReplace(g,C),o.createOrReplace(g,{componentIds:_})}function*u(g){let E=a.getOrNull(g);if(E)for(let[x,_]of e.getEntitiesWith(t))_.entityId===E.entityId&&_.networkId===E.networkId&&(yield x)}function c(g){return Array.from(u(g))[0]}function m(g){let E=t.getOrNull(g);if(E){for(let[x,_]of e.getEntitiesWith(a))if(E.networkId===_.networkId&&E.entityId===_.entityId)return x}}function y(g,E){let x=a.getOrNull(E);if(!x)throw new Error("Entity is not sync. Call syncEntity on the parent.");t.createOrReplace(g,x),r.getOrNull(g)?r.getMutable(g):r.create(g)}function R(g){if(!a.getOrNull(g))throw new Error("Entity is not sync");t.deleteFrom(g)}return{syncEntity:f,getChildren:u,getParent:m,parentEntity:y,removeParent:R,getFirstChild:c}}function Yy(e){let n=cr(e),a=Cu(e),t=Ru(e),r=Au(e),o=new Map,f=[],u=[];return e.addSystem(()=>{let c=Array.from(e.getEntitiesWith(a,r));if(c.length!==o.size)for(let[m,y]of c)o.has(m)||(o.set(m,y.address),f.length&&f.forEach(R=>R(MN({userId:y.address}))),r.onChange(m,R=>{!R&&o.get(m)&&(u.forEach(g=>g(o.get(m))),o.delete(m))}))}),{onEnterScene(c){f.push(c)},onLeaveScene(c){u.push(c)},getPlayer(c){function m(){if(!c?.userId)return e.PlayerEntity;for(let[x,_]of e.getEntitiesWith(a))if(_.address===c.userId)return x}let y=m();if(!y)return null;let R=a.getOrNull(y),g=r.getOrNull(y),E=t.getOrNull(y);return!R&&!g&&!E?null:{entity:y,name:g?.name??"",isGuest:!!R?.isGuest,userId:R?.address??"",avatar:g??void 0,wearables:E?.wearableUrns??[],emotes:E?.emoteUrns??[],position:n.getOrNull(y)?.position}}}}var W2=Yy(pe),{getPlayer:MN,onEnterScene:I5,onLeaveScene:v5}=W2;var al=W2;function j2(e){let n=Wt.getHeader(e);return n?n.type===he.PUT_COMPONENT?fo.read(e):n.type===he.PUT_COMPONENT_NETWORK?ur.read(e):n.type===he.DELETE_COMPONENT?Vo.read(e):n.type===he.DELETE_COMPONENT_NETWORK?Va.read(e):n.type===he.APPEND_VALUE?fi.read(e):n.type===he.DELETE_ENTITY?Lr.read(e):n.type===he.DELETE_ENTITY_NETWORK?Ga.read(e):null:null}function*qy(e,n,a){let t=new Ke(n),r;for(;r=j2(t);){let o=r.entityId,f=`${e}: ${he[r.type]} e=${o}`;if((r.type===he.DELETE_ENTITY||r.type===he.DELETE_ENTITY_NETWORK)&&(yield`${f}`),r.type===he.PUT_COMPONENT||r.type===he.PUT_COMPONENT_NETWORK||r.type===he.DELETE_COMPONENT_NETWORK||r.type===he.DELETE_COMPONENT||r.type===he.APPEND_VALUE){let{componentId:u,timestamp:c}=r,m="data"in r?r.data:void 0,y=m?`${m.byteLength/1024}KB`:"";try{let R=a.getComponent(u);yield`${f} c=${R.componentName} t=${c} ${y} data=${JSON.stringify(m&&R.schema.deserialize(new Ke(m))||null)}`}catch{yield`${f} c=${u} t=${c} data=?`}}else r.type===he.DELETE_ENTITY||r.type===he.DELETE_ENTITY_NETWORK?yield f:yield`${f} Unknown CrdtMessageType`}}function $y(){let e,n,a=new Promise((t,r)=>{e=o=>{t(o),a.isPending=!1},n=o=>{r(o),a.isPending=!1}}).catch(t=>Promise.reject(t));return a.resolve=e,a.reject=n,"finally"in a||(a.finally=t=>{a.then(t),a.catch(t)}),a.isPending=!0,a}var F2=$y;var Jy=class{constructor(){this.observers=[],this.onceObservers=[]}add(n){return this.observers.push(n),n}addOnce(n){this.onceObservers.push(n)}remove(n){let a=this.observers.indexOf(n);a>-1&&this.observers.splice(a,1)}notifyObservers(n){this.observers.forEach(a=>a(n)),this.onceObservers.length>0&&(this.onceObservers.forEach(a=>a(n)),this.onceObservers.length=0)}},sl=Symbol("empty");function $p(e=sl){let n=new Jy,a=e,t=[];return n.addOnce(r=>{t.forEach(o=>o.resolve(r)),t.length=0}),{async pipe(r){if(n.add(async o=>{try{await r(o)}catch(f){console.error(f)}}),a!==sl)try{await r(a)}catch(o){console.error(o)}},deref(){if(a===sl){let r=F2();return t.push(r),r}return Promise.resolve(a)},getOrNull(){return a===sl?null:a},observable:n,swap(r){let o=a;return r!==a&&(a=r,n.notifyObservers(a)),o===sl?void 0:o}}}var Ky={};var H2=T.Map({eventType:T.String,timestamp:T.Int64});function V2(e,n,a=Ky){let t=new Ke;H2.serialize({eventType:e,timestamp:Date.now()},t);let r=a[e];if(!r)throw new Error(`Unknown event type: ${String(e)}`);return r.serialize(n,t),t.toBinary()}function G2(e,n=Ky){let a=new Ke;a.writeBuffer(e,!1);let t=H2.deserialize(a),r=t.eventType,o=n[r];if(!o)throw new Error(`Unknown event type: ${String(r)}`);let f=o.deserialize(a);return{eventType:r,payload:f,timestamp:t.timestamp}}var Kp=class{constructor(n,a,t){this.listeners=new Map,this.isServerFuture=$y(),t.deref().then(r=>this.isServerFuture.resolve(r)),this.binaryMessageBus=a,a.on(Dn.CUSTOM_EVENT,(r,o)=>{try{let{eventType:f,payload:u}=G2(r,Qp),c=this.listeners.get(f);c&&c.forEach(async m=>{await this.isServerFuture?m(u,{from:o}):o===ta&&m(u)})}catch(f){console.error("[EventBus] Failed to decode event:",f)}})}async send(n,a,t){try{let r=V2(n,a,Qp);await this.isServerFuture?this.binaryMessageBus.emit(Dn.CUSTOM_EVENT,r,t?.to):this.binaryMessageBus.emit(Dn.CUSTOM_EVENT,r)}catch(r){console.error(`[EventBus] Failed to send event '${String(n)}':`,r)}}onMessage(n,a){this.listeners.has(n)||this.listeners.set(n,new Set);let t=this.listeners.get(n);return t.add(a),()=>{t.delete(a),t.size===0&&this.listeners.delete(n)}}clear(n){n?this.listeners.delete(n):this.listeners.clear()}listenerCount(n){return this.listeners.get(n)?.size??0}},Qp={};var Jp=null;function Y2(e){Jp=e}function Xp(e){if(Object.assign(Qp,e),!Jp)throw new Error("Room not initialized. Make sure the SDK network transport is initialized.");return Jp.registry=Qp,Jp}var ta="authoritative-server",Cn=()=>globalThis.DEBUG_NETWORK_MESSAGES??!1,PN=()=>{try{return typeof globalThis>"u"?!1:globalThis.process?.env?.NODE_ENV==="test"}catch{return!1}};function q2(e,n,a,t,r){let o={};U2(o,a);let f=$p();t({}).then(F=>f.swap(!!F.isServer));let u=D2(e,o),c=[],m=w2((F,U)=>{c.push({data:[F],address:U??[]})});function y(){let F=[...c];return c.length=0,F}let R=Yy(e),g=!1,E=0,x=PN()?0:2,_={filter:B2(e),send:async F=>{E<=x&&E++;for(let ie of E>x?[F].flat():[])if(ie.byteLength){Cn()&&console.log(...Array.from(qy("[NetworkMessage sent]:",ie,e)));for(let P of C.convertRegularToNetworkMessage(ie))m.emit(Dn.CRDT,P)}let U=y(),Z=await n({data:[],peerData:U});m.__processMessages(Z.data)},type:r},C=z2({engine:e,binaryMessageBus:m}),M=new Kp(e,m,f);Y2(M),e.addTransport(_),m.on(Dn.REQ_CRDT_STATE,async(F,U)=>{Cn()&&console.log("[REQ_CRDT_STATE]",U,Date.now());for(let Z of L2(e))Cn()&&console.log("[Emiting:]",U,Date.now()),m.emit(Dn.RES_CRDT_STATE,Z,[U])}),m.on(Dn.RES_CRDT_STATE,async(F,U)=>{q=!1,!(f.getOrNull()||U!==ta)&&(Cn()&&console.log("[Processing CRDT State]",F.byteLength/1024,"KB"),_.onmessage(C.processClientMessages(F,U)),g=!0)}),m.on(Dn.CRDT,(F,U)=>{let Z=f.getOrNull();Cn()&&console.log(_.type,...Array.from(qy("[NetworkMessage received]:",F,e)),Z),Z?_.onmessage(C.processServerMessages(F,U)):U===ta&&_.onmessage(C.processClientMessages(F,U))}),m.on(Dn.CRDT_AUTHORITATIVE,(F,U)=>{if(U!==ta)return;console.log("[AUTHORITATIVE] Received authoritative message from server:",F.byteLength,"bytes");let Z=C.processClientMessages(F,U,!0);Z.byteLength>0&&(_.onmessage(Z),Cn()&&console.log("[AUTHORITATIVE] Applied server authoritative message to local state"))}),R.onEnterScene(F=>{Cn()&&console.log("[onEnterScene]",F.userId),!f.getOrNull()&&o.userId===F.userId&&ue()}),qa.onChange(e.RootEntity,F=>{F?.isConnectedSceneRoom||Cn()&&console.log("Disconnected from comms"),F?.isConnectedSceneRoom&&ue()});let q=!1;function ue(){f.getOrNull()||qa.getOrNull(e.RootEntity)?.isConnectedSceneRoom&&!q&&(q=!0,Cn()&&console.log("Requesting state..."),m.emit(Dn.REQ_CRDT_STATE,new Uint8Array))}R.onLeaveScene(F=>{Cn()&&console.log("[onLeaveScene]",F)});function H(){return g}return{...u,myProfile:o,isStateSyncronized:H,binaryMessageBus:m,eventBus:M}}var J2=require("~system/UserIdentity"),Qy=require("~system/EngineApi");var K2=$p(!1);(0,Qy.isServer)({}).then(e=>{K2.swap(!!e.isServer)});function Q2(){return K2.getOrNull()??!1}var{getChildren:_7,syncEntity:X2,parentEntity:x7,getParent:b7,myProfile:A7,removeParent:R7,getFirstChild:C7,isStateSyncronized:N7,binaryMessageBus:I7,eventBus:v7}=q2(pe,$2.sendBinary,J2.getUserData,Qy.isServer,"network");var LN={gameStarted:T.Map({roundId:T.String,chunkIds:T.Array(T.String),startTime:T.Int64}),timerUpdate:T.Map({remainingTime:T.Float,speedMultiplier:T.Float}),leaderboardUpdate:T.Map({players:T.Array(T.Map({address:T.String,displayName:T.String,maxHeight:T.Float,bestTime:T.Float,isFinished:T.Boolean,finishOrder:T.Int}))}),gameEnded:T.Map({roundId:T.String,winners:T.Array(T.Map({address:T.String,displayName:T.String,time:T.Float,height:T.Float,rank:T.Int}))}),playerHeightUpdate:T.Map({height:T.Float}),playerFinished:T.Map({time:T.Float,height:T.Float}),playerDied:T.Map({height:T.Float}),playerJoined:T.Map({displayName:T.String})},kt=null,e0=!1,Xy=!1,t0=null,n0=null,o0=null,r0=null;async function nx(){if(Xy)return kt!==null;try{return kt=Xp(LN),e0=Q2(),Xy=!0,console.log("[Multiplayer] \u2705 Initialized!"),console.log("[Multiplayer] Is Server:",e0),!0}catch{return console.log("[Multiplayer] \u26A0\uFE0F SDK network module not available"),console.log("[Multiplayer] Running in SINGLE-PLAYER mode"),Xy=!0,!1}}function ox(){return e0}function rx(e){t0=e}function ix(e){n0=e}function ax(e){o0=e}function sx(e){r0=e}var Z2=["Chunk01","Chunk02","Chunk03"],BN=420,ex=3,UN=8,DN=10,Mt={id:"",chunkIds:[],startTime:0,speedMultiplier:1,finishCount:0,players:new Map};var Zy=0,WN=1,i0=0,a0=!1;function cx(){if(!kt){console.error("[SERVER] Room not initialized!");return}console.log("[SERVER] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("[SERVER] \u{1F3AE} Tower of Madness Server Starting"),console.log("[SERVER] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),kt.onMessage("playerHeightUpdate",(e,n)=>{let a=n?.from||"unknown";if(!Mt.players.has(a))Mt.players.set(a,{address:a,displayName:`Player ${Mt.players.size+1}`,maxHeight:e.height,bestTime:null,isFinished:!1,finishOrder:null});else{let t=Mt.players.get(a);e.height>t.maxHeight&&(t.maxHeight=e.height)}tx()}),kt.onMessage("playerFinished",(e,n)=>{let a=n?.from||"unknown",t=Mt.players.get(a);t&&!t.isFinished&&(Mt.finishCount++,t.isFinished=!0,t.bestTime=e.time,t.finishOrder=Mt.finishCount,Mt.speedMultiplier=Mt.finishCount+1,console.log(`[SERVER] \u{1F3C6} ${a} finished! #${Mt.finishCount} | Timer now x${Mt.speedMultiplier}`),tx())}),kt.onMessage("playerDied",(e,n)=>{console.log(`[SERVER] \u2620\uFE0F ${n?.from} died at ${e.height.toFixed(1)}m`)}),kt.onMessage("playerJoined",(e,n)=>{let a=n?.from||"unknown";Mt.players.has(a)||(Mt.players.set(a,{address:a,displayName:e.displayName||`Player ${Mt.players.size+1}`,maxHeight:0,bestTime:null,isFinished:!1,finishOrder:null}),console.log(`[SERVER] \u{1F44B} ${e.displayName} joined!`)),Mt.id&&kt.send("gameStarted",{roundId:Mt.id,chunkIds:Mt.chunkIds,startTime:Mt.startTime})}),ux(),pe.addSystem(jN),console.log("[SERVER] \u2705 Server ready!")}function jN(e){if(a0){i0-=e,i0<=0&&(a0=!1,ux());return}Zy+=e,Zy>=WN&&(Zy=0,FN())}function ux(){let e=Math.floor(Math.random()*(UN-ex+1))+ex,n=[];for(let a=0;a<e;a++)n.push(Z2[Math.floor(Math.random()*Z2.length)]);Mt={id:Date.now().toString(),chunkIds:n,startTime:Date.now(),speedMultiplier:1,finishCount:0,players:new Map},console.log("[SERVER] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log(`[SERVER] \u{1F3AE} NEW ROUND: ${n.join(" \u2192 ")}`),console.log("[SERVER] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),kt&&kt.send("gameStarted",{roundId:Mt.id,chunkIds:n,startTime:Mt.startTime})}function FN(){if(!Mt.id)return;let n=(Date.now()-Mt.startTime)/1e3*Mt.speedMultiplier,a=Math.max(0,BN-n);kt&&kt.send("timerUpdate",{remainingTime:a,speedMultiplier:Mt.speedMultiplier}),a<=0&&HN()}function HN(){console.log("[SERVER] \u{1F3C1} ROUND ENDED!");let n=Array.from(Mt.players.values()).sort((a,t)=>a.isFinished&&!t.isFinished?-1:!a.isFinished&&t.isFinished?1:a.isFinished&&t.isFinished?(a.finishOrder||0)-(t.finishOrder||0):t.maxHeight-a.maxHeight).slice(0,3).map((a,t)=>({address:a.address,displayName:a.displayName,time:a.bestTime||0,height:a.maxHeight,rank:t+1}));kt&&kt.send("gameEnded",{roundId:Mt.id,winners:n}),i0=DN,a0=!0}function tx(){if(!kt)return;let e=Array.from(Mt.players.values()).map(n=>({address:n.address,displayName:n.displayName,maxHeight:n.maxHeight,bestTime:n.bestTime||0,isFinished:n.isFinished,finishOrder:n.finishOrder||0}));e.sort((n,a)=>a.maxHeight-n.maxHeight),kt.send("leaderboardUpdate",{players:e})}function lx(){if(!kt){console.error("[CLIENT] Room not initialized!");return}console.log("[CLIENT] Connecting to server..."),kt.onMessage("gameStarted",e=>{console.log("[CLIENT] \u{1F3AE} New round:",e.chunkIds.join(" \u2192 ")),t0&&t0(e.chunkIds)}),kt.onMessage("timerUpdate",e=>{n0&&n0(e.remainingTime,e.speedMultiplier)}),kt.onMessage("leaderboardUpdate",e=>{o0&&o0(e.players)}),kt.onMessage("gameEnded",e=>{console.log("[CLIENT] \u{1F3C1} Round ended!"),r0&&r0(e.winners)}),console.log("[CLIENT] \u2705 Connected!")}function fx(e){kt&&kt.send("playerHeightUpdate",{height:e})}function dx(e,n){kt&&(kt.send("playerFinished",{time:e,height:n}),console.log(`[CLIENT] \u{1F3C6} Finished! Time: ${e.toFixed(2)}s`))}function px(e){kt&&kt.send("playerDied",{height:e})}function mx(e){kt&&kt.send("playerJoined",{displayName:e})}var ns=0,Qn=0,jy=(r=>(r.NOT_STARTED="NOT_STARTED",r.IN_PROGRESS="IN_PROGRESS",r.FINISHED="FINISHED",r.DIED="DIED",r))(jy||{}),mo="NOT_STARTED",c0=0,hi=0,cl=0,ts=0,ea=0,Ao=null,Yo="",to=0,Fy=(t=>(t.ACTIVE="ACTIVE",t.ENDING="ENDING",t.BREAK="BREAK",t))(Fy||{}),Un="ACTIVE",mr=420,hr=1,em=Date.now(),Zp=0,Za=[],es=[],ho=!1,hx=0,VN=500;function yx(e){if(!qe.has(e))return ne.Zero();let n=qe.get(e),a=n.position;if(n.parent!==void 0&&n.parent!==pe.RootEntity&&qe.has(n.parent)){let t=qe.get(n.parent),r=t.rotation,o=t.scale,f=ne.rotate(a,r),u=ne.create(f.x*o.x,f.y*o.y,f.z*o.z),c=yx(n.parent);return ne.add(u,c)}return a}function GN(){if(!qe.has(pe.PlayerEntity))return;if(ns=qe.get(pe.PlayerEntity).position.y,mo==="IN_PROGRESS"&&(ns>Qn&&(Qn=ns),hi=(Date.now()-c0)/1e3,ho)){let n=Date.now();n-hx>=VN&&(fx(Qn),hx=n)}}function YN(){if(Un==="ENDING"){(Date.now()-to)/1e3>=3&&(Un="BREAK",Yo="\u23F3 Next round in 10 seconds...",to=Date.now());return}if(Un==="BREAK"){ho||(Date.now()-to)/1e3>=10&&qN();return}if(Un==="ACTIVE"&&!ho){let n=(Date.now()-em)/1e3*hr;mr=Math.max(0,420-n),mr<=0&&$N()}}function qN(){console.log("[Game] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("[Game] \u{1F3AE} NEW ROUND STARTING!"),console.log("[Game] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),Un="ACTIVE",mr=420,hr=1,em=Date.now(),Zp=0,es=[],Za=[],mo="NOT_STARTED",hi=0,Qn=0,Ao=null,Yo="\u{1F3AE} New round started! Go to TriggerStart to begin your attempt",to=Date.now(),Yp()}function $N(){console.log("[Game] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("[Game] \u{1F3C1} ROUND ENDED!"),console.log("[Game] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),Un="ENDING",Yo="\u{1F3C1} Round Complete!",to=Date.now()}function JN(){if(Un!=="ACTIVE"){console.log("[Game] Cannot start attempt - round not active");return}if(mo==="FINISHED"){console.log("[Game] Already finished this round!"),Yo="\u2705 You already finished! Wait for next round.",to=Date.now();return}console.log("[Game] ========== ATTEMPT STARTED! =========="),mo="IN_PROGRESS",c0=Date.now(),hi=0,Qn=ns,Ao=null,Yo="\u{1F3C3} GO! Climb to the top!",to=Date.now()}function KN(){mo==="IN_PROGRESS"&&Un==="ACTIVE"&&(console.log("[Game] ========== ATTEMPT FINISHED! =========="),mo="FINISHED",cl=hi,Ao="WIN",Yo=`\u{1F3C6} FINISHED! Time: ${hi.toFixed(2)}s`,to=Date.now(),(cl<ts||ts===0)&&(ts=cl),Qn>ea&&(ea=Qn),Zp++,hr=Zp+1,console.log(`[Game] Timer speed now: x${hr}`),ho&&dx(cl,Qn))}function QN(){mo==="IN_PROGRESS"&&(console.log("[Game] ========== PLAYER DIED! =========="),mo="DIED",Ao="DEATH",Yo=`\u2620\uFE0F DEATH at ${Qn.toFixed(1)}m - Go to TriggerStart to retry!`,to=Date.now(),Qn>ea&&(ea=Qn),ho&&px(Qn))}async function tm(){if(console.log("[Game] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("[Game] \u{1F3AE} TOWER OF MADNESS - Starting..."),console.log("[Game] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("[Multiplayer] Initializing..."),await nx()){if(ho=!0,console.log("[Multiplayer] \u2705 ENABLED"),ox()){console.log("[Multiplayer] Running as SERVER"),cx();return}console.log("[Multiplayer] Running as CLIENT"),lx(),rx(y=>{console.log("[Multiplayer] Received tower from server!"),k2(y),mo="NOT_STARTED",hi=0,Qn=0,Ao=null,Yo="\u{1F3AE} New round! Go to TriggerStart to begin",to=Date.now()}),ix((y,R)=>{mr=y,hr=R}),ax(y=>{Za=y}),sx(y=>{Un="ENDING",es=y,Yo="\u{1F3C1} Round Complete!",to=Date.now()}),mx("Player")}else ho=!1,console.log("[Multiplayer] \u26A0\uFE0F Not available - SINGLE PLAYER mode"),em=Date.now(),Un="ACTIVE";let n=pe.getEntityOrNullByName("TriggerStart"),a=pe.getEntityOrNullByName("TriggerEnd"),t=pe.getEntityOrNullByName("TriggerDeath");if(console.log("[Triggers] Start:",n?"\u2705":"\u274C"),console.log("[Triggers] End:",a?"\u2705":"\u274C"),console.log("[Triggers] Death:",t?"\u2705":"\u274C"),n){if(qe.has(n)){let y=qe.getMutable(n);y.scale=ne.create(Math.max(y.scale.x,2),Math.max(y.scale.y,2),Math.max(y.scale.z,2))}fr.setBox(n,js.CL_PLAYER)}if(a){if(qe.has(a)){let y=qe.getMutable(a);y.scale=ne.create(Math.max(y.scale.x,2),Math.max(y.scale.y,2),Math.max(y.scale.z,2))}fr.setBox(a,js.CL_PLAYER)}if(t){if(qe.has(t)){let y=qe.getMutable(t);y.scale=ne.create(Math.max(y.scale.x,2),Math.max(y.scale.y,2),Math.max(y.scale.z,2))}fr.setBox(t,js.CL_PLAYER)}let r=!1,o=!1,f=!1;pe.addSystem(()=>{if(!qe.has(pe.PlayerEntity))return;let y=qe.get(pe.PlayerEntity).position;if(n&&qe.has(n)){let R=qe.get(n),g=u(y,R.position,R.scale);g&&!r?(r=!0,JN()):!g&&r&&(r=!1)}if(a&&qe.has(a)){let R=qe.get(a),g=yx(a),E=u(y,g,R.scale);E&&!o?(o=!0,KN()):!E&&o&&(o=!1)}if(t&&qe.has(t)){let R=qe.get(t),g=u(y,R.position,R.scale);g&&!f?(f=!0,QN()):!g&&f&&(f=!1)}});function u(y,R,g){let E=Math.abs(y.x-R.x),x=Math.abs(y.y-R.y),_=Math.abs(y.z-R.z);return E<=g.x/2&&x<=g.y/2&&_<=g.z/2}pe.addSystem(GN),pe.addSystem(YN);let c=0;pe.addSystem(()=>{let y=Date.now();if(y-c>5e3){let R=Math.floor(mr/60),g=Math.floor(mr%60);console.log(`[Game] Round: ${Un} | Timer: ${R}:${g.toString().padStart(2,"0")} x${hr} | Attempt: ${mo}`),c=y}}),O2();let m=pe.getEntityOrNullByName("Button Panel");m&&!ho&&(hy.has(m)||hy.create(m,{pointerEvents:[{eventType:Tp.PET_DOWN,eventInfo:{button:$u.IA_POINTER,hoverText:"Regenerate Tower",showFeedback:!0,maxDistance:10}}]}),qu.onPointerDown({entity:m,opts:{button:$u.IA_POINTER,hoverText:"Regenerate Tower",showFeedback:!0,maxDistance:10}},()=>{console.log("[Game] Button clicked - regenerating tower..."),Yp()})),ho||(console.log("[Game] Generating initial tower..."),Yp()),XN("sounds/PixelSodaBar.mp3"),console.log("[Game] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("[Game] \u2705 Setup complete!"),console.log("[Game] Mode:",ho?"MULTIPLAYER":"SINGLE PLAYER"),console.log("[Game] \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550")}var na=null,s0=!1;function XN(e){return na=pe.addEntity(),qe.create(na,{position:ne.create(40,0,40),scale:ne.One()}),lr.create(na,{audioClipUrl:e,playing:!0,loop:!0,volume:1}),pe.addSystem(()=>{if(na&&lr.has(na)){let n=lr.get(na);!n.playing&&!s0?lr.getMutable(na).playing=!0:n.playing&&!s0&&(s0=!0)}}),na}function ZN(e,n=1){let a=pe.addEntity();return lr.create(a,{audioClipUrl:e,playing:!0,loop:!1,volume:n}),a}function gx(e,n,a){let r=qo(at.ACTION_TYPES,e).getOrCreateMutable(e.RootEntity),o={type:n,jsonSchema:JSON.stringify(a?.jsonSchema||T.Map({}).jsonSchema)};r.value=[...r.value.filter(f=>f.type!==o.type),o]}function Ue(e){return JSON.parse(e.jsonPayload)}var at;(function(e){e.ACTION_TYPES="asset-packs::ActionTypes",e.ACTIONS="asset-packs::Actions",e.COUNTER="asset-packs::Counter",e.TRIGGERS="asset-packs::Triggers",e.STATES="asset-packs::States",e.COUNTER_BAR="asset-packs::CounterBar",e.ADMIN_TOOLS="asset-packs::AdminTools",e.VIDEO_SCREEN="asset-packs::VideoScreen",e.REWARDS="asset-packs::Rewards",e.TEXT_ANNOUNCEMENTS="asset-packs::TextAnnouncements",e.VIDEO_CONTROL_STATE="asset-packs::VideoControlState"})(at||(at={}));var yi;(function(e){e.MOVE_ITEM="move_item",e.ROTATE_ITEM="rotate_item",e.SCALE_ITEM="scale_item"})(yi||(yi={}));var cn;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(cn||(cn={}));var ye;(function(e){e.PLAY_ANIMATION="play_animation",e.STOP_ANIMATION="stop_animation",e.SET_STATE="set_state",e.START_TWEEN="start_tween",e.SET_COUNTER="set_counter",e.INCREMENT_COUNTER="increment_counter",e.DECREASE_COUNTER="decrease_counter",e.PLAY_SOUND="play_sound",e.STOP_SOUND="stop_sound",e.SET_VISIBILITY="set_visibility",e.ATTACH_TO_PLAYER="attach_to_player",e.DETACH_FROM_PLAYER="detach_from_player",e.PLAY_VIDEO_STREAM="play_video_stream",e.STOP_VIDEO_STREAM="stop_video_stream",e.PLAY_AUDIO_STREAM="play_audio_stream",e.STOP_AUDIO_STREAM="stop_audio_stream",e.TELEPORT_PLAYER="teleport_player",e.MOVE_PLAYER="move_player",e.PLAY_DEFAULT_EMOTE="play_default_emote",e.PLAY_CUSTOM_EMOTE="play_custom_emote",e.OPEN_LINK="open_link",e.SHOW_TEXT="show_text",e.HIDE_TEXT="hide_text",e.START_DELAY="start_delay",e.STOP_DELAY="stop_delay",e.START_LOOP="start_loop",e.STOP_LOOP="stop_loop",e.CLONE_ENTITY="clone_entity",e.REMOVE_ENTITY="remove_entity",e.SHOW_IMAGE="show_image",e.HIDE_IMAGE="hide_image",e.DAMAGE="damage",e.MOVE_PLAYER_HERE="move_player_here",e.PLACE_ON_PLAYER="place_on_player",e.ROTATE_AS_PLAYER="rotate_as_player",e.PLACE_ON_CAMERA="place_on_camera",e.ROTATE_AS_CAMERA="rotate_as_camera",e.SET_POSITION="set_position",e.SET_ROTATION="set_rotation",e.SET_SCALE="set_scale",e.FOLLOW_PLAYER="follow_player",e.STOP_FOLLOWING_PLAYER="stop_following_player",e.RANDOM="random",e.BATCH="batch",e.HEAL_PLAYER="heal_player",e.CLAIM_AIRDROP="claim_airdrop"})(ye||(ye={}));var st;(function(e){e.ON_CLICK="on_click",e.ON_INPUT_ACTION="on_input_action",e.ON_STATE_CHANGE="on_state_change",e.ON_SPAWN="on_spawn",e.ON_TWEEN_END="on_tween_end",e.ON_COUNTER_CHANGE="on_counter_change",e.ON_PLAYER_ENTERS_AREA="on_player_enters_area",e.ON_PLAYER_LEAVES_AREA="on_player_leaves_area",e.ON_DELAY="on_delay",e.ON_LOOP="on_loop",e.ON_CLONE="on_clone",e.ON_CLICK_IMAGE="on_click_image",e.ON_DAMAGE="on_damage",e.ON_GLOBAL_CLICK="on_global_click",e.ON_GLOBAL_PRIMARY="on_global_primary",e.ON_GLOBAL_SECONDARY="on_global_secondary",e.ON_TICK="on_tick",e.ON_HEAL_PLAYER="on_heal_player",e.ON_PLAYER_SPAWN="on_player_spawn"})(st||(st={}));var tn;(function(e){e.WHEN_STATE_IS="when_state_is",e.WHEN_STATE_IS_NOT="when_state_is_not",e.WHEN_COUNTER_EQUALS="when_counter_equals",e.WHEN_COUNTER_IS_GREATER_THAN="when_counter_is_greater_than",e.WHEN_COUNTER_IS_LESS_THAN="when_counter_is_less_than",e.WHEN_DISTANCE_TO_PLAYER_LESS_THAN="when_distance_to_player_less_than",e.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN="when_distance_to_player_greater_than",e.WHEN_PREVIOUS_STATE_IS="when_previous_state_is",e.WHEN_PREVIOUS_STATE_IS_NOT="when_previous_state_is_not"})(tn||(tn={}));var gi;(function(e){e.AND="and",e.OR="or"})(gi||(gi={}));var Ft;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(Ft||(Ft={}));var oa;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(oa||(oa={}));var ul;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(ul||(ul={}));var ra;(function(e){e.ALL="all",e.PLAYER="player",e.NON_PLAYER="non_player"})(ra||(ra={}));var ll;(function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE"})(ll||(ll={}));var fl;(function(e){e[e.VideoURL=0]="VideoURL",e[e.LiveStream=1]="LiveStream"})(fl||(fl={}));function Xn(e){return{Animator:iy(e),Transform:cr(e),AudioSource:ip(e),AvatarAttach:Fd(e),VisibilityComponent:$d(e),GltfContainer:Ua(e),UiTransform:ui(e),UiText:Fa(e),UiBackground:gc(e),UiInput:Wa(e),UiInputResult:ja(e),UiCanvasInformation:vu(e),VideoPlayer:wu(e),Material:rp(e),MeshRenderer:ap(e),Billboard:Hd(e),Name:xc(e),Tween:_c(e),TweenSequence:Da(e),PointerEvents:ci(e),NetworkEntity:li(e),SyncComponents:up(e)}}function dl(e){return{all:e=e||new Map,on:function(n,a){var t=e.get(n);t?t.push(a):e.set(n,[a])},off:function(n,a){var t=e.get(n);t&&(a?t.splice(t.indexOf(a)>>>0,1):e.set(n,[]))},emit:function(n,a){var t=e.get(n);t&&t.slice().map(function(r){r(a)}),(t=e.get("*"))&&t.slice().map(function(r){r(n,a)})}}}var u0=new Map,l0=new Map;function nn(e){return u0.has(e)||u0.set(e,dl()),u0.get(e)}function jr(e){return l0.has(e)||l0.set(e,dl()),l0.get(e)}var tI=[at.ACTIONS,at.STATES,at.COUNTER];function nI(e){return e.getComponent(at.COUNTER)}function Ex(e){let a=nI(e).getOrCreateMutable(e.RootEntity);return++a.value}function Tx(e){return tI.includes(e.componentName)}function pl(e,n){return!!n&&e.value.includes(n)}function f0(e){return pl(e,e.currentValue)?e.currentValue:d0(e)}function d0(e){if(pl(e,e.defaultValue))return e.defaultValue;if(e.value.length>0)return e.value[0]}function p0(e){return pl(e,e.previousValue)?e.previousValue:null}function Sx(e){return!!e.createOrReplace}function _x(e,n,a,t,r){let o=new Map,f=new Map,u=Rc(n,e,a),{NetworkEntity:c,SyncComponents:m}=Xn(n);for(let g of u){let E=n.addEntity();for(let x of n.componentsIter())if(x.has(g)){let _=JSON.parse(JSON.stringify(x.get(g)));if(Tx(x)){let C=_.id,M=Ex(n);o.set(C,M),_={..._,id:M}}Sx(x)&&x.createOrReplace(E,_)}f.set(g,E)}let y=Array.from(f.values()).reverse();for(let g of y){if(t.has(g)){let x=t.getMutable(g);for(let _ of x.value){for(let C of _.actions)if(C.id){let M=o.get(C.id);M&&(C.id=M)}if(_.conditions){for(let C of _.conditions)if(C.id){let M=o.get(C.id);M&&(C.id=M)}}}}if(c.has(g)){let x=m.getOrNull(g);x&&r?.syncEntity&&r?.syncEntity(g,x.componentIds)}let E=a.getMutableOrNull(g);if(E&&E.parent){let x=f.get(E.parent);x&&(E.parent=x)}}let R=y[0];return{ids:o,entities:f,cloned:R}}var ia="livekit-video://current-stream",oI={[ye.PLAY_ANIMATION]:T.Map({animation:T.String,loop:T.Optional(T.Boolean)}),[ye.STOP_ANIMATION]:T.Map({}),[ye.SET_STATE]:T.Map({state:T.String}),[ye.START_TWEEN]:T.Map({type:T.EnumString(yi,yi.MOVE_ITEM),end:T.Vector3,interpolationType:T.EnumString(cn,cn.LINEAR),duration:T.Float,relative:T.Boolean}),[ye.SET_COUNTER]:T.Map({counter:T.Int}),[ye.INCREMENT_COUNTER]:T.Map({amount:T.Optional(T.Int)}),[ye.DECREASE_COUNTER]:T.Map({amount:T.Optional(T.Int)}),[ye.PLAY_SOUND]:T.Map({src:T.String,loop:T.Optional(T.Boolean),volume:T.Optional(T.Float),global:T.Optional(T.Boolean)}),[ye.STOP_SOUND]:T.Map({}),[ye.SET_VISIBILITY]:T.Map({visible:T.Boolean,physicsCollider:T.Optional(T.Boolean),collider:T.Optional(T.EnumNumber(ul,ul.CL_POINTER))}),[ye.ATTACH_TO_PLAYER]:T.Map({anchorPointId:T.Int}),[ye.DETACH_FROM_PLAYER]:T.Map({}),[ye.PLAY_VIDEO_STREAM]:T.Map({src:T.Optional(T.String),loop:T.Optional(T.Boolean),volume:T.Optional(T.Float),dclCast:T.Optional(T.Boolean)}),[ye.STOP_VIDEO_STREAM]:T.Map({}),[ye.PLAY_AUDIO_STREAM]:T.Map({url:T.String,volume:T.Optional(T.Float)}),[ye.STOP_AUDIO_STREAM]:T.Map({}),[ye.TELEPORT_PLAYER]:T.Map({x:T.Int,y:T.Int}),[ye.MOVE_PLAYER]:T.Map({position:T.Vector3,cameraTarget:T.Optional(T.Vector3)}),[ye.PLAY_DEFAULT_EMOTE]:T.Map({emote:T.String}),[ye.PLAY_CUSTOM_EMOTE]:T.Map({src:T.String,loop:T.Optional(T.Boolean)}),[ye.OPEN_LINK]:T.Map({url:T.String}),[ye.SHOW_TEXT]:T.Map({text:T.String,hideAfterSeconds:T.Float,font:T.EnumNumber(oa,oa.F_SANS_SERIF),fontSize:T.Optional(T.Float),textAlign:T.EnumNumber(Ft,Ft.TAM_MIDDLE_CENTER)}),[ye.HIDE_TEXT]:T.Map({}),[ye.START_DELAY]:T.Map({actions:T.Array(T.String),timeout:T.Float}),[ye.STOP_DELAY]:T.Map({action:T.String}),[ye.START_LOOP]:T.Map({actions:T.Array(T.String),interval:T.Float}),[ye.STOP_LOOP]:T.Map({action:T.String}),[ye.CLONE_ENTITY]:T.Map({position:T.Vector3}),[ye.REMOVE_ENTITY]:T.Map({}),[ye.SHOW_IMAGE]:T.Map({src:T.String,align:T.EnumNumber(Ft,Ft.TAM_MIDDLE_CENTER),height:T.Float,width:T.Float,hideAfterSeconds:T.Optional(T.Float),text:T.Optional(T.String),fontSize:T.Optional(T.Float)}),[ye.HIDE_IMAGE]:T.Map({imageEntity:T.Optional(T.Int)}),[ye.DAMAGE]:T.Map({radius:T.Float,layer:T.Optional(T.EnumString(ra,ra.ALL)),hits:T.Optional(T.Int)}),[ye.MOVE_PLAYER_HERE]:T.Map({}),[ye.PLACE_ON_PLAYER]:T.Map({}),[ye.ROTATE_AS_PLAYER]:T.Map({}),[ye.PLACE_ON_CAMERA]:T.Map({}),[ye.ROTATE_AS_CAMERA]:T.Map({}),[ye.SET_POSITION]:T.Map({x:T.Float,y:T.Float,z:T.Float,relative:T.Optional(T.Boolean)}),[ye.SET_ROTATION]:T.Map({x:T.Float,y:T.Float,z:T.Float,relative:T.Optional(T.Boolean)}),[ye.SET_SCALE]:T.Map({x:T.Float,y:T.Float,z:T.Float,relative:T.Optional(T.Boolean)}),[ye.FOLLOW_PLAYER]:T.Map({speed:T.Float,x:T.Boolean,y:T.Boolean,z:T.Boolean,minDistance:T.Float}),[ye.STOP_FOLLOWING_PLAYER]:T.Map({}),[ye.RANDOM]:T.Map({actions:T.Array(T.String)}),[ye.BATCH]:T.Map({actions:T.Array(T.String)}),[ye.HEAL_PLAYER]:T.Map({multiplier:T.Int}),[ye.CLAIM_AIRDROP]:T.Map({})};function qo(e,n){try{return n.getComponent(e)}catch(a){throw console.error(`Error using getComponent with componentName="${e}"`),a}}function Pt(e){return{Actions:qo(at.ACTIONS,e),States:qo(at.STATES,e),Counter:qo(at.COUNTER,e),Triggers:qo(at.TRIGGERS,e),CounterBar:qo(at.COUNTER_BAR,e),AdminTools:qo(at.ADMIN_TOOLS,e),VideoScreen:qo(at.VIDEO_SCREEN,e),Rewards:qo(at.REWARDS,e),TextAnnouncements:qo(at.TEXT_ANNOUNCEMENTS,e),VideoControlState:qo(at.VIDEO_CONTROL_STATE,e)}}function xx(e){let n=e.defineComponent(at.ACTION_TYPES,{value:T.Array(T.Map({type:T.String,jsonSchema:T.String}))}),a=e.defineComponent(at.ACTIONS,{id:T.Int,value:T.Array(T.Map({name:T.String,type:T.String,jsonPayload:T.String,allowedInBasicView:T.Optional(T.Boolean),basicViewId:T.Optional(T.String),default:T.Optional(T.Boolean)}))}),t=e.defineComponent(at.COUNTER,{id:T.Number,value:T.Int}),r=e.defineComponent(at.TRIGGERS,{value:T.Array(T.Map({type:T.EnumString(st,st.ON_INPUT_ACTION),conditions:T.Optional(T.Array(T.Map({id:T.Optional(T.Int),type:T.EnumString(tn,tn.WHEN_STATE_IS),value:T.String}))),operation:T.Optional(T.EnumString(gi,gi.AND)),actions:T.Array(T.Map({id:T.Optional(T.Int),name:T.Optional(T.String)})),basicViewId:T.Optional(T.String)}))}),o=e.defineComponent(at.STATES,{id:T.Number,value:T.Array(T.String),defaultValue:T.Optional(T.String),currentValue:T.Optional(T.String),previousValue:T.Optional(T.String)}),f=e.defineComponent(at.COUNTER_BAR,{primaryColor:T.Optional(T.String),secondaryColor:T.Optional(T.String),maxValue:T.Optional(T.Float)}),u=e.defineComponent(at.VIDEO_SCREEN,{thumbnail:T.String,defaultMediaSource:T.EnumNumber(fl,fl.VideoURL),defaultURL:T.String}),c=e.defineComponent(at.ADMIN_TOOLS,{adminPermissions:T.EnumString(ll,ll.PUBLIC),authorizedAdminUsers:T.Map({me:T.Boolean,sceneOwners:T.Boolean,allowList:T.Boolean,adminAllowList:T.Array(T.String)}),moderationControl:T.Map({isEnabled:T.Boolean,kickCoordinates:T.Map({x:T.Number,y:T.Number,z:T.Number}),allowNonOwnersManageAdminAllowList:T.Boolean}),textAnnouncementControl:T.Map({isEnabled:T.Boolean,playSoundOnEachAnnouncement:T.Boolean,showAuthorOnEachAnnouncement:T.Boolean}),videoControl:T.Map({isEnabled:T.Boolean,disableVideoPlayersSound:T.Boolean,showAuthorOnVideoPlayers:T.Boolean,linkAllVideoPlayers:T.Boolean,videoPlayers:T.Optional(T.Array(T.Map({entity:T.Int,customName:T.String})))}),smartItemsControl:T.Map({isEnabled:T.Boolean,linkAllSmartItems:T.Boolean,smartItems:T.Optional(T.Array(T.Map({entity:T.Int,customName:T.String,defaultAction:T.String})))}),rewardsControl:T.Map({isEnabled:T.Boolean,rewardItems:T.Optional(T.Array(T.Map({entity:T.Int,customName:T.String})))})}),m=e.defineComponent(at.REWARDS,{campaignId:T.String,dispenserKey:T.String,testMode:T.Boolean}),y=e.defineComponent(at.TEXT_ANNOUNCEMENTS,{text:T.String,author:T.Optional(T.String),id:T.String}),R=e.defineComponent(at.VIDEO_CONTROL_STATE,{endsAt:T.Optional(T.Int64),streamKey:T.Optional(T.String)});return{ActionTypes:n,Actions:a,Counter:t,Triggers:r,States:o,CounterBar:f,AdminTools:c,Rewards:m,TextAnnouncements:y,VideoControlState:R,VideoScreen:u}}function bx(e){let n=Object.values(ye);for(let f of n){let u=f;gx(e,u,oI[u])}let t=e.getComponent(at.COUNTER).getOrCreateMutable(e.RootEntity);t.value=t.value||0;let{VideoPlayer:r,Material:o}=Xn(e);iI(e,{VideoPlayer:r,Material:o})}function rI({material:e}){if(e?.$case==="unlit"&&e.unlit.texture?.tex?.$case==="videoTexture")return e.unlit.texture.tex.videoTexture}function m0(e,{Material:n},a){if(!a||!a.material||a.material.$case!=="unlit")return null;n.setBasicMaterial(e,{...a.material.unlit,texture:n.Texture.Video({videoPlayerEntity:e})})}function iI(e,n){function a(){let{Material:t,VideoPlayer:r}=n;e.removeSystem(a);for(let[o,f]of e.getEntitiesWith(t,r))rI(f)?.videoPlayerEntity===e.RootEntity&&m0(o,n,f)}e.addSystem(a)}function Ax(e){switch(e){case at.STATES:return[tn.WHEN_STATE_IS,tn.WHEN_STATE_IS_NOT,tn.WHEN_PREVIOUS_STATE_IS,tn.WHEN_PREVIOUS_STATE_IS_NOT];case at.COUNTER:return[tn.WHEN_COUNTER_EQUALS,tn.WHEN_COUNTER_IS_GREATER_THAN,tn.WHEN_COUNTER_IS_LESS_THAN];case at.ACTIONS:return[tn.WHEN_DISTANCE_TO_PLAYER_LESS_THAN,tn.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN];default:return[]}}function yr(e){let n=qe.getOrNull(e);if(!n)return ne.Zero();let a=n.parent;if(a){let t=qe.get(a).rotation;return ne.add(yr(a),ne.rotate(n.position,os(a)))}else return n.position}function os(e){let n=qe.getOrNull(e);if(!n)return Ve.Identity();let a=n.parent;return a?Ve.multiply(n.rotation,os(a)):n.rotation}var un;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(un||(un={}));function Rx(e,n,a){let t=new Array,r=1/n,o=0;if(a){let f=e.length;for(let u=0;u<f;u++){o=0;for(let c=0;c<n;c++)t.push(ne.catmullRom(e[u%f],e[(u+1)%f],e[(u+2)%f],e[(u+3)%f],o)),o+=r}t.push(t[0])}else{let f=new Array;f.push(ne.clone(e[0])),Array.prototype.push.apply(f,e),f.push(ne.clone(e[e.length-1]));let u=0;for(;u<f.length-3;u++){o=0;for(let c=0;c<n;c++)t.push(ne.catmullRom(f[u],f[u+1],f[u+2],f[u+3],o)),o+=r}u--,t.push(ne.catmullRom(f[u],f[u+1],f[u+2],f[u+3],o))}return t}var Wn;(function(e){e.TimerSystemPriority=1e5+256,e.TweenSystemPriority=1e5+192,e.PerpetualMotionSystemPriority=1e5+192,e.PathSystemPriority=1e5+192,e.TriggerSystemPriority=1e5+128,e.ActionSystemPriority=1e5+64})(Wn||(Wn={}));function aI(e){let n=new Map,a=0;function t(r){let o=[],f=[];for(let[u,c]of n)c.accumulatedTime+=1e3*r,!(c.accumulatedTime<c.interval)&&(f.push(c.callback),c.recurrent?c.accumulatedTime-=Math.floor(c.accumulatedTime/c.interval)*c.interval:o.push(u));for(let u of o)n.delete(u);for(let u of f)u()}return e.addSystem(t,Wn.TimerSystemPriority),{setTimeout(r,o){let f=a++;return n.set(f,{callback:r,interval:o,recurrent:!1,accumulatedTime:0}),f},clearTimeout(r){n.delete(r)},setInterval(r,o){let f=a++;return n.set(f,{callback:r,interval:o,recurrent:!0,accumulatedTime:0}),f},clearInterval(r){n.delete(r)}}}var h0=aI(pe);var Dc;(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(Dc||(Dc={}));function sI(e,n){let a=e.defineComponent("dcl.utils.Toggle",{state:T.EnumNumber(Dc,Dc.Off)}),t=new Map;return n.setInterval(function(){for(let r of t.keys())(e.getEntityState(r)==qt.Removed||!a.has(r))&&t.delete(r)},5e3),{addToggle(r,o,f){t.set(r,f),a.createOrReplace(r,{state:o})},removeToggle(r){t.delete(r),a.deleteFrom(r)},setCallback(r,o){t.set(r,o)},set(r,o){if(a.get(r).state!=o){a.getMutable(r).state=o;let u=t.get(r);u&&u(o)}},flip(r){this.set(r,1-a.get(r).state)},isOn(r){return a.get(r).state==Dc.On}}}var cI=sI(pe,h0);function nm(e){let n=qe.getOrNull(e);return n?n.parent:pe.RootEntity}function Wc(){return qe.getOrNull(pe.PlayerEntity)?.position||ne.create()}function y0(e){switch(e){case un.LINEAR:return 0;case un.EASEINQUAD:return 1;case un.EASEOUTQUAD:return 2;case un.EASEQUAD:return 3;case un.EASEINSINE:return 4;case un.EASEOUTSINE:return 5;case un.EASESINE:return 6;case un.EASEINEXPO:return 7;case un.EASEOUTEXPO:return 8;case un.EASEEXPO:return 9;case un.EASEINELASTIC:return 10;case un.EASEOUTELASTIC:return 11;case un.EASEELASTIC:return 12;case un.EASEINBOUNCE:return 13;case un.EASEOUTEBOUNCE:return 14;case un.EASEBOUNCE:return 15;default:return 0}}function uI(e){let n=new Map;function a(f){let u=[];for(let[c,m]of n.entries()){if(e.getEntityState(c)==qt.Removed||!En.has(c)){n.delete(c);continue}let y=En.get(c);m.normalizedTime+=f*1e3,m.normalizedTime>=y.duration&&u.push(c)}for(let c of u){let m=n.get(c)?.callback;En.deleteFrom(c),n.delete(c),m&&m()}}function t(f){En.deleteFrom(f),n.delete(f)}function r(f){return function(u,c,m,y,R=un.LINEAR,g){let E=y===0?1:0;n.set(u,{normalizedTime:E,callback:g});let x=En.Mode[f]({start:c,end:m});En.createOrReplace(u,{duration:y*1e3,easingFunction:y0(R),currentTime:E,mode:x})}}function o(f){if(!n.has(f))throw new Error(`Entity ${f} is not registered with tweens system`);return n.get(f)}return e.addSystem(a,Wn.TweenSystemPriority),{startTranslation:r("Move"),stopTranslation:t,startRotation:r("Rotate"),stopRotation:t,startScaling:r("Scale"),stopScaling:t,getTranslationOnFinishCallback:o,getRotationOnFinishCallback:o,getScalingOnFinishCallback:o}}var lI=uI(pe);function fI(e,n){if(e<0)throw new Error('Invalid "start" parameter provided. "start" parameter should be >= 0.');if(e>=n)throw new Error('Invalid "start" & "end" parameters provided. "start" parameter should be lower than "end" parameter.')}function dI(e){let n=new Map;function a(r){let o=[];for(let[f,u]of n.entries()){if(e.getEntityState(f)==qt.Removed||!lr.has(f)){n.delete(f);continue}u.currentTime+=r,u.currentTime>=u.end&&o.push(f)}for(let f of o)lr.stopSound(f),n.delete(f)}function t(r,o,f,u){fI(f,u),n.set(r,{currentTime:f,end:u}),lr.createOrReplace(r,{...o,playing:!0,currentTime:f})}return e.addSystem(a,Wn.TweenSystemPriority),{playSoundSegment:t}}var pI=dI(pe);var ml;(function(e){e.X="x",e.Y="y",e.Z="z"})(ml||(ml={}));function mI(e){let n=e.defineComponent("dcl.utils.PerpetualRotation",{velocity:T.Quaternion});function a(t){for(let[r,o]of e.getEntitiesWith(n,qe)){let f=Ve.slerp(Ve.Identity(),o.velocity,t),u=qe.getMutable(r);u.rotation=Ve.normalize(Ve.multiply(u.rotation,f))}}return e.addSystem(a,Wn.PerpetualMotionSystemPriority),{startRotation(t,r){n.createOrReplace(t,{velocity:r})},stopRotation(t){En.has(t)&&En.deleteFrom(t),gp.has(t)&&gp.deleteFrom(t),n.has(t)&&n.deleteFrom(t)},smoothRotation(t,r,o){let f=Ve.fromEulerDegrees(0,180,0),u=Ve.fromEulerDegrees(0,360,0);switch(o){case ml.X:f=Ve.fromEulerDegrees(180,0,0),u=Ve.fromEulerDegrees(360,0,0);break;case ml.Y:f=Ve.fromEulerDegrees(0,180,0),u=Ve.fromEulerDegrees(0,360,0);break;case ml.Z:f=Ve.fromEulerDegrees(0,0,180),u=Ve.fromEulerDegrees(0,0,360);break}En.createOrReplace(t,{mode:En.Mode.Rotate({start:Ve.fromEulerDegrees(0,0,0),end:f}),duration:r/2,easingFunction:0}),gp.create(t,{loop:0,sequence:[{mode:En.Mode.Rotate({start:f,end:u}),duration:r/2,easingFunction:0}]})}}}var hI=mI(pe);function yI(e){let n=e.defineComponent("dcl.utils.FollowPath",{points:T.Array(T.Vector3),faceDirection:T.Boolean,speed:T.Number,normalizedTime:T.Number,currentIndex:T.Number,segmentTimes:T.Array(T.Number),curveSegmentCount:T.Number}),a=new Map,t=new Map;function r(u){a.delete(u),t.delete(u),n.deleteFrom(u)}function o(u){let c=[],m=[];for(let y of a.keys()){if(e.getEntityState(y)==qt.Removed||!n.has(y)){r(y);continue}let R=qe.getMutable(y),g=n.getMutable(y);for(g.normalizedTime=wt.clamp(g.normalizedTime+u*g.speed,0,1),g.normalizedTime>=1&&c.push(y);g.normalizedTime>=g.segmentTimes[g.currentIndex]&&g.currentIndex<g.points.length-1;){if(g.faceDirection){let _=ne.subtract(g.points[g.currentIndex+1],g.points[g.currentIndex]);R.rotation=Ve.lookRotation(_)}if(g.currentIndex>0&&g.currentIndex%g.curveSegmentCount==0){let _=g.currentIndex/g.curveSegmentCount,C=g.points[g.currentIndex],M=g.points[g.currentIndex+g.curveSegmentCount];m.push({entity:y,index:_,coords:C,nextCoords:M})}g.currentIndex+=1}let E=g.segmentTimes[g.currentIndex]-g.segmentTimes[g.currentIndex-1],x=(g.segmentTimes[g.currentIndex]-g.normalizedTime)/E;R.position=ne.lerp(g.points[g.currentIndex],g.points[g.currentIndex-1],x)}for(let y of m){let R=t.get(y.entity);R&&R(y.index,y.coords,y.nextCoords)}for(let y of c){let R=a.get(y);r(y),R&&R()}}e.addSystem(o,Wn.PathSystemPriority);function f(u,c,m,y,R,g,E){if(c.length<2)throw new Error("At least 2 points are required to form a path.");if(m==0)throw new Error("Path duration must not be zero");if(R){let M=ne.equals(c[0],c[c.length-1]);M&&(c.pop(),c.unshift(c.pop())),c=Rx(c,R,M)}else R=1;a.set(u,g),t.set(u,E);let x=0,_=[];for(let M=0;M<c.length-1;M++){let q=ne.distance(c[M],c[M+1]);x+=q,_.push(q)}let C=[0];for(let M=0;M<_.length;M++)C.push(_[M]/x+C[M]);n.createOrReplace(u,{points:c,segmentTimes:C,curveSegmentCount:R,speed:1/m,normalizedTime:0,currentIndex:0,faceDirection:y})}return{startStraightPath(u,c,m,y,R,g){return f(u,c,m,y,0,R,g)},startSmoothPath(u,c,m,y,R,g,E){if(y<2||!Number.isInteger(y))throw new Error(`segmentCount must be an integer that is greater than 2, got: ${y}`);return f(u,c,m,R,y,g,E)},stopPath(u){r(u)},getOnFinishCallback(u){if(!a.has(u))throw new Error(`Entity ${u} is not registered in triggers system`);return a.get(u)}}}var gI=yI(pe);var hl=1,Cx=2,Nx=4,Ix=8,vx=16,kx=32,Ox=64,wx=128,Ei=255,Ti=0,Mx=hl;function EI(e){let n=new Map,a=new Map,t=new Map,r=new Map,o=!1;function f(H){let F=0;return H&hl&&(F|=256),H&Cx&&(F|=512),H&Nx&&(F|=1024),H&Ix&&(F|=2048),H&vx&&(F|=4096),H&kx&&(F|=8192),H&Ox&&(F|=16384),H&wx&&(F|=32768),F}function u(H){let F=f(H);return H&Mx&&(F|=4),F}function c(H){H||(H=[{type:"box"}]);let F=[];for(let U of H)U.type=="box"?F.push({$case:"box",value:{position:U.position?U.position:ne.Zero(),scale:U.scale?U.scale:ne.One()}}):F.push({$case:"sphere",value:{position:U.position?U.position:ne.Zero(),radius:U.radius?U.radius:1}});return F}function m(H,F,U){let Z=yr(F),ie=os(F),P=ne.rotate(U.value.position,ie),G=ne.add(Z,P),z,N;U.$case=="box"?(z=U.value.scale,N=ie):(z={x:U.value.radius,y:U.value.radius,z:U.value.radius},N=Ve.Identity()),qe.createOrReplace(H,{position:G,scale:z,rotation:N})}function y(H,F,U,Z){let ie=u(U);F.$case=="box"?fr.setBox(H,ie):fr.setSphere(H,ie)}function R(H,F){my.onTriggerEnter(H,U=>{let Z=n.get(F);if(!Z||!Z.active)return;let ie=U.trigger.entity;if(t.has(ie)&&(ie=t.get(ie)),ie==F)return;let P=r.get(F);P||(P=new Map,r.set(F,P));let G=P.get(ie)||0,z=G+1;P.set(ie,z),G==0&&Z.onEnter&&Z.onEnter(ie)}),my.onTriggerExit(H,U=>{let Z=n.get(F);if(!Z)return;let ie=U.trigger.entity;if(t.has(ie)&&(ie=t.get(ie)),ie==F)return;let P=r.get(F);if(!P)return;let G=P.get(ie)||0;if(G<=0)return;let z=G-1;z==0?(P.delete(ie),Z.onExit&&Z.onExit(ie)):P.set(ie,z)})}function g(H){let F=n.get(H),U=c(F.areas),Z=[];for(let ie of U){let P=e.addEntity();t.set(P,H),m(P,H,ie),y(P,ie,F.triggeredByMask,F.layerMask),R(P,H),Z.push(P)}a.set(H,Z)}function E(H){let F=a.get(H);if(F){for(let U of F)t.delete(U),e.removeEntity(U);a.delete(H)}}function x(H){if(!n.get(H))return;let U=a.get(H)||[];for(let Z of U);}function _(H,F,U,Z){F.$case=="box"?Ap.setBox(H):Ap.setSphere(H);let ie=Z?U:Qu.Black();Oc.setPbrMaterial(H,{albedoColor:L.fromInts(255*ie.r,255*ie.g,255*ie.b,75)})}function C(H){if(!o)return;let F=n.get(H),U=c(F.areas),Z=a.get(H)||[];for(let ie=0;ie<Z.length;ie++)_(Z[ie],U[ie],F.debugColor,F.active)}function M(H,F){let U=n.get(H);U.active=F;let Z=a.get(H)||[];for(let ie of Z);if(!F){let ie=r.get(H);if(ie){let P=U.onExit;for(let G of ie.keys())P&&P(G);ie.clear()}}C(H)}function q(H){for(let[F]of n)e.getEntityState(F)==qt.Removed&&(E(F),n.delete(F),r.delete(F));for(let[F,U]of n){let Z=c(U.areas),ie=a.get(F)||[];for(let P=0;P<ie.length;P++)m(ie[P],F,Z[P])}}return e.addSystem(q,Wn.TriggerSystemPriority),{addTrigger(H,F=Ti,U=Ti,Z,ie,P,G){if(F<0||F>Ei||!Number.isInteger(F))throw new Error(`Bad layerMask: ${F}. Expected a non-negative integer no greater than ${Ei}`);if(U<0||U>Ei||!Number.isInteger(U))throw new Error(`Bad triggeredByMask: ${U}. Expected a non-negative integer no greater than ${Ei}`);n.set(H,{active:!0,layerMask:F,triggeredByMask:U,areas:Z||[{type:"box"}],onEnter:ie,onExit:P,debugColor:G||Qu.Red()}),g(H),C(H)},removeTrigger(H){let F=r.get(H),U=n.get(H);if(F&&U&&U.onExit)for(let Z of F.keys())U.onExit(Z);r.delete(H),E(H),n.delete(H)},oneTimeTrigger(H,F=Ti,U=Ti,Z,ie,P){this.addTrigger(H,F,U,Z,function(G){om.removeTrigger(H),ie&&ie(G)},void 0,P)},enableTrigger(H,F){if(!n.has(H))return;M(H,F);let U=n.get(H),Z=c(U.areas),ie=a.get(H)||[];for(let P=0;P<ie.length;P++){let G=ie[P];F?y(G,Z[P],U.triggeredByMask,U.layerMask):Z[P].$case=="box"?fr.setBox(G,0):fr.setSphere(G,0)}},isTriggerEnabled(H){let F=n.get(H);return!!(F&&F.active)},getLayerMask(H){return n.get(H)?.layerMask??Ti},setLayerMask(H,F){if(F<0||F>Ei||!Number.isInteger(F))throw new Error(`Bad layerMask: ${F}. Expected a non-negative integer no greater than ${Ei}`);let U=n.get(H);U&&(U.layerMask=F,C(H))},getTriggeredByMask(H){return n.get(H)?.triggeredByMask??Ti},setTriggeredByMask(H,F){if(F<0||F>Ei||!Number.isInteger(F))throw new Error(`Bad layerMask: ${F}. Expected a non-negative integer no greater than ${Ei}`);let U=n.get(H);if(!U)return;U.triggeredByMask=F;let Z=c(U.areas),ie=a.get(H)||[],P=u(F);for(let G=0;G<ie.length;G++)Z[G].$case=="box"?fr.setBox(ie[G],P):fr.setSphere(ie[G],P)},getAreas(H){return n.get(H)?.areas??[]},setAreas(H,F){let U=n.get(H);U&&(U.areas=F,E(H),g(H),C(H))},setOnEnterCallback(H,F){let U=n.get(H);U&&(U.onEnter=F)},setOnExitCallback(H,F){let U=n.get(H);U&&(U.onExit=F)},enableDebugDraw(H){o=H;for(let F of n.keys())C(F)},isDebugDrawEnabled(){return o}}}var om=EI(pe);var g0;(function(e){class n{constructor(y,R,g){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,this.engine=y,this.systemFn=E=>{this.update(E)},this.engine.addSystem(this.systemFn,Wn.ActionSystemPriority),R&&this.startSequence(R),g&&this.setOnFinishCallback(g)}startSequence(y){this.beginSequenceNode=y.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}destroy(){this.engine.removeSystem(this.systemFn)}setOnFinishCallback(y){this.onFinishCallback=y}isRunning(){return this.running}stop(){this.running=!1}resume(){this.beginSequenceNode!=null&&(this.running=!0)}reset(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}getRunningAction(){let y=this.currentSequenceNode;if(this.currentSequenceNode instanceof r)do y=y.currentInnerSequence;while(y instanceof r);return y.action}update(y){if(this.running){if(!this.started){this.currentSequenceNode.onStart(),this.started=!0;return}if(!this.currentSequenceNode.hasFinish()){this.currentSequenceNode.update(y);return}this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())}}}e.SequenceRunner=n;class a{constructor(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}then(y){if(this.currentSequenceNode==null)this.currentSequenceNode=new t,this.currentSequenceNode.action=y,this.beginSequenceNode=this.currentSequenceNode;else{let R=new t;R.action=y,this.currentSequenceNode=this.currentSequenceNode.then(R)}return this}if(y){let R=new o(y);return this.currentSequenceNode==null?(this.currentSequenceNode=R,this.beginSequenceNode=R):this.currentSequenceNode=this.currentSequenceNode.then(R),this}else(){let y=this.currentSequenceNode.getSequence();if(y instanceof o){y.closed=!0;let R=new f(y);this.currentSequenceNode=this.currentSequenceNode.then(R)}else throw new Error("IF statement is needed to be called before ELSE statement.");return this}endIf(){let y=this.currentSequenceNode.getSequence();if(y instanceof o||y instanceof f)y.closed=!0;else throw new Error("IF statement is needed to be called before ENDIF statement.");return this}while(y){let R=new u(y);return this.currentSequenceNode==null?(this.currentSequenceNode=R,this.beginSequenceNode=R):this.currentSequenceNode=this.currentSequenceNode.then(R),this.whileNodeStack.push(R),this}endWhile(){let y=this.currentSequenceNode.getSequence();if(y instanceof u)y.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1);else throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");return this}breakWhile(){if(this.whileNodeStack.length>0)this.currentSequenceNode=this.currentSequenceNode.then(new c(this.whileNodeStack[this.whileNodeStack.length-1]));else throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");return this}}e.SequenceBuilder=a;class t{constructor(){this.action=null,this.next=null}then(y){return this.next=y,y}onStart(){this.action&&this.action.onStart()}update(y){this.action&&this.action.update(y)}onFinish(){this.action&&this.action.onFinish()}hasFinish(){return this.action?this.action.hasFinished:!0}getSequence(){return this}}e.SequenceNode=t;class r extends t{constructor(){super(...arguments),this.currentInnerSequence=null,this.startingInnerSequence=null,this.closed=!1}then(y){if(this.currentInnerSequence==null)this.currentInnerSequence=y,this.startingInnerSequence=y;else{if(this.closed)return this.next=y,y;this.currentInnerSequence=this.currentInnerSequence.then(y)}return this}onStart(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()}update(y){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(y))}onFinish(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()}hasFinish(){return this.currentInnerSequence==null}getSequence(){if(this.currentInnerSequence){let y=this.currentInnerSequence.getSequence();if(y instanceof r&&!y.closed)return y}return this}}class o extends r{constructor(y){super(),this.result=!1,this.condition=y}onStart(){this.result=this.condition(),this.result?super.onStart():this.currentInnerSequence=null}}class f extends r{constructor(y){super(),this.ifSequence=null,this.ifSequence=y}onStart(){this.ifSequence&&!this.ifSequence.result?super.onStart():this.currentInnerSequence=null}}class u extends r{constructor(y){super(),this.breakWhile=!1,this.condition=y}onStart(){this.breakWhile=!1,this.condition()?super.onStart():this.currentInnerSequence=null}update(y){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence==null&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(y))}hasFinish(){return this.breakWhile||!this.condition()}}class c extends t{constructor(y){super(),this.whileNode=y}onStart(){this.whileNode.breakWhile=!0}}})(g0||(g0={}));var Gx=require("~system/UserActionModule"),Si=require("~system/RestrictedActions"),Yx=require("~system/SignedFetch"),qx=require("~system/Runtime");var E0=new Set,jc=new Map,Fc=new Map;function Px(){return function(r){e(r),n(r),a(r)};function e(t){for(let[r,o]of Fc.entries()){let f=nn(r);for(let u of o)u.timeout===u.interval&&u.callback(),u.timeout-=t,u.timeout<=0&&(u.timeout=u.interval,f.emit(st.ON_LOOP))}}function n(t){for(let[r,o]of jc.entries()){let f=nn(r),u=[],c=0;for(let m of o)m.timeout-=t,m.timeout<=0&&(m.callback(),f.emit(st.ON_DELAY),u.push(c)),c++;for(let m of u)o.splice(m,1)}}function a(t){for(let r of E0)nn(r).emit(st.ON_TICK)}}function Hc(e,n,a,t){let r=jc.get(e)??[];r.push({timeout:a,action:n,callback:t}),jc.set(e,r)}function yl(e,n){let a=jc.get(e)??[];jc.set(e,a.filter(t=>t.action!==n))}function zx(e){jc.delete(e)}function rm(e,n,a,t){let r=Fc.get(e)??[];r.push({timeout:a,action:n,callback:t,interval:a}),Fc.set(e,r)}function im(e,n){let a=Fc.get(e)??[];Fc.set(e,a.filter(t=>t.action!==n))}function Lx(e){Fc.delete(e)}var Ge="https://builder-items.decentraland.org";var am="https://rewards.decentraland.org";function TI(e,n){switch(e){case Ft.TAM_TOP_LEFT:return{alignItems:1,justifyContent:0};case Ft.TAM_TOP_CENTER:return n?{alignItems:2,justifyContent:0}:{alignItems:1,justifyContent:1};case Ft.TAM_TOP_RIGHT:return n?{alignItems:3,justifyContent:0}:{alignItems:1,justifyContent:2};case Ft.TAM_MIDDLE_LEFT:return n?{alignItems:1,justifyContent:1}:{alignItems:2,justifyContent:0};case Ft.TAM_MIDDLE_CENTER:return{alignItems:2,justifyContent:1};case Ft.TAM_MIDDLE_RIGHT:return n?{alignItems:3,justifyContent:1}:{alignItems:2,justifyContent:2};case Ft.TAM_BOTTOM_LEFT:return n?{alignItems:1,justifyContent:2}:{alignItems:2,justifyContent:1};case Ft.TAM_BOTTOM_CENTER:return n?{alignItems:2,justifyContent:2}:{alignItems:3,justifyContent:1};case Ft.TAM_BOTTOM_RIGHT:return{alignItems:3,justifyContent:2}}}var SI=new Set([Ft.TAM_TOP_LEFT,Ft.TAM_TOP_CENTER,Ft.TAM_TOP_RIGHT,Ft.TAM_MIDDLE_LEFT,Ft.TAM_MIDDLE_CENTER,Ft.TAM_MIDDLE_RIGHT,Ft.TAM_BOTTOM_LEFT,Ft.TAM_BOTTOM_CENTER,Ft.TAM_BOTTOM_RIGHT]);function Bx(e,n=0){let a=n===1;if(SI.has(e))return TI(e,a);throw new Error(`Unsupported AlignMode: ${e}`)}function $o(e,n,a=100,t=100,r=2){let o=e.getMutableOrNull(n);return o||(o=e.create(n),o.heightUnit=r,o.widthUnit=r,o.height=a,o.width=t,o.maxHeightUnit=r,o.maxWidthUnit=r,o.maxHeight=a,o.maxWidth=t),n===0&&(o.positionType=1),o}function sm(e,n,a,t=0,r=1){return e.createOrReplace(n,{textureMode:t,texture:{tex:{$case:"texture",texture:{src:a,wrapMode:r}}},uvs:[]})}function _I(e,n){let a=`
`,t=0,r="",o="",f=!1,u=n||50;if(!e)return"";if(e.length<u+1)return e;for(;t<e.length;)if(r=e.substring(t,t+u),f=!1,r.length==u){for(let c=r.length;c>-1;c--)if(r.substring(c,c+1)==" "){t+=r.substring(0,c).length,r=r.substring(0,c)+a,o+=r,f=!0;break}f||(t+=r.length,r=r+a,o+=r)}else{o+=r;break}return o}function cm(e,n,a,t=10,r,o=4,f=L.White()){let u=Math.floor(r/(t/1.7));return e.createOrReplace(n,{value:_I(a,u),fontSize:t,font:oa.F_MONOSPACE,textAlign:o,color:f})}function T0(e,n,a){let t=e.getEntitiesWith(n);for(let[r,o]of t)o.parent===a&&(T0(e,n,r),e.removeEntity(r))}function Pn(e){let{UiCanvasInformation:n}=Xn(e),a=n.getOrNull(e.RootEntity);return a?Math.min(a.width/1920,a.height/1080):1}var xI=`${Ge}/admin_toolkit/assets/icons/text-announcement-close-button.png`;function Ux(e,n,a,t,r,o,f,u,c){console.log("showCaptchaPrompt");let m=Pn(e),y=e.addEntity(),R=$o(n,y);R.display=0,R.alignItems=2,R.justifyContent=1;let g=e.addEntity(),E=$o(n,g,260*m,250*m,1);E.parent=y,E.display=0,E.flexDirection=1,E.alignItems=2,E.paddingTop=20*m,E.paddingTopUnit=1,E.paddingBottom=20*m,E.paddingBottomUnit=1,E.paddingLeft=20*m,E.paddingLeftUnit=1,E.paddingRight=20*m,E.paddingRightUnit=1,E.pointerFilter=1,a.createOrReplace(g,{color:L.create(.15,.15,.15,.95),textureMode:0,uvs:[]});let x=e.addEntity(),_=$o(n,x,24*m,24*m,1);_.parent=g,_.positionType=1,_.positionRight=5*m,_.positionRightUnit=1,_.positionTop=5*m,_.positionTopUnit=1,_.pointerFilter=1,sm(a,x,xI,2),f.onPointerDown({entity:x,opts:{button:0}},()=>{T0(e,n,y),e.removeEntity(y)});let C=e.addEntity(),M=$o(n,C,20*m,200*m,1);M.parent=g,M.marginBottom=10*m,M.marginBottomUnit=1,M.positionType=1,M.positionTop=30*m,M.positionTopUnit=1,cm(t,C,"Enter the captcha",20*m,200*m,4,L.White());let q=e.addEntity(),ue=$o(n,q,80*m,200*m,1);ue.parent=g,ue.marginBottom=10*m,ue.marginBottomUnit=1,ue.positionType=1,ue.positionTop=60*m,ue.positionTopUnit=1,sm(a,q,u.captcha.image,2);let H=e.addEntity(),F=$o(n,H,50*m,200*m,1);F.parent=g,F.marginBottom=10*m,F.marginBottomUnit=1,F.positionType=1,F.positionTop=150*m,F.positionTopUnit=1,r.createOrReplace(H,{placeholder:"Enter the captcha",color:L.White(),placeholderColor:L.create(.3,.3,.3,1),disabled:!1,textAlign:4,font:oa.F_MONOSPACE,fontSize:10*m}),o.createOrReplace(H,{value:"",isSubmit:!1});let U=e.addEntity(),Z=$o(n,U,30*m,100*m,1);return Z.parent=g,Z.marginBottom=10*m,Z.marginBottomUnit=1,Z.positionType=1,Z.positionTop=210*m,Z.positionTopUnit=1,Z.pointerFilter=1,cm(t,U,"Submit",16*m,100*m,4,L.White()),a.createOrReplace(U,{color:{r:.3,g:.3,b:.3,a:1},textureMode:0,uvs:[]}),f.onPointerDown({entity:U,opts:{button:0}},()=>{let ie=o.get(H)?.value||"";c(ie),T0(e,n,y),e.removeEntity(y)}),y}var rs=dl();function Dx(e){return function(){e.isTriggered(0,1)&&rs.emit(0,null),e.isTriggered(1,1)&&rs.emit(1,null),e.isTriggered(2,1)&&rs.emit(2,null)}}var Wx=new Set,S0=[],x0=new Set,b0=new Set,_0=null;function jx(e){if(_0)return _0(e);throw new Error("Cannot call initTriggers while triggersSystem has not been created")}function Fx(e,n,a,t){let{Transform:r,Tween:o,PointerEvents:f}=n,{Actions:u,States:c,Counter:m,Triggers:y}=Pt(e);return _0=R,function($){for(;S0.length>0;){let{entity:fe,action:_e}=S0.shift();jr(fe).emit(_e.name,Ue(_e))}let ee=e.getEntitiesWith(y);for(let[fe]of ee)R(fe),z(fe)};function R(N){if(!y.has(N)||Wx.has(N))return;let $=y.get(N),ee=$.value.reduce((_e,ze)=>_e.add(ze.type),new Set);for(let _e of ee)switch(_e){case st.ON_CLICK:{q(N);break}case st.ON_INPUT_ACTION:{ue(N);break}case st.ON_PLAYER_ENTERS_AREA:case st.ON_PLAYER_LEAVES_AREA:{H(N);break}case st.ON_DAMAGE:{F(N);break}case st.ON_HEAL_PLAYER:U(N);case st.ON_GLOBAL_CLICK:{Z(N);break}case st.ON_GLOBAL_PRIMARY:{ie(N);break}case st.ON_GLOBAL_SECONDARY:{P(N);break}case st.ON_TICK:{G(N);break}}let fe=nn(N);for(let _e of $.value)fe.on(_e.type,()=>{if(E(_e)){for(let ze of _e.actions)if(g(ze)){let Be=C(ze);if(Be){let Xe=u.getOrNull(Be);if(Xe){let Ze=Xe.value.find(ct=>ct.name===ze.name);Ze&&S0.push({entity:Be,action:Ze})}}}}});fe.emit(st.ON_SPAWN),Wx.add(N)}function g(N){let{id:$,name:ee}=N;return!!$&&!!ee}function E(N){if(N.conditions&&N.conditions.length>0){let $=N.conditions.map(x),ee=_e=>!!_e;switch(N.operation||gi.AND){case gi.AND:return $.every(ee);case gi.OR:return $.some(ee)}}return!0}function x(N){let $=M(N);if($)try{switch(N.type){case tn.WHEN_STATE_IS:{let ee=c.getOrNull($);if(ee!==null)return f0(ee)===N.value;break}case tn.WHEN_STATE_IS_NOT:{let ee=c.getOrNull($);if(ee!==null)return f0(ee)!==N.value;break}case tn.WHEN_PREVIOUS_STATE_IS:{let ee=c.getOrNull($);if(ee!==null)return p0(ee)===N.value;break}case tn.WHEN_PREVIOUS_STATE_IS_NOT:{let ee=c.getOrNull($);if(ee!==null)return p0(ee)!==N.value;break}case tn.WHEN_COUNTER_EQUALS:{let ee=m.getOrNull($);if(ee!==null){let fe=Number(N.value);if(!isNaN(fe))return ee.value===fe}break}case tn.WHEN_COUNTER_IS_GREATER_THAN:{let ee=m.getOrNull($);if(ee!==null){let fe=Number(N.value);if(!isNaN(fe))return ee.value>fe}break}case tn.WHEN_COUNTER_IS_LESS_THAN:{let ee=m.getOrNull($);if(ee!==null){let fe=Number(N.value);if(!isNaN(fe))return ee.value<fe}break}case tn.WHEN_DISTANCE_TO_PLAYER_LESS_THAN:{let ee=yr($),fe=Number(N.value);if(!isNaN(fe))return ne.distance(ee,Wc())<fe;break}case tn.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN:{let ee=yr($),fe=Number(N.value);if(!isNaN(fe))return ne.distance(ee,Wc())>fe;break}}}catch{console.error("Error in condition",N)}return!1}function _(N,$){let ee=e.getComponent(N),_e=Array.from(e.getEntitiesWith(ee)).find(([ze,Be])=>Be.id===$);return Array.isArray(_e)&&_e.length>0?_e[0]:null}function C(N){if(N.id){let $=_(at.ACTIONS,N.id);if($)return $}return null}function M(N){let $=Object.values(at).map(ee=>({componentName:ee,conditionTypes:Ax(ee)})).reduce((ee,{componentName:fe,conditionTypes:_e})=>_e.includes(N.type)?fe:ee,null);if($&&N.id){let ee=_($,N.id);if(ee)return ee}return null}function q(N){let $=f.getMutableOrNull(N),ee={button:0,hoverText:"Click"};if($){let fe=$.pointerEvents.findIndex(_e=>_e.eventInfo?.button===ee.button);if(fe!==-1){let _e=$.pointerEvents[fe].eventInfo;ee={...ee,..._e},$.pointerEvents.splice(fe,1)}}a.onPointerDown({entity:N,opts:ee},()=>{nn(N).emit(st.ON_CLICK)})}function ue(N){let $=f.getMutableOrNull(N),ee={button:1,hoverText:"Press"};if($){let fe=$.pointerEvents.findIndex(_e=>_e.eventInfo?.button===ee.button);if(fe!==-1){let _e=$.pointerEvents[fe].eventInfo;ee={...ee,..._e},$.pointerEvents.splice(fe,1)}}a.onPointerDown({entity:N,opts:ee},()=>{nn(N).emit(st.ON_INPUT_ACTION)})}function H(N){let $=r.getOrNull(N);om.addTrigger(N,Ti,hl,[{type:"box",scale:$?$.scale:{x:1,y:1,z:1}}],()=>{nn(N).emit(st.ON_PLAYER_ENTERS_AREA)},()=>{nn(N).emit(st.ON_PLAYER_LEAVES_AREA)})}function F(N){x0.add(N)}function U(N){b0.add(N)}function Z(N){rs.on(0,()=>{nn(N).emit(st.ON_GLOBAL_CLICK)})}function ie(N){rs.on(1,()=>{nn(N).emit(st.ON_GLOBAL_PRIMARY)})}function P(N){rs.on(2,()=>{nn(N).emit(st.ON_GLOBAL_SECONDARY)})}function G(N){E0.add(N)}function z(N){o.getOrNull(N)&&Ep.getOrNull(N)?.state===1&&t.tweenCompleted(N)&&nn(N).emit(st.ON_TWEEN_END)}}var um=new Map;function Hx(e){let{Transform:n}=e;return function(){for(let[t,{target:r,speed:o,minDistance:f,axes:u}]of um){let c=n.getMutableOrNull(t),m=n.getOrNull(r);if(!c||!m)continue;let y=ne.subtract(m.position,c.position),R=ne.length(y);if(R<f)continue;let g=ne.normalize(y),E=ne.scale(g,o/10);if(ne.length(E)>R)continue;u.x||(E.x=0),u.y||(E.y=0),u.z||(E.z=0),ne.addToRef(E,c.position,c.position);let x=ne.clone(m.position);u.x||(x.x=c.position.x),u.y||(x.y=c.position.y),u.z||(x.z=c.position.z);let _=Ve.fromLookAt(c.position,x);c.rotation=_}}}function lm(e){switch(e){case cn.LINEAR:return 0;case cn.EASEINQUAD:return 1;case cn.EASEOUTQUAD:return 2;case cn.EASEQUAD:return 3;case cn.EASEINSINE:return 4;case cn.EASEOUTSINE:return 5;case cn.EASESINE:return 6;case cn.EASEINEXPO:return 7;case cn.EASEOUTEXPO:return 8;case cn.EASEEXPO:return 9;case cn.EASEINELASTIC:return 10;case cn.EASEOUTELASTIC:return 11;case cn.EASEELASTIC:return 12;case cn.EASEINBOUNCE:return 13;case cn.EASEOUTEBOUNCE:return 14;case cn.EASEBOUNCE:return 15;default:return 0}}var Vx=new Set,A0=new Map,R0=new Map,C0=new Map,bI=null;function $x(e,n,a,t){let{Animator:r,Transform:o,AudioSource:f,AvatarAttach:u,VisibilityComponent:c,GltfContainer:m,UiTransform:y,UiText:R,UiBackground:g,UiInput:E,UiInputResult:x,Name:_,Tween:C,TweenSequence:M,VideoPlayer:q}=Xn(e),{Actions:ue,States:H,Counter:F,Triggers:U,Rewards:Z}=Pt(e);return bI=ie,function(W){let J=e.getEntitiesWith(ue);for(let[me]of J)ie(me)};function ie(O){if(!ue.has(O)||Vx.has(O))return;let W=ue.get(O),J=W.value.reduce((se,Ae)=>se.add(Ae.type),new Set);for(let se of J)switch(se){case ye.PLAY_ANIMATION:{P(O);break}default:break}let me=jr(O);for(let se of W.value)me.on(se.name,()=>{switch(se.type){case ye.PLAY_ANIMATION:{z(O,Ue(se));break}case ye.STOP_ANIMATION:{N(O,Ue(se));break}case ye.SET_STATE:{$(O,Ue(se));break}case ye.START_TWEEN:{ee(O,Ue(se));break}case ye.SET_COUNTER:{Xe(O,Ue(se));break}case ye.INCREMENT_COUNTER:{Ze(O,Ue(se));break}case ye.DECREASE_COUNTER:{ct(O,Ue(se));break}case ye.PLAY_SOUND:{pt(O,Ue(se));break}case ye.STOP_SOUND:{Ot(O,Ue(se));break}case ye.SET_VISIBILITY:{ot(O,Ue(se));break}case ye.ATTACH_TO_PLAYER:{Tn(O,Ue(se));break}case ye.DETACH_FROM_PLAYER:{Q(O,Ue(se));break}case ye.PLAY_VIDEO_STREAM:{mt(O,Ue(se));break}case ye.STOP_VIDEO_STREAM:{Nn(O,Ue(se));break}case ye.PLAY_AUDIO_STREAM:{aa(O,Ue(se));break}case ye.STOP_AUDIO_STREAM:{bi(O,Ue(se));break}case ye.TELEPORT_PLAYER:{le(O,Ue(se));break}case ye.MOVE_PLAYER:{xe(O,Ue(se));break}case ye.PLAY_DEFAULT_EMOTE:{V(O,Ue(se));break}case ye.PLAY_CUSTOM_EMOTE:{oe(O,Ue(se));break}case ye.OPEN_LINK:{Ne(O,Ue(se));break}case ye.SHOW_TEXT:{sa(O,Ue(se));break}case ye.HIDE_TEXT:{Tr(O,Ue(se));break}case ye.START_DELAY:{Ai(O,Ue(se));break}case ye.STOP_DELAY:{Qo(O,Ue(se));break}case ye.START_LOOP:{Gr(O,Ue(se));break}case ye.STOP_LOOP:{zt(O,Ue(se));break}case ye.CLONE_ENTITY:{Ri(O,Ue(se));break}case ye.REMOVE_ENTITY:{Xo(O,Ue(se));break}case ye.SHOW_IMAGE:{ca(O,Ue(se));break}case ye.HIDE_IMAGE:{Yr(O,Ue(se));break}case ye.DAMAGE:{Ni(O,Ue(se));break}case ye.MOVE_PLAYER_HERE:{ua(O,Ue(se));break}case ye.FOLLOW_PLAYER:{$r(O,Ue(se));break}case ye.STOP_FOLLOWING_PLAYER:{pa(O,Ue(se));break}case ye.PLACE_ON_PLAYER:{Ii(O,Ue(se));break}case ye.ROTATE_AS_PLAYER:{Zo(O,Ue(se));break}case ye.PLACE_ON_CAMERA:{la(O,Ue(se));break}case ye.ROTATE_AS_CAMERA:{qr(O,Ue(se));break}case ye.SET_POSITION:{fa(O,Ue(se));break}case ye.SET_ROTATION:{da(O,Ue(se));break}case ye.SET_SCALE:{vi(O,Ue(se));break}case ye.RANDOM:{ma(O,Ue(se));break}case ye.BATCH:{v(O,Ue(se));break}case ye.HEAL_PLAYER:{B(O,Ue(se));break}case ye.CLAIM_AIRDROP:{je(O,Ue(se));break}default:break}});Vx.add(O)}function P(O){r.has(O)||(r.create(O,{states:[]}),r.stopAllAnimations(O))}function G(O){return O<0||O>1?1:O}function z(O,W){let{animation:J,loop:me}=W,se=r.getMutable(O);se.states.some(Ae=>Ae.clip===J)||(se.states=[...se.states,{clip:J}]),r.stopAllAnimations(O);try{let Ae=r.getClip(O,J);Ae.playing=!0,Ae.loop=me??!1,Ae.weight=G(Ae.weight??1)}catch(Ae){console.error("Error playing animation",Ae)}}function N(O,W){r.has(O)&&r.stopAllAnimations(O)}function $(O,W){let J=H.getMutableOrNull(O);if(J){let me=d0(J),se=W.state;se=pl(J,se)?se:me;let Ae=J.currentValue??me??void 0;J.previousValue=Ae,J.currentValue=se,nn(O).emit(st.ON_STATE_CHANGE)}}function ee(O,W){if(W){let J=C.getMutableOrNull(O),me;switch(W.type){case yi.MOVE_ITEM:{me=_e(O,W);break}case yi.ROTATE_ITEM:{me=ze(O,W);break}case yi.SCALE_ITEM:{me=Be(O,W);break}default:throw new Error(`Unknown tween type: ${W.type}`)}fe(O,J,me)}}function fe(O,W,J){let me=M.getMutableOrNull(O),se={...J};if(!(!W||!me||!me.loop)){switch(W.mode?.$case){case"move":{se={...se,mode:En.Mode.Move({start:J.mode.move.end,end:W.mode.move.start})};break}case"rotate":{se={...se,mode:En.Mode.Rotate({start:J.mode.rotate.end,end:W.mode.rotate.start})};break}case"scale":{se={...se,mode:En.Mode.Scale({start:J.mode.scale.end,end:W.mode.scale.start})};break}default:throw new Error(`Unknown tween mode: ${W.mode}`)}W.playing=!0,me.sequence=[se,W]}}function _e(O,W){let J=o.get(O),{duration:me,interpolationType:se,relative:Ae}=W,nt=ne.create(W.end.x,W.end.y,W.end.z),St=Ae?ne.add(J.position,nt):nt;return C.createOrReplace(O,{mode:En.Mode.Move({start:J.position,end:St}),duration:me*1e3,easingFunction:lm(se)})}function ze(O,W){let J=o.get(O),{duration:me,interpolationType:se,relative:Ae}=W,nt=Ve.fromEulerDegrees(W.end.x,W.end.y,W.end.z),St=Ae?Ve.multiply(J.rotation,nt):nt;return C.createOrReplace(O,{mode:En.Mode.Rotate({start:J.rotation,end:St}),duration:me*1e3,easingFunction:lm(se)})}function Be(O,W){let J=o.get(O),{duration:me,interpolationType:se,relative:Ae}=W,nt=ne.create(W.end.x,W.end.y,W.end.z),St=Ae?ne.add(J.scale,nt):nt;return C.createOrReplace(O,{mode:En.Mode.Scale({start:J.scale,end:St}),duration:me*1e3,easingFunction:lm(se)})}function Xe(O,W){let J=F.getMutableOrNull(O);J&&(J.value=W.counter,nn(O).emit(st.ON_COUNTER_CHANGE))}function Ze(O,W){let J=F.getMutableOrNull(O),me=W.amount??1;J&&(J.value+=me,nn(O).emit(st.ON_COUNTER_CHANGE))}function ct(O,W){let J=F.getMutableOrNull(O),me=W.amount??1;J&&(J.value-=me,nn(O).emit(st.ON_COUNTER_CHANGE))}function pt(O,W){let{src:J,loop:me,volume:se,global:Ae}=W;if(f.has(O)){f.playSound(O,J);let nt=f.getMutable(O);nt.loop=me,nt.volume=se??1,nt.global=Ae??!1}else f.create(O,{audioClipUrl:J,loop:me,playing:!0,volume:se??1,global:Ae})}function Ot(O,W){let J=f.getMutableOrNull(O);J&&(J.playing=!1)}function ot(O,W){let{visible:J,collider:me}=W;c.createOrReplace(O,{visible:J});let se=m.getMutableOrNull(O),Ae=Ty.getMutableOrNull(O);me!==void 0&&(se?se.invisibleMeshesCollisionMask=me:Ae&&(Ae.collisionMask=me))}function Tn(O,W){let{anchorPointId:J}=W,me=t?.getPlayer()?.userId;me&&u.createOrReplace(O,{anchorPointId:J,avatarId:me})}function Q(O,W){u.has(O)&&u.deleteFrom(O)}function le(O,W){let{x:J,y:me}=W;(0,Gx.requestTeleport)({destination:`${J},${me}`})}function xe(O,W){let J={newRelativePosition:W.position,cameraTarget:W.cameraTarget};(0,Si.movePlayerTo)(J)}function V(O,W){let{emote:J}=W;(0,Si.triggerEmote)({predefinedEmote:J})}function oe(O,W){let{src:J,loop:me}=W;(0,Si.triggerSceneEmote)({src:J,loop:me})}function Ne(O,W){let{url:J}=W;(0,Si.openExternalUrl)({url:J})}function mt(O,W){let J=q.getMutableOrNull(O);!J&&W.src&&(q.createOrReplace(O,{src:W.src,volume:W.volume??1,loop:W.loop??!1,playing:!0}),m0(O,{Material:Oc},Oc.getOrNull(O))),J&&(J?.src!==W.src&&(J.src=W.src??""),J.volume=W.volume??J.volume,J.loop=W.loop??J.loop,J.playing=!0)}function Nn(O,W){let J=q.getMutableOrNull(O);J&&(J.playing=!1)}function aa(O,W){let{url:J,volume:me}=W;Ey.createOrReplace(O,{url:J,playing:!0,volume:me??1})}function bi(O,W){let J=Ey.getMutableOrNull(O);J&&(J.playing=!1)}function sa(O,W){let{text:J,hideAfterSeconds:me,font:se,fontSize:Ae,textAlign:nt}=W,St=e.addEntity();C0.set(O,St);let Ht=$o(y,St);Ht&&(Ht.parent=O,Ht.pointerFilter=0,R.createOrReplace(St,{value:J,font:se,fontSize:Ae,textAlign:nt}),Hc(O,ye.HIDE_TEXT,me,()=>Tr(O,{})))}function Tr(O,W){let J=C0.get(O);J&&(R.deleteFrom(J),y.deleteFrom(J),yl(O,ye.HIDE_TEXT),C0.delete(O))}function Sr(O,W){return ue.getOrNull(O)?.value.find(me=>me.name===W)}function Ai(O,W){let{actions:J,timeout:me}=W;for(let se of J){let Ae=Sr(O,se);Ae&&Hc(O,se,me,()=>{jr(O).emit(Ae.name,Ue(Ae))})}}function Qo(O,W){let{action:J}=W;yl(O,J)}function Gr(O,W){let{actions:J,interval:me}=W;for(let se of J){let Ae=Sr(O,se);Ae&&rm(O,se,me,()=>{jr(O).emit(Ae.name,Ue(Ae))})}}function zt(O,W){let{action:J}=W;im(O,J)}function Ri(O,W){let{position:J}=W,{cloned:me,entities:se}=_x(O,e,o,U,a);for(let nt of se.values())ie(nt),jx(nt),nn(nt).emit(st.ON_CLONE);let Ae=o.getOrCreateMutable(me);Ae.position=J}function Xo(O,W){zx(O),Lx(O);let J=Rc(e,O,o);for(let me of J)e.removeEntity(me)}function Ci(O){let W=`${O.alignItems},${O.justifyContent}`;return A0.has(W)||A0.set(W,e.addEntity()),A0.get(W)}function ca(O,W){let{src:J,text:me,hideAfterSeconds:se,fontSize:Ae,align:nt,height:St,width:Ht}=W;$o(y,e.RootEntity);let Co=Bx(nt),ha=Ci(Co),$t=$o(y,ha);$t.alignItems=Co.alignItems,$t.justifyContent=Co.justifyContent,$t.positionType=1;let S=e.addEntity(),I=$o(y,S,Ht,St,1);I.parent=ha,I.pointerFilter=1,sm(g,S,J),me&&cm(R,S,me,Ae,Ht),n.onPointerDown({entity:S,opts:{button:0,hoverText:"Click"}},()=>{R0.set(O,S),nn(O).emit(st.ON_CLICK_IMAGE)}),se&&Hc(O,ye.HIDE_IMAGE,se,()=>Yr(O,{imageEntity:S}))}function Yr(O,W){let{imageEntity:J}=W;if(J)e.removeEntity(J);else{let me=R0.get(O);me&&(e.removeEntity(me),R0.delete(O))}}function Ni(O,W){let{radius:J,layer:me,hits:se}=W,Ae=u.has(O)?Wc():yr(O),nt=St=>{let Ht=nm(St);return Ht?nt(Ht):St};for(let St of x0){let Ht=yr(St),Co=ne.distance(Ae,Ht);if(!Array.from(Rc(e,O,o)).some(S=>S===St)){if(me){if(me===ra.PLAYER){let S=nt(St);if(S!==e.PlayerEntity&&S!==e.CameraEntity)continue}else if(me===ra.NON_PLAYER){let S=nt(St);if(S===e.PlayerEntity||S===e.CameraEntity)continue}}if(Co<=J){let S=se===void 0?1:Math.max(se,1);for(let I=0;I<S;I++)nn(St).emit(st.ON_DAMAGE)}}}}function ua(O,W){let J=yr(O),me=os(O),se=ne.Forward(),Ae=ne.rotate(se,me),nt=ne.scale(Ae,1);(0,Si.movePlayerTo)({newRelativePosition:J,avatarTarget:ne.add(J,nt)}),nn(O).emit(st.ON_PLAYER_SPAWN)}function Ii(O,W){let J=o.getMutableOrNull(O),me=o.getOrNull(e.PlayerEntity);J&&me&&(J.position=me.position)}function Zo(O,W){let J=o.getMutableOrNull(O),me=o.getOrNull(e.PlayerEntity);J&&me&&(J.rotation=me.rotation)}function la(O,W){let J=o.getMutableOrNull(O),me=o.getOrNull(e.CameraEntity);J&&me&&(J.position=me.position)}function qr(O,W){let J=o.getMutableOrNull(O),me=o.getOrNull(e.CameraEntity);J&&me&&(J.rotation=me.rotation)}function fa(O,W){let J=o.getMutableOrNull(O);J&&(W.relative?J.position=ne.add(J.position,ne.create(W.x,W.y,W.z)):J.position=ne.create(W.x,W.y,W.z))}function da(O,W){let J=o.getMutableOrNull(O);J&&(W.relative?J.rotation=Ve.multiply(J.rotation,Ve.fromEulerDegrees(W.x,W.y,W.z)):J.rotation=Ve.fromEulerDegrees(W.x,W.y,W.z))}function vi(O,W){let J=o.getMutableOrNull(O);J&&(W.relative?J.scale=ne.add(J.scale,ne.create(W.x,W.y,W.z)):J.scale=ne.create(W.x,W.y,W.z))}function $r(O,W){let{speed:J,x:me,y:se,z:Ae,minDistance:nt}=W;um.set(O,{target:e.PlayerEntity,speed:J,minDistance:nt,axes:{x:me,y:se,z:Ae}})}function pa(O,W){um.delete(O)}function ma(O,W){let{actions:J}=W,me=jr(O),se=J[Math.floor(Math.random()*J.length)],Ae=Sr(O,se);Ae&&me.emit(Ae.name,Ue(Ae))}function v(O,W){let{actions:J}=W,me=jr(O);for(let se of J){let Ae=Sr(O,se);Ae&&me.emit(Ae.name,Ue(Ae))}}function B(O,W){let{multiplier:J}=W,me=se=>{let Ae=nm(se);return Ae?me(Ae):se};for(let se of b0)if(me(se)===e.PlayerEntity){let nt=nn(se),St=Math.max(J??1,1);for(let Ht=0;Ht<St;Ht++)nt.emit(st.ON_HEAL_PLAYER)}}async function X(O,W){try{let J=await(0,Yx.signedFetch)({url:O,...W?{init:W}:{}});if(!J||!J.body)return null;let me=await JSON.parse(J.body);return me.ok?me.data:null}catch{return null}}async function be(O){let W=`${am}/api/campaigns/keys?campaign_key=${encodeURIComponent(O)}`;return await X(W)}async function Se(){return await X(`${am}/api/captcha`,{method:"POST",headers:{"Content-Type":"application/json"}})}async function Ie(O,W){let J=`${am}/api/rewards`,me=await(0,qx.getRealm)({}),se=t?.getPlayer();return await X(J,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_key:O,beneficiary:se?.isGuest?"":se?.userId,catalyst:me.realmInfo?me.realmInfo.baseUrl:"",...W?{captcha_id:W.id,captcha_value:W.value}:{}})})}function je(O,W){let J=Z.getOrNull(O);if(!J)return;let{testMode:me,campaignId:se,dispenserKey:Ae}=J;me||be(Ae).then(nt=>{let St=nt.find(Ht=>Ht.campaign_id===se);St&&St.enabled&&(St.requires_captcha?Se().then(Ht=>{Ht&&Ut(O,{campaignId:se,dispenserKey:Ae,captcha:Ht})}).catch(Ht=>{}):Ie(Ae))}).catch(nt=>{})}function Ut(O,W){Ux(e,y,g,R,E,x,n,W,J=>{Ie(W.dispenserKey,{id:W.captcha.id,value:J}).then(me=>{})})}}var N0=new Map,Jx=new Map,Fr=1;function Kx(e,n){let{Material:a,MeshRenderer:t,Transform:r,Billboard:o}=n,{Counter:f,CounterBar:u}=Pt(e);return function(){for(let[m,{value:y},{primaryColor:R,secondaryColor:g,maxValue:E}]of e.getEntitiesWith(f,u)){if(!N0.has(m)){let F=R?L.fromHexString(R):L.Green(),U=g?L.fromHexString(g):L.Red(),Z=e.addEntity();r.create(Z,{parent:m}),o.create(Z);let ie=e.addEntity();N0.set(m,ie),a.setBasicMaterial(ie,{diffuseColor:F}),t.setCylinder(ie),r.create(ie,{position:{x:0,y:0,z:0},scale:{x:.1*Fr,y:1*Fr,z:.1*Fr},rotation:Ve.fromEulerDegrees(0,0,90),parent:Z});let P=e.addEntity();Jx.set(m,P),a.setBasicMaterial(P,{diffuseColor:U}),t.setCylinder(P),r.create(P,{position:{x:0,y:0,z:0},scale:{x:.09*Fr,y:1*Fr,z:.09*Fr},rotation:Ve.fromEulerDegrees(0,0,90),parent:Z});let G=r.getMutableOrNull(m);G&&(G.parent===e.PlayerEntity?(G.position={x:0,y:2.1,z:0},G.scale={x:.5,y:.5,z:.5}):G.parent===e.CameraEntity&&(G.position={x:0,y:.5,z:1},G.scale={x:.5,y:.5,z:.5}))}let x=E||10,_=f.getMutable(m);_.value>x&&(_.value=x),_.value<0&&(_.value=0);let C=Math.max(Math.min(_.value/x,1),0)/(1/Fr),M=N0.get(m),q=Jx.get(m),ue=r.getMutable(M);ue.position.x=(C-Fr)/2,ue.scale.y=C;let H=r.getMutable(q);H.position.x=Fr/2+ue.position.x,H.scale.y=Fr-C}}}var k0={primary:{active:L.create(252/255,252/255,252/255,1),hover:L.create(207/255,205/255,212/255,1),disabled:L.create(74/255,74/255,74/255,1)},secondary:{active:L.create(252/255,252/255,252/255,0),hover:L.create(207/255,205/255,212/255,0),disabled:L.create(74/255,74/255,74/255,0)},text:{active:L.create(0,0,0,0),hover:L.create(24/255,24/255,24/255,1),disabled:L.create(74/255,74/255,74/255,1)}},O0={primary:{active:L.Clear(),hover:L.Clear(),disabled:L.Clear()},secondary:{active:L.White(),hover:L.White(),disabled:L.fromHexString("#323232")},text:{active:L.Clear(),hover:L.Clear(),disabled:L.Clear()}},Vc=new Map,I0={getColor:e=>k0[e].active,borderColor:e=>O0[e].active},v0={getColor:e=>k0[e].disabled,borderColor:e=>O0[e].disabled},AI={getColor:e=>k0[e].hover,borderColor:e=>O0[e].hover},Qe=e=>{let{id:n,value:a,onMouseDown:t,icon:r,onlyIcon:o,iconTransform:f,iconBackground:u,iconRight:c,iconRightTransform:m,fontSize:y=14,color:R=L.Black(),disabled:g,uiBackground:E,uiTransform:x,labelTransform:_,iconRightBackground:C,variant:M="primary"}=e;A.useEffect(()=>{Vc.set(q,g?v0:I0)},[g]);let q=`button_${n}`;Vc.has(q)||Vc.set(q,g?v0:I0);let ue=Vc.get(q);return A.createElement(K,{uiTransform:{borderColor:ue.borderColor(M),borderWidth:2*Ct,borderRadius:12*Ct,...x},uiBackground:{color:ue.getColor(M),...E},onMouseDown:()=>{g||t?.()},onMouseEnter:()=>{g||Vc.set(q,AI)},onMouseLeave:()=>{Vc.set(q,g?v0:I0)}},r&&A.createElement(K,{uiTransform:f,uiBackground:{texture:{src:r},textureMode:"stretch",...u}}),!o&&a?A.createElement(Me,{value:a,color:R,fontSize:y,uiTransform:_}):null,c&&A.createElement(K,{uiTransform:m,uiBackground:{texture:{src:c},textureMode:"stretch",...C}}))};function Jo({scaleFactor:e,iconSrc:n,title:a}){return A.createElement(K,{uiTransform:{flexDirection:"row",margin:{bottom:10*e},alignItems:"center",height:"auto"}},A.createElement(K,{uiTransform:{width:30*e,height:30*e},uiBackground:{textureMode:"stretch",texture:{src:n}}}),A.createElement(K,{uiText:{value:`<b>${a}</b>`,fontSize:24*e,color:L.White(),textAlign:"top-left",textWrap:"wrap"},uiTransform:{margin:{bottom:2*e,left:10*e}}}))}function gl(e){let{AdminTools:n}=Pt(e),a=Array.from(e.getEntitiesWith(n));return a.length>0?a[0][1].videoControl:null}function w0(e){let n=gl(e);return!n||!n.videoPlayers||n.videoPlayers.length===0?[]:Array.from(n.videoPlayers)}function RI(e,n){let a=gl(n),{VideoPlayer:t}=Xn(n);a?.disableVideoPlayersSound&&t.get(e).volume&&(t.getMutable(e).volume=0)}function Gc(e,n){let a=gl(n),{VideoPlayer:t}=Xn(n);return RI(e,n),{play:()=>{let r=t.getMutable(e);r.playing=!0,r.position=void 0},pause:()=>{let r=t.getMutable(e);r.playing=!1,r.position=void 0},restart:()=>{let r=t.getMutable(e);r.playing=!1,r.position=0,_i.push(()=>{let o=t.getMutable(e);o.position=void 0,o.playing=!0})},setVolume:r=>{if(a?.disableVideoPlayersSound)return;let o=t.getMutable(e);if(o.position=void 0,r===0)o.volume=0;else{let f=Math.round((o.volume??fm)*10),u=Math.max(0,Math.min(10,f+r*10));o.volume=u/10}},setSource:r=>{t.getMutable(e).src=r,_i.push(()=>{t.getMutable(e).playing=!0})},setLoop(r){let o=t.getMutable(e);o.loop=r,o.position=void 0}}}function Qx(e){let{VideoPlayer:n}=Xn(e),a=w0(e);if(a.length===0)return null;let t=a[De.videoControl.selectedVideoPlayer??0].entity,r=n.getOrNull(t);return[t,r]}function xi({scaleFactor:e,children:n,uiTransform:a}){return A.createElement(K,{uiTransform:{width:"100%",borderRadius:12*e,margin:{top:10*e,right:0,bottom:0,left:0},padding:{top:32*e,right:32*e,bottom:32*e,left:32*e},...a},uiBackground:{color:M0}},n)}function dm({engine:e,label:n,entity:a,video:t}){let r=Pn(e),o=Gc(a,e),u=gl(e)?.disableVideoPlayersSound,c=`${Math.round((t?.volume??fm)*100)}%`;return u?A.createElement(K,{uiTransform:{margin:{top:4*r}}},A.createElement(K,{uiTransform:{width:24*r,height:24*r,margin:{right:8*r}},uiBackground:{textureMode:"stretch",texture:{src:no.MUTE},color:L.fromHexString("#A09BA8")}}),A.createElement(Me,{value:"Sound is disabled for all screens",color:L.fromHexString("#A09BA8"),fontSize:14*r}),A.createElement(K,{uiTransform:{width:25*r,height:25*r,margin:{left:8*r}},uiBackground:{textureMode:"stretch",texture:{src:no.INFO},color:L.White()}})):A.createElement(K,{uiTransform:{flexDirection:"column",margin:{top:16*r}}},A.createElement(Me,{value:n,fontSize:16*r,color:Hr.WHITE,uiTransform:{margin:{top:0,right:0,bottom:10*r,left:0}}}),A.createElement(K,{uiTransform:{flexDirection:"row"}},A.createElement(Qe,{id:"video_control_volume_minus",value:"Minus",fontSize:14*r,uiTransform:{margin:{top:0,right:16*r,bottom:0,left:0},width:49*r,alignItems:"center",justifyContent:"center",padding:0},icon:no.VOLUME_MINUS_BUTTON,onlyIcon:!0,iconTransform:{width:25*r,height:25*r},onMouseDown:()=>o.setVolume(-P0),disabled:u||!t?.volume}),A.createElement(Me,{value:c,fontSize:18*r,color:Hr.GRAY,uiTransform:{margin:{top:0,right:16*r,bottom:0,left:0},alignItems:"center",justifyContent:"center",padding:0,width:60*r}}),A.createElement(Qe,{id:"video_control_volume_plus",value:"Plus",fontSize:14*r,icon:no.VOLUME_PLUS_BUTTON,onlyIcon:!0,iconTransform:{width:25*r,height:25*r},uiTransform:{margin:{top:0,right:16*r,bottom:0,left:0},width:49*r,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>o.setVolume(P0),disabled:u||t?.volume===1}),A.createElement(Qe,{id:"video_control_volume_mute",variant:t?.volume?"secondary":"primary",fontSize:18*r,iconTransform:{width:24*r,height:24*r},onlyIcon:!0,icon:no.MUTE,iconBackground:{color:t?.volume?L.White():L.Black()},uiTransform:{borderColor:L.fromHexString("#FCFCFC"),borderWidth:2,width:49*r,height:42*r,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>{o.setVolume(t?.volume?0:100)},disabled:u})))}var Xx=require("~system/RestrictedActions");var CI="https://docs.decentraland.org/creator/editor/scene-admin/#video-playing",z0=`${Ge}/admin_toolkit/assets/icons/help.png`;function Zx({engine:e,scaleFactor:n,video:a,entity:t}){let[r,o]=A.useState("");A.useEffect(()=>{let c=a?.src===ia?"":a?.src;o(c??"")},[t]);let f=Gc(t,e),u=a&&a.src.startsWith("https://");return A.createElement(K,{uiTransform:{flexDirection:"column",width:"100%"}},A.createElement(K,{uiTransform:{width:"100%",justifyContent:"space-between"}},A.createElement(Jo,{iconSrc:no.VIDEO_SOURCE,title:"Video URL",scaleFactor:n}),A.createElement(K,{onMouseDown:()=>(0,Xx.openExternalUrl)({url:CI}),uiTransform:{width:25*n,height:25*n,alignItems:"center"},uiBackground:{textureMode:"stretch",color:L.White(),texture:{src:z0}}})),A.createElement(Me,{value:"Play videos from Vimeo by pasting a video URL below.",color:L.fromHexString("#A09BA8"),fontSize:16*n}),A.createElement(Me,{value:"<b>Video URL<b>",color:L.White(),fontSize:16*n,uiTransform:{margin:{top:16*n,bottom:8*n}}}),A.createElement(Xa,{onChange:o,value:r,fontSize:16*n,textAlign:"top-left",placeholder:"Paste your video URL",placeholderColor:L.create(160/255,155/255,168/255,1),color:u?L.Black():L.fromHexString("#A09BA8"),uiBackground:{color:L.fromHexString("#FCFCFC")},uiTransform:{borderRadius:12,borderColor:L.White(),width:"100%",height:80*n}}),A.createElement(K,{uiTransform:{width:"100%",height:40*n,flexDirection:"row",justifyContent:"flex-end",margin:{top:10*n}}},a?.src.startsWith("https://")&&A.createElement(Qe,{id:"video_control_share_screen_clear",value:"<b>Deactivate</b>",variant:"text",fontSize:16*n,color:L.White(),uiTransform:{margin:{right:8*n},padding:{left:8*n,right:8*n}},onMouseDown:()=>{f.setSource("")}}),(!r||r!==a?.src)&&A.createElement(Qe,{disabled:!r.startsWith("https://"),id:"video_control_share_screen_share",value:a?.src&&r!==a.src&&a.src!==ia?"<b>Update</b>":"<b>Activate</b>",labelTransform:{margin:{left:6*n,right:6*n}},fontSize:16*n,uiBackground:{color:r.startsWith("https://")?Hr.SUCCESS:L.fromHexString("#274431")},color:L.Black(),onMouseDown:()=>{f.setSource(r)}})),A.createElement(Me,{value:"<b>Video Playback</b>",fontSize:16*n,color:L.White(),uiTransform:{margin:{bottom:10*n}}}),A.createElement(K,{uiTransform:{flexDirection:"row",width:"100%",margin:{bottom:10*n}}},A.createElement(Qe,{disabled:!u,id:"video_control_play",value:"<b>Play</b>",fontSize:18*n,labelTransform:{margin:{right:10*n}},uiTransform:{margin:{top:0,right:16*n,bottom:0,left:0},height:42*n,minWidth:69*n,alignItems:"center",justifyContent:"center",padding:0},icon:no.PLAY_BUTTON,iconTransform:{width:35*n,height:35*n},onMouseDown:()=>{f.play()}}),A.createElement(Qe,{disabled:!u,id:"video_control_pause",value:"<b>Pause</b>",fontSize:18*n,labelTransform:{margin:{left:6*n,right:6*n}},uiTransform:{margin:{top:0,right:16*n,bottom:0,left:0},height:42*n,minWidth:78*n,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>{f.pause()}}),A.createElement(Qe,{disabled:!u,id:"video_control_restart",value:"<b>Restart</b>",labelTransform:{margin:{left:6*n,right:6*n}},fontSize:18*n,uiTransform:{margin:{top:0,right:16*n,bottom:0,left:0},height:42*n,minWidth:88*n,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>{f.restart()}}),A.createElement(Qe,{disabled:!u,id:"video_control_loop",onlyIcon:!0,variant:a?.loop?"primary":"secondary",uiTransform:{height:42*n,width:49*n,alignItems:"center",justifyContent:"center",padding:0},icon:no.LOOP,iconTransform:{width:25*n,height:25*n},iconBackground:{color:a?.loop?L.Black():L.White()},color:L.White(),onMouseDown:()=>{f.setLoop(!a?.loop)}})),A.createElement(dm,{engine:e,entity:t,video:a,label:"<b>Video Volume</b>"}))}var hm=require("~system/RestrictedActions");var L0=`${Ge}/admin_toolkit/assets/icons/error.png`;function Yc({scaleFactor:e,text:n,uiTransform:a}){return A.createElement(K,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",margin:{top:10*e},width:"100%",...a}},A.createElement(K,{uiTransform:{width:25*e,height:25*e,margin:{right:10*e},flexShrink:0},uiBackground:{textureMode:"stretch",texture:{src:L0}}}),A.createElement(Me,{uiTransform:{width:"auto",maxWidth:"90%"},value:`<b>${n}</b>`,color:L.Red(),fontSize:14*e}))}var tb=require("~system/SignedFetch");function qc(e,n,a){let t=0;function r(o){t+=o,t*1e3>=a&&(t=0,n())}return e.addSystem(r),r}function $c(e,n){e.removeSystem(n)}function pm(e){if(Array.isArray(e))return e.map(a=>typeof a=="object"&&a!==null?pm(a):a);let n={};for(let a in e){let t=a.replace(/_([a-z])/g,(o,f)=>f.toUpperCase()),r=e[a];typeof r=="object"&&r!==null?n[t]=pm(r):n[t]=r}return n}var nb=require("~system/Runtime");async function gr(e,n={}){if((await ob())?.isPreview)return["Try again in Genesis/World. LocalPreview not supported.",null];let[t,r]=await eb((0,tb.signedFetch)(e));if(!r?.ok||t)return console.log(`Error in ${e.url} endpoint`,JSON.stringify({error:t,value:r})),[t?.message??r?.body??"There was an error",null];let[o,f]=await eb(JSON.parse(r.body||"{}"));return[null,n.toCamelCase?pm(f??{}):f??{}]}async function eb(e){try{return[null,await e]}catch(n){return[n,null]}}var Jc;async function ob(){return Jc||(Jc=(await(0,nb.getRealm)({})).realmInfo)}ob();function B0(){return!!Jc?.isPreview}function El(){return!Jc||Jc.networkId===1?"org":"zone"}var U0=()=>({STREAM_KEY:`https://comms-gatekeeper.decentraland.${El()}/scene-stream-access`});async function Tl(){return gr({url:U0().STREAM_KEY},{toCamelCase:!0})}async function rb(){return gr({url:U0().STREAM_KEY,init:{method:"POST",headers:{}}},{toCamelCase:!0})}async function ib(){return gr({url:U0().STREAM_KEY,init:{method:"PUT",headers:{}}},{toCamelCase:!0})}function Vr({scaleFactor:e,uiTransform:n,engine:a,width:t=10,height:r=10}){let o=0,[f,u]=A.useState(0);return A.useEffect(()=>{let c=qc(a,()=>{o=(o+1)%4,u(o)},340);return()=>$c(a,c)},[]),A.createElement(K,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",...n}},[1,2,3].map(c=>A.createElement(K,{key:`dot-${c}`,uiTransform:{width:t*e,height:r*e,borderRadius:t/2*e,margin:{right:8*e}},uiBackground:{color:f>=c?L.fromHexString("#FF2D55"):L.fromHexString("#43404A")}})))}var ab={eyeShow:`${Ge}/admin_toolkit/assets/icons/eye.png`,eyeHide:`${Ge}/admin_toolkit/assets/icons/eye-off.png`},mm=30,sb="video_control_stream_key_timeout",cb="video_control_stream_key_interval",ub="rtmps://dcl.rtmp.livekit.cloud/x";function lb({scaleFactor:e,engine:n,video:a,entity:t,onReset:r,endsAt:o}){let f=Gc(t,n),[u,c]=A.useState(!1),[m,y]=A.useState(!1),[R,g]=A.useState(void 0),[E,x]=A.useState(mm);return A.useEffect(()=>{if(R)return x(mm),Hc(De.adminToolkitUiEntity,sb,mm,()=>{c(!1),x(0)}),rm(De.adminToolkitUiEntity,cb,.1,()=>{x(_=>Math.max(0,_-.1))}),()=>{yl(De.adminToolkitUiEntity,sb),im(De.adminToolkitUiEntity,cb)};x(0)},[R]),A.createElement(K,{uiTransform:{flexDirection:"column"}},A.createElement(Me,{value:"<b>RTMP Server</b>",color:L.White(),fontSize:16*e,uiTransform:{margin:{top:16*e,bottom:8*e}}}),A.createElement(K,{uiTransform:{width:"100%",margin:{bottom:8*e,top:8*e},height:42*e,borderRadius:12*e,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},uiBackground:{color:L.White()}},A.createElement(Me,{uiTransform:{margin:{left:16*e}},fontSize:16*e,value:`<b>${ub}</b>`,color:L.fromHexString("#A09BA8")}),A.createElement(Qe,{id:"video_control_copy_rtmp_server",value:"<b>Copy</b>",variant:"primary",fontSize:16*e,uiTransform:{margin:{right:8*e},padding:{left:8*e,right:8*e}},onMouseDown:async()=>{(0,hm.copyToClipboard)({text:ub})}})),A.createElement(Me,{value:"<b>Stream Key<b>",color:L.White(),fontSize:16*e,uiTransform:{margin:{top:16*e,bottom:8*e}}}),A.createElement(K,{uiTransform:{width:"100%",margin:{bottom:8*e,top:8*e},height:42*e,borderRadius:12*e,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},uiBackground:{color:L.White()}},A.createElement(K,{uiTransform:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},m?A.createElement(K,{uiTransform:{margin:{left:16*e}}},A.createElement(Vr,{scaleFactor:e,engine:n})):A.createElement(Me,{uiTransform:{margin:{left:16*e},flexShrink:1},fontSize:16*e,value:`<b>${u&&R?R:"************"}</b>`,color:L.fromHexString("#A09BA8")})),A.createElement(K,{uiTransform:{flexDirection:"row",alignItems:"center",flexShrink:0}},A.createElement(K,{uiTransform:{width:25*e,height:25*e,margin:{right:10*e}},uiBackground:{textureMode:"stretch",texture:{src:u&&R?ab.eyeHide:ab.eyeShow},color:L.Black()},onMouseDown:async()=>{if(R)c(!u);else{y(!0);let[_,C]=await Tl();y(!1),!_&&C?.streamingKey&&(g(C.streamingKey),c(!0))}}}),A.createElement(Qe,{id:"video_control_copy_stream_key",value:"<b>Copy</b>",variant:"primary",fontSize:16*e,uiTransform:{margin:{right:8*e},padding:{left:8*e,right:8*e},minWidth:60*e},onMouseDown:async()=>{if(R)(0,hm.copyToClipboard)({text:R});else{y(!0);let[_,C]=await Tl();y(!1),!_&&C?.streamingKey&&(g(C.streamingKey),(0,hm.copyToClipboard)({text:C.streamingKey}))}}}))),A.createElement(K,{uiTransform:{width:"100%",height:4*e,margin:{top:8*e},display:R&&E>0&&u?"flex":"none"},uiBackground:{color:L.fromHexString("#FFFFFF1A")}},A.createElement(K,{uiTransform:{width:`${E/mm*100}%`,height:"100%"},uiBackground:{color:L.fromHexString("#00D3FF")}})),A.createElement(K,{uiTransform:{width:"100%",height:40*e,flexDirection:"row",justifyContent:"space-between",margin:{top:10*e,bottom:16*e}}},o>Date.now()?A.createElement(K,{uiTransform:{flexDirection:"column"}},A.createElement(Me,{value:"Stream expires in:",color:L.fromHexString("#FFFFFFB2"),fontSize:14*e}),A.createElement(Me,{value:NI(o),color:L.fromHexString("#FFFFFFB2"),fontSize:14*e})):A.createElement(K,{uiTransform:{flexDirection:"row",margin:{right:10*e},borderWidth:2,borderColor:L.Green()}},A.createElement(K,{uiTransform:{width:15*e,height:15*e,margin:{right:4*e,top:4*e}},uiBackground:{textureMode:"stretch",texture:{src:L0}}}),A.createElement(Me,{fontSize:14*e,textAlign:"middle-left",color:L.fromHexString("#FF0000"),value:"Stream timed out. Please restart stream in broadcasting software."})),a?.src===ia?A.createElement(Qe,{id:"video_control_share_screen_clear",value:"<b>Deactivate</b>",variant:"text",fontSize:16*e,color:L.White(),uiTransform:{minWidth:120*e,margin:{right:8*e},padding:{left:8*e,right:8*e}},onMouseDown:()=>{f.setSource("")}}):A.createElement(Qe,{id:"video_control_share_screen_share",value:"<b>Activate</b>",labelTransform:{margin:{left:20*e,right:20*e}},uiTransform:{minWidth:120*e},fontSize:16*e,uiBackground:{color:Hr.SUCCESS},color:L.Black(),onMouseDown:()=>{f.setSource(ia)}})),A.createElement(dm,{engine:n,label:"<b>Stream Volume</b>",entity:t,video:a}),A.createElement(K,null,A.createElement(Qe,{id:"video_control_reset_stream_key",value:"<b>Reset Stream Key</b>",variant:"text",fontSize:16*e,color:L.fromHexString("#FB3B3B"),uiTransform:{margin:{right:8*e,top:20*e},padding:{left:8*e,right:8*e}},onMouseDown:()=>r()})))}function NI(e){let n=Date.now(),a=Math.max(0,e-n),t=Math.floor(a/(1e3*60*60*24));if(t>=1)return`${t} ${t===1?"day":"days"}`;{let r=Math.floor(a/36e5),o=Math.floor(a%(1e3*60*60)/(1e3*60)),f=Math.floor(a%(1e3*60)/1e3);return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`}}function fb({scaleFactor:e,engine:n,onGenerate:a}){let[t,r]=A.useState(!1),[o,f]=A.useState(""),{VideoControlState:u}=Pt(n);return A.createElement(K,{uiTransform:{width:"100%",height:460*e,justifyContent:"center",alignItems:"center"}},t?A.createElement(K,{uiTransform:{flexDirection:"column"}},A.createElement(Vr,{scaleFactor:e,engine:n}),A.createElement(Me,{value:"Generating your Stream Key",color:L.fromHexString("#A09BA8"),fontSize:16*e,uiTransform:{margin:{top:16*e}}})):A.createElement(K,{uiTransform:{flexDirection:"column"}},A.createElement(K,{uiTransform:{justifyContent:"center",width:"100%"}},A.createElement(Qe,{id:"video_control_live_generate_key",value:"<b>Get Stream Key</b>",fontSize:18*e,uiTransform:{height:52*e,padding:16*e,margin:{bottom:16*e}},onMouseDown:async()=>{r(!0);let[c,m]=await rb();if(r(!1),c)f(c);else if(m){let y=u.getMutable(De.adminToolkitUiEntity);y.endsAt=m.endsAt,a()}}})),o&&A.createElement(Yc,{scaleFactor:e,text:o,uiTransform:{margin:{top:16*e}}})))}function db({scaleFactor:e,engine:n,onCancel:a,onReset:t}){let[r,o]=A.useState(!1),[f,u]=A.useState(""),{VideoControlState:c}=Pt(n);return A.createElement(K,{uiTransform:{minHeight:479*e,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:12*e}},A.createElement(Me,{value:"<b>Are you sure you want to reset your Stream Key?</b>",fontSize:16*e,color:L.fromHexString("#FCFCFC")}),A.createElement(Me,{value:"Active streams using this stream key will be disconnected.",fontSize:14*e,color:L.fromHexString("#FFFFFFB2"),uiTransform:{margin:{top:6*e,bottom:24*e}}}),A.createElement(K,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"}},!r&&A.createElement(Qe,{id:"stream_key_cancel_remove",value:"<b>Cancel</b>",variant:"primary",fontSize:18*e,color:L.Black(),uiTransform:{width:90*e,height:40*e,display:"flex",justifyContent:"center",alignItems:"center",margin:{right:30*e,left:30*e}},onMouseDown:()=>a()}),!r&&A.createElement(Qe,{id:"stream_key_confirm_remove",value:"<b>Reset</b>",variant:"primary",fontSize:18*e,color:L.White(),uiTransform:{padding:8*e,height:40*e,justifyContent:"center",alignItems:"center"},uiBackground:{color:L.fromHexString("#FB3B3B")},onMouseDown:async()=>{o(!0);let[m,y]=await ib();if(m)u(m),o(!1);else{let R=c.getMutable(De.adminToolkitUiEntity);R.endsAt=y?.endsAt,t()}}})),r&&A.createElement(Vr,{scaleFactor:e,engine:n}),f&&A.createElement(Yc,{scaleFactor:e,text:f}))}var pb=require("~system/RestrictedActions");var II="https://docs.decentraland.org//creator/editor/live-streaming";function mb({engine:e,scaleFactor:n,entity:a,video:t}){let[r,o]=A.useState(!1),[f,u]=A.useState(!1),[c,m]=A.useState(!1),{VideoControlState:y}=Pt(e),g=y.getOrNull(De.adminToolkitUiEntity)?.endsAt;return A.useEffect(()=>{async function E(){u(!0);let[x,_]=await Tl(),C=y.getMutable(De.adminToolkitUiEntity);x?(C.endsAt=void 0,m(!1)):(C.endsAt=_?.endsAt,m(!0)),u(!1)}E()},[]),r?A.createElement(db,{scaleFactor:n,engine:e,onCancel:()=>o(!1),onReset:()=>{o(!1)}}):A.createElement(K,{uiTransform:{flexDirection:"column",width:"100%"}},A.createElement(K,{uiTransform:{width:"100%",justifyContent:"space-between"}},A.createElement(Jo,{iconSrc:no.LIVE_SOURCE,title:"Live Stream",scaleFactor:n}),A.createElement(K,{onMouseDown:()=>(0,pb.openExternalUrl)({url:II}),uiTransform:{width:25*n,height:25*n,alignItems:"center"},uiBackground:{textureMode:"stretch",color:L.White(),texture:{src:z0}}})),A.createElement(Me,{textAlign:"middle-left",value:"Use the RTMP server and stream key below in your broadcasting software to start streaming to this screen.",color:L.fromHexString("#A09BA8"),fontSize:16*n}),f?A.createElement(Vr,{uiTransform:{minHeight:400*n},scaleFactor:n,engine:e}):c?A.createElement(lb,{endsAt:g??0,scaleFactor:n,engine:e,entity:a,video:t,onReset:()=>o(!0)}):A.createElement(fb,{scaleFactor:n,engine:e,onGenerate:()=>m(!0)}),!c&&A.createElement(Me,{fontSize:14*n,color:L.fromHexString("#FF2D55"),value:"Do not share your stream key with anyone, and be careful not to display it on screen while streaming."}))}function hb({scaleFactor:e,engine:n,width:a=8,height:t=8,uiTransform:r}){let o=0,[f,u]=A.useState(0);return A.useEffect(()=>{let c=qc(n,()=>{o=(o+1)%2,u(o)},340);return()=>$c(n,c)},[]),A.createElement(K,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",...r}},A.createElement(K,{uiTransform:{width:a*e,height:t*e,borderRadius:a/2*e,margin:{right:8*e}},uiBackground:{color:f===1?Hr.SUCCESS:L.fromHexString("#43404A")}}),A.createElement(Me,{value:"<b>Active</b>",color:Hr.SUCCESS,fontSize:16*e}))}var no={VIDEO_CONTROL:`${Ge}/admin_toolkit/assets/icons/video-control.png`,PREVIOUS_BUTTON:`${Ge}/admin_toolkit/assets/icons/video-control-previous-button.png`,FORWARD_BUTTON:`${Ge}/admin_toolkit/assets/icons/video-control-forward-button.png`,PLAY_BUTTON:`${Ge}/admin_toolkit/assets/icons/video-control-play-button.png`,MUTE:`${Ge}/admin_toolkit/assets/icons/video-control-mute.png`,LOOP:`${Ge}/admin_toolkit/assets/icons/video-control-loop.png`,VOLUME_MINUS_BUTTON:`${Ge}/admin_toolkit/assets/icons/video-control-volume-minus-button.png`,VOLUME_PLUS_BUTTON:`${Ge}/admin_toolkit/assets/icons/video-control-volume-plus-button.png`,VIDEO_SOURCE:`${Ge}/admin_toolkit/assets/icons/video-control-video.png`,LIVE_SOURCE:`${Ge}/admin_toolkit/assets/icons/video-control-live.png`,INFO:`${Ge}/admin_toolkit/assets/icons/info.png`},P0=.1,fm=1,Hr={WHITE:L.White(),GRAY:L.create(160/255,155/255,168/255,1),SUCCESS:L.fromHexString("#34CE77")};function gb({engine:e,state:n}){let[a,t]=Qx(e)??[],r=Pn(e),o=w0(e),[f,u]=A.useState(void 0);return A.useEffect(()=>{u(t&&t.src.startsWith("https://")?"video-url":"live")},[n.videoControl.selectedVideoPlayer]),A.createElement(K,{uiTransform:{flexDirection:"column",width:"100%",height:"100%"}},A.createElement(xi,{scaleFactor:r,uiTransform:{padding:{top:32*r,right:32*r,bottom:0,left:32*r}}},A.createElement(K,{uiTransform:{width:"100%",height:"100%",flexDirection:"column"}},A.createElement(Jo,{iconSrc:no.VIDEO_CONTROL,title:"<b>VIDEO SCREENS</b>",scaleFactor:r}),o.length>1&&A.createElement(Me,{value:"<b>Current Screen</b>",fontSize:16*r,color:L.White(),uiTransform:{margin:{bottom:16*r}}}),A.createElement(K,{uiTransform:{flexDirection:"column",margin:{bottom:16*r}}},o.length>1&&A.createElement(K,{uiTransform:{flexDirection:"column"}},A.createElement(zc,{options:o.map(c=>`<b>${c.customName}</b>`),selectedIndex:n.videoControl.selectedVideoPlayer??0,onChange:c=>n.videoControl.selectedVideoPlayer=c,textAlign:"middle-left",fontSize:16*r,uiTransform:{margin:{right:8*r},width:"100%"},uiBackground:{color:L.White()}})),A.createElement(Me,{fontSize:16*r,value:"<b>Media Source</b>",color:L.White(),uiTransform:{margin:{bottom:2*r,top:16*r}}}),A.createElement(K,{uiTransform:{margin:{top:10*r},flexDirection:"row",width:"100%"}},A.createElement(K,{uiTransform:{width:"50%",padding:{right:8*r}}},A.createElement(yb,{engine:e,id:"video_control_url",value:"<b>VIDEO URL</b>",icon:no.VIDEO_SOURCE,onClick:()=>u("video-url"),scaleFactor:r,selected:f==="video-url",active:t&&t.src.startsWith("https://")})),A.createElement(K,{uiTransform:{width:"50%",padding:{left:8*r}}},A.createElement(yb,{engine:e,id:"video_control_live",value:"<b>LIVE STREAM</b>",icon:no.LIVE_SOURCE,onClick:()=>u("live"),active:t&&t.src.startsWith(ia),scaleFactor:r,selected:f==="live"})))))),f&&a&&A.createElement(xi,{scaleFactor:r},f==="video-url"&&A.createElement(Zx,{engine:e,scaleFactor:r,entity:a,video:t}),f==="live"&&A.createElement(mb,{engine:e,scaleFactor:r,entity:a,video:t})))}function yb({active:e,scaleFactor:n,value:a,id:t,onClick:r,icon:o,selected:f,engine:u}){return A.createElement(K,{uiTransform:{flexDirection:"column",height:"100%",width:"100%"}},A.createElement(K,{uiTransform:{width:"100%"}},A.createElement(Qe,{id:t,onMouseDown:r,value:a,fontSize:14*n,icon:o,iconTransform:{width:24*n,height:24*n,margin:{right:8*n}},color:f?L.Black():L.fromHexString("#FCFCFC"),iconBackground:{color:f?L.Black():L.fromHexString("#FCFCFC")},uiBackground:{color:f?L.White():L.fromHexString("#43404A")},uiTransform:{padding:{top:6*n,bottom:6*n},borderRadius:6*n,alignItems:"center",justifyContent:"center",width:"100%",height:36*n}})),e&&A.createElement(hb,{scaleFactor:n,engine:u,uiTransform:{width:"100%",margin:{top:6*n}}}))}var Eb={TEXT_ANNOUNCEMENT_CONTROL:`${Ge}/admin_toolkit/assets/icons/text-announcement-control.png`,CHECK:`${Ge}/admin_toolkit/assets/icons/text-announcement-check.png`,BTN_CLOSE_TEXT_ANNOUNCEMENT:`${Ge}/admin_toolkit/assets/icons/text-announcement-close-button.png`,CHAT_MESSAGE_ICON:`${Ge}/admin_toolkit/assets/icons/text-announcement-chat-message.png`},Sl;function Sb({engine:e,state:n,player:a}){let t=Pn(e);return A.createElement(xi,{scaleFactor:t},A.createElement(K,{uiTransform:{width:"100%",height:"100%",flexDirection:"column"}},A.createElement(Jo,{iconSrc:Eb.TEXT_ANNOUNCEMENT_CONTROL,scaleFactor:t,title:"TEXT ANNOUNCEMENTS"}),A.createElement(K,{uiTransform:{flexDirection:"column"}},A.createElement(Me,{value:"<b>Message window</b>",fontSize:16*t,color:L.White(),uiTransform:{margin:{bottom:16*t}}}),A.createElement(Xa,{onSubmit:r=>{Tb(e,n,r,a)},onChange:r=>{n.textAnnouncementControl.text=r},fontSize:16*t,placeholder:"Write your announcement here",placeholderColor:L.create(160/255,155/255,168/255,1),color:L.Black(),uiBackground:{color:L.White()},uiTransform:{width:"100%",height:80*t,margin:{bottom:16*t}}}),A.createElement(K,{uiTransform:{width:"100%",height:40*t,flexDirection:"row",margin:{bottom:10*t,top:0,right:0,left:0}}},A.createElement(Me,{value:`${n.textAnnouncementControl.text?.length??0} / 90`,fontSize:14*t,color:L.create(187/255,187/255,187/255,1),uiTransform:{flexGrow:1},textAlign:"top-left"}),A.createElement(Qe,{id:"text_announcement_control_clear",value:"<b>Clear Announcements</b>",variant:"text",fontSize:16*t,color:L.White(),uiTransform:{height:40*t,margin:{right:8*t}},onMouseDown:()=>{vI(e,n)}}),A.createElement(Qe,{id:"text_announcement_control_share",value:"<b>Share</b>",variant:"primary",fontSize:16*t,labelTransform:{margin:{left:20*t,right:20*t}},uiTransform:{height:40*t},onMouseDown:()=>{Tb(e,n,n.textAnnouncementControl.text,a)}}))),A.createElement(K,{uiTransform:{minHeight:30*t}},A.createElement(K,{uiTransform:{display:Sl!==void 0?"flex":"none",width:30*t,height:30*t},uiBackground:{texture:{src:Eb.CHECK},textureMode:"stretch"}}),A.createElement(Me,{uiTransform:{display:Sl!==void 0?"flex":"none"},value:`Message ${Sl==="sent"?"sent":"cleared"}!`,fontSize:14*t,color:L.create(187/255,187/255,187/255,1)}))))}function vI(e,n){let{TextAnnouncements:a}=Pt(e),t=a.getMutableOrNull(n.adminToolkitUiEntity);t&&(t.text="",t.id="",t.author=""),n.textAnnouncementControl.announcements=[],Sl="cleared"}function Tb(e,n,a,t){if(!a)return;let{TextAnnouncements:r}=Pt(e),o=r.getMutableOrNull(n.adminToolkitUiEntity);if(o){let f=t?.name,u=Date.now();o.author=f,o.id=`${u}-${f}`,o.text=a.slice(0,90)}n.textAnnouncementControl.text="",Sl="sent"}var kI={SMART_ITEM_CONTROL:`${Ge}/admin_toolkit/assets/icons/smart-item-control.png`};function OI(e,n){let{Actions:a}=Pt(e);return!n||!a.has(n.entity)?[]:Array.from(a.get(n.entity).value)}function wI(e,n){jr(e.entity).emit(n.name,Ue(n))}function MI(e,n,a){e.smartItemsControl.selectedSmartItem=a;let t=n[a];if(!e.smartItemsControl.smartItems.has(t.entity)){let r=new Map(e.smartItemsControl.smartItems);r.set(t.entity,{visible:!0,selectedAction:t.defaultAction}),e.smartItemsControl={...e.smartItemsControl,smartItems:new Map(r)}}}function PI(e,n,a){let t=new Map(e.smartItemsControl.smartItems);t.set(n.entity,{...t.get(n.entity),selectedAction:a.name}),e.smartItemsControl={...e.smartItemsControl,smartItems:new Map(t)}}function zI(e,n,a){let{VisibilityComponent:t}=Xn(e),r=a[n.smartItemsControl.selectedSmartItem].entity,f=!n.smartItemsControl.smartItems.get(r).visible;n.smartItemsControl.smartItems.get(r).visible=f;let u=t.getOrCreateMutable(r);u.visible=f}function LI({engine:e,smartItems:n,selectedIndex:a,onSelect:t}){let r=Pn(e);return A.createElement(K,{key:"SmartItemsControlDropdownWrapper",uiTransform:{flexDirection:"column",margin:{bottom:32*r}}},A.createElement(Me,{value:"<b>Selected Smart Item</b>",fontSize:16*r,color:L.White(),uiTransform:{margin:{bottom:16*r}}}),A.createElement(zc,{key:"SmartItemsControlDropdownSelector",acceptEmpty:!0,emptyLabel:"Select Smart Item",options:n.map(o=>o.customName),selectedIndex:a??-1,onChange:t,textAlign:"middle-left",fontSize:14*r,uiTransform:{height:40*r,width:"100%"},uiBackground:{color:L.White()},color:L.Black()}))}function BI({engine:e,actions:n,selectedIndex:a,disabled:t,onChange:r}){let o=Pn(e);return A.createElement(K,{uiTransform:{flexDirection:"column",margin:{bottom:32*o}}},A.createElement(Me,{value:"<b>Actions</b>",fontSize:16*o,color:L.White(),uiTransform:{margin:{bottom:16*o}}}),n.length?A.createElement(zc,{acceptEmpty:!0,emptyLabel:"Select Action",options:n.map(f=>f.name),selectedIndex:a,onChange:r,disabled:t,textAlign:"middle-left",fontSize:14*o,uiTransform:{height:40*o,width:"100%"},uiBackground:{color:t?L.Gray():L.White()},color:L.Black()}):A.createElement(K,null))}function UI({engine:e,state:n,smartItems:a,actions:t,selectedAction:r}){let o=Pn(e),f=n.smartItemsControl.selectedSmartItem!==void 0?a[n.smartItemsControl.selectedSmartItem]:void 0,u=f&&n.smartItemsControl.smartItems.get(f.entity)?.visible;return A.createElement(K,{uiTransform:{flexDirection:"row"}},A.createElement(Qe,{id:"smart_items_control_restart",value:"<b>Play Action</b>",variant:"text",fontSize:16*o,color:L.White(),uiTransform:{margin:{right:8*o},height:40*o},labelTransform:{margin:{left:10*o,right:10*o}},disabled:!f||!r,onMouseDown:()=>{f&&r&&wI(f,r)}}),A.createElement(Qe,{id:"smart_items_control_hide_show",value:`<b>${u?"Hide":"Show"} Entity</b>`,variant:"text",fontSize:16*o,color:L.White(),onMouseDown:()=>zI(e,n,a),disabled:!f,uiTransform:{margin:{right:8*o}},labelTransform:{margin:{left:10*o,right:10*o}}}))}function _b({engine:e,state:n}){let a=xb(e),t=n.smartItemsControl.selectedSmartItem!==void 0?OI(e,a[n.smartItemsControl.selectedSmartItem]):[],r=n.smartItemsControl.selectedSmartItem!==void 0?t.findIndex(f=>{let u=a[n.smartItemsControl.selectedSmartItem],c=n.smartItemsControl.smartItems.get(u.entity)?.selectedAction;return f.name===(c??u.defaultAction)}):void 0,o=Pn(e);return A.createElement(xi,{scaleFactor:o},A.createElement(K,{key:"SmartItemsControl",uiTransform:{height:"100%",width:"100%",flexDirection:"column"}},A.createElement(Jo,{iconSrc:kI.SMART_ITEM_CONTROL,title:"SMART ITEM ACTIONS",scaleFactor:o}),A.createElement(LI,{engine:e,smartItems:a,selectedIndex:n.smartItemsControl.selectedSmartItem,onSelect:f=>{MI(n,a,f)}}),A.createElement(BI,{engine:e,actions:t,selectedIndex:r,disabled:n.smartItemsControl.selectedSmartItem===void 0,onChange:f=>{n.smartItemsControl.selectedSmartItem!==void 0&&PI(n,a[n.smartItemsControl.selectedSmartItem],t[f])}}),A.createElement(UI,{engine:e,state:n,smartItems:a,actions:t,selectedAction:r!==void 0?t[r]:void 0})))}var bb={BTN_CLOSE_TEXT_ANNOUNCEMENT:`${Ge}/admin_toolkit/assets/icons/text-announcement-close-button.png`,CHAT_MESSAGE_ICON:`${Ge}/admin_toolkit/assets/icons/text-announcement-chat-message.png`},Ab=new Set;function Rb({engine:e,state:n}){let{TextAnnouncements:a}=Pt(e),t=a.getOrNull(n.adminToolkitUiEntity),r=Pn(e);return!t?.text||Ab.has(t.id)?null:A.createElement(K,{uiTransform:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",height:"100%",width:"100%"}},A.createElement(K,{key:t.id,uiTransform:{display:"flex",flexDirection:"column",height:150*r,width:400*r,margin:{bottom:10*r},padding:{top:10*r,bottom:10*r,left:10*r,right:10*r}},uiBackground:{color:{r:.15,g:.15,b:.15,a:.95}}},A.createElement(K,{uiTransform:{alignSelf:"center",justifyContent:"center",height:50*r,width:50*r},uiBackground:{texture:{src:bb.CHAT_MESSAGE_ICON},textureMode:"stretch",color:{r:1,g:1,b:1,a:1}}}),A.createElement(Me,{uiTransform:{alignItems:"center",justifyContent:"center"},fontSize:18*r,value:t.text}),t.author?A.createElement(Me,{uiTransform:{alignItems:"flex-end",justifyContent:"flex-end"},fontSize:14*r,color:{r:.7,g:.7,b:.7,a:1},value:`- ${t.author}`}):null,A.createElement(K,{uiTransform:{height:24*r,width:24*r,positionType:"absolute",position:{top:5*r,right:5*r}},uiBackground:{texture:{src:bb.BTN_CLOSE_TEXT_ANNOUNCEMENT},textureMode:"stretch"},onMouseDown:()=>{Ab.add(t.id)}})))}var Rt;(function(e){e.NONE="None",e.VIDEO_CONTROL="VideoControl",e.SMART_ITEMS_CONTROL="SmartItemsControl",e.TEXT_ANNOUNCEMENT_CONTROL="TextAnnouncementControl",e.MODERATION_CONTROL="ModerationControl",e.REWARDS_CONTROL="RewardsControl"})(Rt||(Rt={}));var DI=`${Ge}/admin_toolkit/assets/icons/error.png`,ym=e=>({container:{display:"flex",flexDirection:"column",margin:{bottom:8*e}},title:{margin:{bottom:8*e}},input:{width:"100%",borderWidth:4*e,borderRadius:8*e,height:48*e},button:{margin:{left:10*e},minWidth:96*e,height:48*e,alignItems:"center",justifyContent:"center",padding:0},errorContainer:{width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:"auto",margin:{top:4*e}},errorIcon:{width:16*e,height:16*e,margin:{right:8*e}},bannedInfoContainer:{display:"flex",flexDirection:"column",margin:{bottom:8*e},padding:{top:4*e,bottom:8*e}},marginBottomMedium:{margin:{bottom:4*e}}}),Cb=()=>({white:L.White(),black:L.Black(),red:L.Red(),pink:L.fromHexString("#FB3B3B")}),Nb=()=>({input:{color:L.White()},errorIcon:{textureMode:"stretch",texture:{src:DI}}}),Ib=e=>({fontSize:14*e,color:L.White(),textAlign:"top-left"});var Kc=()=>({SCENE_ADMIN:`https://comms-gatekeeper.decentraland.${El()}/scene-admin`,SCENE_BAN:`https://comms-gatekeeper.decentraland.${El()}/scene-bans`});async function vb(){return gr({url:Kc().SCENE_ADMIN})}async function kb(e){return gr({url:Kc().SCENE_ADMIN,init:{method:"POST",headers:{},body:JSON.stringify(e)}})}async function Ob(e){return gr({url:Kc().SCENE_ADMIN,init:{method:"DELETE",headers:{},body:JSON.stringify({admin:e})}})}async function wb(e){return gr({url:Kc().SCENE_BAN,init:{method:"POST",headers:{},body:JSON.stringify(e)}})}async function Mb(){return gr({url:Kc().SCENE_BAN})}async function Pb(e){return gr({url:Kc().SCENE_BAN,init:{method:"DELETE",headers:{},body:JSON.stringify({banned_address:e})}})}var zb=async(e,n,a,t)=>{a(!0);let[r,o]=await kb(e);r?n("Please try again with a valid NAME or wallet address."):(n(""),t(),await _l()),a(!1)},Lb=async(e,n,a,t)=>{a(!0);let[r,o]=await wb(e);r?n("Please try again with a valid NAME or wallet address."):(n(""),t(),await Qc()),a(!1)},Bb=async e=>{if(!e)return!1;let[n,a]=await Pb(e);return n?(await Qc(),!1):!0};function Ub({scaleFactor:e}){let n=ym(e),a=Ib(e);return A.createElement(K,{uiTransform:n.bannedInfoContainer},A.createElement(K,{uiText:{value:"<b>Banned users CAN'T:</b> See your scene, send messages in the Nearby chat, or be seen by other users.",...a},uiTransform:n.marginBottomMedium}),A.createElement(K,{uiText:{value:"<b>Banned users CAN still:</b> See other users and see the messages in the Nearby chat.</b>",...a}}))}var Ko;(function(e){e.ADMIN="admin",e.BAN="ban"})(Ko||(Ko={}));function WI(e){return/^0x[a-fA-F0-9]{40}$/.test(e)}function D0(e){return e.length>15}function W0({scaleFactor:e,type:n,sceneAdmins:a}){let[t,r]=A.useState(""),[o,f]=A.useState(!1),[u,c]=A.useState(""),m=ym(e),y=Cb(),R=Nb(),g=x=>a.some(_=>_.address===x||_.name===x),E=async()=>{if(o)return;let x=u.trim();if(!x||x.length<=2){r("Provide a valid address or NAME");return}if(D0(x)&&!WI(x)){r("Provide a valid address format");return}let _=()=>{c("")};if(n===Ko.ADMIN){let C=D0(x)?{admin:x}:{name:x};await zb(C,r,f,_)}else{if(g(x)){r("Admin users cannot be banned. Please remove this user from the Admin List and try again.");return}let C=D0(x)?{banned_address:x}:{banned_name:x};await Lb(C,r,f,_)}};return A.createElement(K,{uiTransform:m.container},A.createElement(Me,{value:n===Ko.ADMIN?"<b>Add an Admin</b>":"<b>Ban User from Scene</b>",fontSize:18*e,color:y.white,uiTransform:m.title}),n===Ko.BAN&&A.createElement(Ub,{scaleFactor:e}),A.createElement(K,null,A.createElement(Xa,{onChange:x=>{r(""),c(x)},value:u,fontSize:14*e,placeholder:"Enter a NAME or wallet address",uiBackground:R.input,uiTransform:{...m.input,borderColor:t?y.red:y.white}}),A.createElement(Qe,{id:n===Ko.ADMIN?"moderation_control_add_admin":"moderation_control_ban_user",value:n===Ko.ADMIN?"<b>Add</b>":"<b>Ban</b>",fontSize:18*e,uiTransform:m.button,color:n===Ko.BAN?y.white:void 0,onMouseDown:E,uiBackground:{color:n===Ko.BAN?y.pink:void 0}})),t&&A.createElement(K,{uiTransform:m.errorContainer},A.createElement(K,{uiTransform:m.errorIcon,uiBackground:R.errorIcon}),A.createElement(K,{uiText:{value:t,fontSize:14*e,color:y.red,textAlign:"top-left"}})))}var Db=e=>({container:{width:"100%",height:"100%",flexDirection:"column"},viewListButton:{width:220*e,height:42*e,alignItems:"center",justifyContent:"center",margin:{top:16*e}},viewListIcon:{width:25*e,height:25*e,margin:{right:10*e}},divider:{margin:{top:16*e,bottom:16*e},width:"100%",height:1,borderWidth:1,borderColor:L.fromHexString("#43404A")}}),Wb=()=>({white:L.White()});var jb=`${Ge}/admin_toolkit/assets/icons/admin-panel-moderation-control-button.png`,jI=`${Ge}/admin_toolkit/assets/icons/moderation-control-icon.png`,FI=`${Ge}/admin_toolkit/assets/icons/admin-panel-verified-user.png`,HI=`${Ge}/admin_toolkit/assets/icons/ban.png`,yn={showModalAdminList:!1,showModalBanList:!1,adminToRemove:void 0,unbanMessage:null};function Fb({engine:e,player:n,sceneAdmins:a}){let t=Pn(e),r=Db(t),o=Wb();return A.createElement(xi,{scaleFactor:t},A.createElement(K,{uiTransform:r.container},A.createElement(Jo,{iconSrc:jI,title:"PERMISSIONS & MODERATION",scaleFactor:t}),A.createElement(W0,{scaleFactor:t,type:Ko.ADMIN,sceneAdmins:a}),A.createElement(Qe,{variant:"secondary",id:"moderation_control_admin_list",value:"<b>View Admin List</b>",fontSize:18*t,color:o.white,uiTransform:r.viewListButton,icon:FI,iconTransform:r.viewListIcon,onMouseDown:()=>yn.showModalAdminList=!0}),A.createElement(K,{uiTransform:r.divider}),A.createElement(W0,{scaleFactor:t,type:Ko.BAN,sceneAdmins:a}),A.createElement(Qe,{variant:"secondary",id:"moderation_control_ban_list",value:"<b>View Ban List</b>",fontSize:18*t,color:o.white,uiTransform:r.viewListButton,icon:HI,iconTransform:r.viewListIcon,onMouseDown:async()=>{await Qc(),yn.showModalBanList=!0}})))}function Hb({scaleFactor:e,admin:n,engine:a}){let[t,r]=A.useState(!1),[o,f]=A.useState("");return A.createElement(K,{uiTransform:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},A.createElement(K,{uiTransform:{width:675*e,minHeight:279*e,padding:24*e,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:12},uiBackground:{color:L.Black()}},A.createElement(K,{uiTransform:{flexDirection:"row",maxWidth:675*e}},A.createElement(Me,{value:"Are you sure you want to remove ",fontSize:18*e,color:L.White()}),A.createElement(Me,{value:`<b>${n.name||(n.address?`${n.address.substring(0,6)}...${n.address.substring(n.address.length-4)}`:"")}</b>`,fontSize:18*e,color:L.fromHexString("#FF2D55")}),A.createElement(Me,{value:" from the Admin list?",fontSize:18*e,color:L.White()})),A.createElement(Me,{value:"If you proceed, they will lose access to tehe Admin Tools for this scene.",fontSize:14*e,color:L.Gray(),uiTransform:{margin:{top:12*e,bottom:24*e}}}),A.createElement(K,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"}},!t&&A.createElement(Qe,{id:"cancel-remove",value:"<b>Cancel</b>",variant:"primary",fontSize:16*e,color:L.Black(),uiTransform:{width:90*e,height:40*e,display:"flex",justifyContent:"center",alignItems:"center",margin:{right:30*e,left:30*e}},onMouseDown:()=>{yn.adminToRemove=void 0}}),!t&&A.createElement(Qe,{id:"confirm-remove",value:"<b>Remove</b>",variant:"primary",fontSize:16*e,color:L.White(),uiTransform:{width:160*e,height:40*e,justifyContent:"center",alignItems:"center"},uiBackground:{color:L.fromHexString("#FF2D55")},onMouseDown:async()=>{if(!t&&n.address){r(!0);let[u]=await Ob(n.address);u?f(u):(yn.adminToRemove=void 0,await _l()),r(!1)}}})),t&&A.createElement(Vr,{scaleFactor:e,engine:a}),o&&A.createElement(Yc,{uiTransform:{margin:{top:16*e}},scaleFactor:e,text:o})))}var gm={VERIFIED_USER:`${Ge}/admin_toolkit/assets/icons/admin-panel-verified-user.png`,PERSON:`${Ge}/admin_toolkit/assets/icons/person-outline.png`,BAN:`${Ge}/admin_toolkit/assets/icons/ban.png`},Vb=e=>({overlay:{width:"100%",height:"100%",positionType:"absolute",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},container:{width:675*e,maxHeight:679*e,minHeight:479*e,padding:20*e,display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:12*e},content:{display:"flex",flexDirection:"column",flexGrow:1},header:{justifyContent:"flex-start",alignItems:"center",margin:{bottom:24*e}},headerIcon:{width:30*e,height:30*e,margin:{right:10*e}},usersCount:{margin:{left:8*e}},closeButton:{position:{right:0},positionType:"absolute",borderColor:L.Clear()},closeIcon:{width:32*e,height:32*e},listContainer:{flexDirection:"column",width:"100%",margin:{top:16*e}},userItem:{display:"flex",flexDirection:"column"},userRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:48*e,padding:{left:8*e,right:8*e},margin:{top:4*e,bottom:4*e}},userInfo:{display:"flex",height:"100%",justifyContent:"center"},personIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",margin:{right:10*e}},personIcon:{width:28*e,height:28*e},userDetails:{display:"flex",flexDirection:"column",justifyContent:"center"},nameContainer:{display:"flex",alignItems:"center"},verifiedIcon:{width:14*e,height:14*e},roleBadge:{display:"flex",alignItems:"center",justifyContent:"center",width:"auto",height:20*e,padding:{left:4*e},margin:{left:8*e},borderRadius:4*e},removeButton:{margin:{left:10*e,right:10*e}},divider:{width:"100%",height:1},pagination:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:{top:20*e},padding:{left:10*e,right:10*e}},paginationButton:{height:42*e,alignItems:"center"},prevIcon:{width:25*e,height:25*e,margin:{left:8*e}},prevLabel:{margin:{right:10*e}},nextIcon:{width:25*e,height:25*e,margin:{right:8*e}},nextLabel:{margin:{left:10*e}},messageContainer:{width:"100%",justifyContent:"center",alignItems:"center",margin:{top:16*e}},messageLabel:{padding:{top:8*e,bottom:8*e,left:16*e,right:16*e}}}),Gb=()=>({container:{color:L.Black()},divider:{color:L.fromHexString("#43404A")},roleBadge:{color:L.fromHexString("#A09BA8")},headerIcon:{textureMode:"stretch",texture:{src:gm.VERIFIED_USER}},personIcon:{textureMode:"stretch",texture:{src:gm.PERSON}},banIcon:{textureMode:"stretch",texture:{src:gm.BAN}},verifiedIcon:{textureMode:"stretch",texture:{src:gm.VERIFIED_USER},color:L.White()}}),j0=()=>({white:L.White(),gray:L.Gray(),addressGray:L.fromHexString("#716B7C"),removeRed:L.fromHexString("#FF2D55FF"),disabledGray:L.fromHexString("#323232"),black:L.Black()}),xl=e=>{let n=j0();return e?n.disabledGray:n.white};var Ro;(function(e){e.ADMIN="admin",e.BAN="ban"})(Ro||(Ro={}));var is=5,F0={BACK:`${Ge}/admin_toolkit/assets/icons/chevron-back.png`,NEXT:`${Ge}/admin_toolkit/assets/icons/chevron-forward.png`,CLOSE:`${Ge}/admin_toolkit/assets/icons/close.png`},VI=e=>"address"in e?e.address:e.bannedAddress,H0=e=>"address"in e?e.address:e.bannedAddress,GI=e=>"canBeRemoved"in e?e.canBeRemoved!==!1:!0,YI=e=>e===Ro.ADMIN?"<b>ADMIN LIST</b>":"<b>SCENE BAN LIST</b>",qI=(e,n)=>{let a=e===Ro.ADMIN?n===1?"admin":"admins":n===1?"user":"users";return`(${n} ${a})`},$I=e=>e===Ro.ADMIN?"<b>Remove</b>":"<b>Unban</b>",JI=e=>{e===Ro.ADMIN?yn.showModalAdminList=!1:yn.showModalBanList=!1};function V0({scaleFactor:e,users:n,engine:a,type:t}){let[r,o]=A.useState(1),f=Vb(e),u=Gb(),c=j0(),m=async E=>{if(t===Ro.ADMIN)yn.adminToRemove=E;else{let x=E;if(await Bb(x.bannedAddress)){let C=x.name||x.bannedAddress;yn.unbanMessage=`${C} has been unbanned from your scene`}else yn.unbanMessage="We were unable to unban this user"}};if(A.useEffect(()=>{if(yn.unbanMessage){let E=0,x=qc(a,()=>{E+=100,E>=3e3&&(yn.unbanMessage=null)},100);return()=>$c(a,x)}},[yn.unbanMessage]),yn.adminToRemove)return A.createElement(Hb,{scaleFactor:e,admin:yn.adminToRemove,engine:a});let y=(r-1)*is,R=Math.min(y+is,n.length),g=n.slice(y,R);return A.createElement(K,{uiTransform:f.overlay},A.createElement(K,{uiTransform:f.container,uiBackground:u.container},A.createElement(K,{uiTransform:f.content},A.createElement(K,{uiTransform:f.header},A.createElement(K,{uiTransform:f.headerIcon,uiBackground:t===Ro.BAN?u.banIcon:u.headerIcon}),A.createElement(Me,{value:YI(t),fontSize:24*e,color:c.white}),A.createElement(Me,{value:qI(t,n.length),fontSize:16*e,color:c.gray,uiTransform:f.usersCount}),A.createElement(Qe,{id:"close-modal",onlyIcon:!0,icon:F0.CLOSE,variant:"secondary",fontSize:20*e,uiTransform:f.closeButton,iconTransform:f.closeIcon,onMouseDown:()=>JI(t)})),A.createElement(K,{uiTransform:f.listContainer},g.map((E,x)=>A.createElement(K,{key:VI(E),uiTransform:f.userItem},A.createElement(K,{key:`${t}-${E.name||H0(E)}`,uiTransform:f.userRow},A.createElement(K,{uiTransform:f.userInfo},A.createElement(K,{uiTransform:f.personIconContainer},A.createElement(K,{uiTransform:f.personIcon,uiBackground:u.personIcon})),A.createElement(K,{uiTransform:f.userDetails},E.name&&A.createElement(K,{uiTransform:f.nameContainer},A.createElement(Me,{value:`<b>${E.name}</b>`,fontSize:14*e,color:c.white}),!E.name.includes("#")&&A.createElement(K,{uiTransform:f.verifiedIcon,uiBackground:u.verifiedIcon}),"role"in E&&(E.role==="owner"||E.role==="operator")&&A.createElement(K,{uiTransform:f.roleBadge,uiBackground:u.roleBadge},A.createElement(Me,{value:`<b>${("role"in E?E.role??"":"")?.charAt(0).toUpperCase()+("role"in E?E.role?.slice(1):"")}</b>`,fontSize:12*e,color:c.black}))),A.createElement(Me,{fontSize:(E.name?12:14)*e,value:(E.name,H0(E)),color:E.name?c.addressGray:c.white}))),(GI(E)||t===Ro.BAN)&&A.createElement(Qe,{id:`${t}-action-${x}`,value:$I(t),variant:"text",fontSize:14*e,color:c.removeRed,labelTransform:f.removeButton,onMouseDown:()=>m(E)})),A.createElement(K,{uiTransform:f.divider,uiBackground:u.divider}))))),n.length>is&&A.createElement(K,{uiTransform:f.pagination},A.createElement(Qe,{id:"prev",value:"Prev",variant:"secondary",disabled:r<=1,fontSize:18*e,icon:F0.BACK,iconTransform:f.prevIcon,iconBackground:{color:xl(r<=1)},color:xl(r<=1),labelTransform:f.prevLabel,uiTransform:f.paginationButton,onMouseDown:()=>o(r-1)}),A.createElement(Me,{value:`${r} / ${Math.ceil(n.length/is)}`,fontSize:14*e,color:c.white}),A.createElement(Qe,{id:"next",value:"<b>Next</b>",variant:"secondary",fontSize:18*e,iconRight:F0.NEXT,iconRightTransform:f.nextIcon,labelTransform:f.nextLabel,iconRightBackground:{color:xl(r>=Math.ceil(n.length/is))},color:xl(r>=Math.ceil(n.length/is)),disabled:r>=Math.ceil(n.length/is),uiTransform:f.paginationButton,onMouseDown:()=>o(r+1)})),t===Ro.BAN&&yn.unbanMessage&&A.createElement(K,{uiTransform:f.messageContainer},A.createElement(Me,{value:yn.unbanMessage,fontSize:14*e,color:L.White(),uiTransform:f.messageLabel}))))}var _i=[],Ct,De={adminToolkitUiEntity:0,panelOpen:!1,activeTab:Rt.NONE,videoControl:{selectedVideoPlayer:void 0},smartItemsControl:{selectedSmartItem:void 0,smartItems:new Map},textAnnouncementControl:{entity:void 0,text:void 0,messageRateTracker:new Map,announcements:[],maxAnnouncements:4},rewardsControl:{selectedRewardItem:void 0}},bl=[],G0=[],KI=`${Ge}/admin_toolkit/assets/icons/admin-panel-video-control-button.png`,QI=`${Ge}/admin_toolkit/assets/icons/admin-panel-smart-item-control-button.png`,XI=`${Ge}/admin_toolkit/assets/icons/admin-panel-text-announcement-control-button.png`,ZI=`${Ge}/admin_toolkit/assets/icons/admin-panel-control-button.png`,ev=`${Ge}/admin_toolkit/assets/backgrounds/admin-tool-background.png`,M0=L.create(0,0,0,.75),tv=8e3;function nv(e){let{AdminTools:n}=Pt(e);return Array.from(e.getEntitiesWith(n))[0][0]}function qb(e){let{AdminTools:n}=Pt(e);return Array.from(e.getEntitiesWith(n))[0][1]}async function _l(){let[e,n]=await vb();if(e){console.log(JSON.stringify({error:e})),bl=[];return}bl=(n??[]).map(a=>({name:a.name,address:a.admin,role:"admin",verified:!a.name.includes("#"),canBeRemoved:!!a.canBeRemoved})).sort(a=>a.canBeRemoved?1:-1)}async function Qc(){let[e,n]=await Mb();if(e){G0=[];return}G0=n?.results??[]}function xb(e){let n=qb(e);return Array.from(n.smartItemsControl.smartItems??[])}function ov(e){let{TextAnnouncements:n}=Pt(e);n.createOrReplace(De.adminToolkitUiEntity,{text:"",author:"",id:""})}var Yb=!1;async function rv(e,n){if(!Yb){let{TextAnnouncements:a,VideoControlState:t}=Pt(e);De.adminToolkitUiEntity=nv(e)??e.addEntity(),ov(e),t.getOrNull(De.adminToolkitUiEntity)||t.create(De.adminToolkitUiEntity),n?.syncEntity?.(De.adminToolkitUiEntity,[t.componentId,a.componentId],tv),e.addSystem(()=>{if(_i.length>0){let r=_i.shift();r&&r()}},Number.POSITIVE_INFINITY),await Promise.all([_l(),Qc()]),Yb=!0,console.log("initializeAdminData - initialized")}}function $b(e,n,a,t,r){rv(e,t).then(()=>{console.log("createAdminToolkitUI - initialized"),a.setUiRenderer(()=>av(e,n,t,r))})}function iv(e,n,a){if(!a)return!1;let t=a.userId.toLowerCase();return bl.find(o=>o.address===t)||B0()}var av=(e,n,a,t)=>{let r=qb(e),o=t?.getPlayer(),f=iv(e,r,o);return Ct=Pn(e),[A.createElement(K,{uiTransform:{positionType:"absolute",height:"100%",width:"100%"}},f?A.createElement(K,{uiTransform:{positionType:"absolute",flexDirection:"row",position:{top:120*Ct,right:10*Ct}}},A.createElement(K,{uiTransform:{display:De.panelOpen?"flex":"none",width:500*Ct,pointerFilter:"block",flexDirection:"column",margin:{right:8*Ct}}},A.createElement(K,{uiTransform:{width:"100%",height:50*Ct,flexDirection:"row",alignItems:"center",borderRadius:12*Ct,padding:{left:12*Ct,right:12*Ct}},uiBackground:{color:M0}},A.createElement(Me,{value:"ADMIN TOOLS",fontSize:20*Ct,color:L.create(160,155,168,1),uiTransform:{flexGrow:1}}),A.createElement(Qe,{id:"admin_toolkit_moderation_control",variant:De.activeTab===Rt.MODERATION_CONTROL?"primary":"text",icon:jb,onlyIcon:!0,uiTransform:{display:r.moderationControl.isEnabled&&!B0()?"flex":"none",width:49*Ct,height:42*Ct,margin:{right:8*Ct},alignItems:"center",justifyContent:"center"},iconBackground:{color:De.activeTab===Rt.MODERATION_CONTROL?L.Black():L.White()},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{De.activeTab!==Rt.MODERATION_CONTROL?(De.activeTab=Rt.NONE,_i.push(()=>{De.activeTab=Rt.MODERATION_CONTROL})):De.activeTab=Rt.NONE}}),A.createElement(Qe,{id:"admin_toolkit_panel_video_control",variant:De.activeTab===Rt.VIDEO_CONTROL?"primary":"text",icon:KI,iconBackground:{color:De.activeTab===Rt.VIDEO_CONTROL?L.Black():L.White()},onlyIcon:!0,uiTransform:{display:r.videoControl.isEnabled?"flex":"none",width:49*Ct,height:42*Ct,margin:{right:8*Ct},alignItems:"center",justifyContent:"center"},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{De.activeTab!==Rt.VIDEO_CONTROL?(De.activeTab=Rt.NONE,_i.push(()=>{De.activeTab=Rt.VIDEO_CONTROL})):De.activeTab=Rt.NONE}}),A.createElement(Qe,{id:"admin_toolkit_panel_smart_items_control",variant:De.activeTab===Rt.SMART_ITEMS_CONTROL?"primary":"text",icon:QI,iconBackground:{color:De.activeTab===Rt.SMART_ITEMS_CONTROL?L.Black():L.White()},onlyIcon:!0,uiTransform:{display:r.smartItemsControl.isEnabled?"flex":"none",width:49*Ct,height:42*Ct,margin:{right:8*Ct},alignItems:"center",justifyContent:"center"},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{De.activeTab!==Rt.SMART_ITEMS_CONTROL?(De.activeTab=Rt.NONE,_i.push(()=>{De.activeTab=Rt.SMART_ITEMS_CONTROL})):De.activeTab=Rt.NONE}}),A.createElement(Qe,{id:"admin_toolkit_panel_text_announcement_control",variant:De.activeTab===Rt.TEXT_ANNOUNCEMENT_CONTROL?"primary":"text",icon:XI,iconBackground:{color:De.activeTab===Rt.TEXT_ANNOUNCEMENT_CONTROL?L.Black():L.White()},onlyIcon:!0,uiTransform:{display:r.textAnnouncementControl.isEnabled?"flex":"none",width:49*Ct,height:42*Ct,margin:{right:8*Ct},alignItems:"center",justifyContent:"center"},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{De.activeTab!==Rt.TEXT_ANNOUNCEMENT_CONTROL?(De.activeTab=Rt.NONE,_i.push(()=>{De.activeTab=Rt.TEXT_ANNOUNCEMENT_CONTROL})):De.activeTab=Rt.NONE}})),De.activeTab===Rt.TEXT_ANNOUNCEMENT_CONTROL?A.createElement(Sb,{engine:e,state:De,player:o}):null,De.activeTab===Rt.VIDEO_CONTROL?A.createElement(gb,{engine:e,state:De}):null,De.activeTab===Rt.SMART_ITEMS_CONTROL?A.createElement(_b,{engine:e,state:De}):null,De.activeTab===Rt.MODERATION_CONTROL&&A.createElement(Fb,{engine:e,player:o,sceneAdmins:bl})),A.createElement(K,{uiTransform:{display:"flex",height:42*Ct,width:42*Ct,alignItems:"center",alignContent:"center",justifyContent:"center",pointerFilter:"block"},uiBackground:{texture:{src:ev},textureMode:"stretch",color:L.create(1,1,1,1)}},A.createElement(Uy,{value:"",uiTransform:{height:40*Ct,width:40*Ct,alignItems:"center",alignContent:"center",justifyContent:"center"},uiBackground:{texture:{src:ZI},textureMode:"stretch",color:L.create(1,1,1,1)},onMouseDown:()=>{De.panelOpen=!De.panelOpen}}))):null,A.createElement(Rb,{engine:e,state:De})),yn.showModalAdminList&&A.createElement(V0,{scaleFactor:Ct,users:bl??[],engine:e,type:Ro.ADMIN}),yn.showModalBanList&&A.createElement(V0,{scaleFactor:Ct,users:G0??[],engine:e,type:Ro.BAN})]};var Al=null;function Jb(e,n,a,t,r){let{AdminTools:o}=Pt(e);return function(u){let c=Array.from(e.getEntitiesWith(o)),m=c.length>0;m&&!Al?(Al=c[0][0],$b(e,n,a,t,r)):!m&&Al&&(e.removeEntity(Al),Al=null)}}var Kb=!1;function Qb(e,n,a){if(Kb)return;Kb=!0;let t=e;try{let r=Xn(t);xx(t);let o=fp(t),f=dp(t,o),u=pp(t),c=Hp(t,f);bx(t),t.addSystem($x(t,f,n,a)),t.addSystem(Fx(t,r,f,u)),t.addSystem(Px()),t.addSystem(Dx(o)),t.addSystem(Kx(t,r)),t.addSystem(Hx(r)),t.addSystem(Jb(t,f,c,n,a))}catch(r){console.error(`Error initializing Asset Packs: ${r.message}`)}}var Xc=require("~system/EngineApi");function Xb(e){async function n(t){let r=await e.crdtSendToRenderer({data:new Uint8Array(t)});if(r&&r.data&&r.data.length&&a.onmessage)for(let o of r.data)a.onmessage(o)}let a={async send(t){try{await n(t)}catch(r){console.error(r);debugger}},filter(t){return t.componentId>cy?!1:!!t},type:"renderer"};return a}var Y0=class{constructor(n,a=!1,t,r){this.initalize(n,a,t,r)}initalize(n,a=!1,t,r){return this.mask=n,this.skipNextObservers=a,this.target=t,this.currentTarget=r,this}},q0=class{constructor(n,a,t=null){this.callback=n,this.mask=a,this.scope=t,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1}},yo=class e{constructor(n){this._observers=new Array,this._onObserverAdded=null,this._eventState=new Y0(0),n&&(this._onObserverAdded=n)}add(n,a=-1,t=!1,r=null,o=!1){if(!n)return null;let f=new q0(n,a,r);return f.unregisterOnNextCall=o,t?this._observers.unshift(f):this._observers.push(f),this._onObserverAdded&&this._onObserverAdded(f),f}addOnce(n){return this.add(n,void 0,void 0,void 0,!0)}remove(n){return n&&this._observers.indexOf(n)!==-1?(this._deferUnregister(n),!0):!1}removeCallback(n,a){for(let t=0;t<this._observers.length;t++)if(this._observers[t].callback===n&&(!a||a===this._observers[t].scope))return this._deferUnregister(this._observers[t]),!0;return!1}notifyObservers(n,a=-1,t,r){if(!this._observers.length)return!0;let o=this._eventState;o.mask=a,o.target=t,o.currentTarget=r,o.skipNextObservers=!1,o.lastReturnValue=n;for(let f of this._observers)if(!f._willBeUnregistered&&(f.mask&a&&(f.scope?o.lastReturnValue=f.callback.apply(f.scope,[n,o]):o.lastReturnValue=f.callback(n,o),f.unregisterOnNextCall&&this._deferUnregister(f)),o.skipNextObservers))return!1;return!0}notifyObserversWithPromise(n,a=-1,t,r){let o=Promise.resolve(n);if(!this._observers.length)return o;let f=this._eventState;return f.mask=a,f.target=t,f.currentTarget=r,f.skipNextObservers=!1,this._observers.forEach(u=>{f.skipNextObservers||u._willBeUnregistered||u.mask&a&&(u.scope?o=o.then(c=>(f.lastReturnValue=c,u.callback.apply(u.scope,[n,f]))):o=o.then(c=>(f.lastReturnValue=c,u.callback(n,f))),u.unregisterOnNextCall&&this._deferUnregister(u))}),o.then(()=>n)}notifyObserver(n,a,t=-1){let r=this._eventState;r.mask=t,r.skipNextObservers=!1,n.callback(a,r)}hasObservers(){return this._observers.length>0}clear(){this._observers=new Array,this._onObserverAdded=null}clone(){let n=new e;return n._observers=this._observers.slice(0),n}hasSpecificMask(n=-1){for(let a of this._observers)if(a.mask&n||a.mask===n)return!0;return!1}_deferUnregister(n){n.unregisterOnNextCall=!1,n._willBeUnregistered=!0,Promise.resolve().then.bind(Promise.resolve())(async()=>this._remove(n)).catch(console.error)}_remove(n){if(!n)return!1;let a=this._observers.indexOf(n);return a!==-1?(this._observers.splice(a,1),!0):!1}};var e3=require("~system/EngineApi");function Er(e){return()=>{e==="comms"?(0,e3.subscribe)({eventId:e}).catch(console.error):yv?.subscribe(e)}}var sv=new yo(Er("onEnterScene"));var cv=new yo(Er("onLeaveScene"));var uv=new yo(Er("sceneStart")),lv=new yo(Er("playerExpression")),OG=new yo(Er("videoEvent")),Zb=new yo(Er("profileChanged")),fv=new yo(Er("playerConnected")),dv=new yo(Er("playerDisconnected")),pv=new yo(Er("onRealmChanged")),mv=new yo(Er("playerClicked")),hv=new yo(Er("comms"));async function t3(e){let{events:n}=await e({actions:[]});for(let a of n)if(a.generic){let t=JSON.parse(a.generic.eventData);switch(a.generic.eventId){case"comms":{hv.notifyObservers(t);break}}}}var yv=gv();function gv(){let e=new Set;function n(R){if(!e.has(R)){switch(R){case"playerClicked":o();case"onEnterScene":case"playerConnected":a();case"onLeaveScene":case"playerDisconnected":t();case"onRealmChanged":r();case"playerExpression":f();case"profileChanged":u()}e.add(R)}}function a(){al.onEnterScene(R=>{e.has("onEnterScene")&&sv.notifyObservers({userId:R.userId}),e.has("playerConnected")&&fv.notifyObservers({userId:R.userId})})}function t(){al.onLeaveScene(R=>{e.has("onLeaveScene")&&cv.notifyObservers({userId:R}),e.has("playerDisconnected")&&dv.notifyObservers({userId:R})})}function r(){qa.onChange(pe.RootEntity,R=>{R&&pv.notifyObservers({domain:R.baseUrl,displayName:R.realmName,room:R.room??"",serverName:R.realmName})})}function o(){let R=new Set;pe.addSystem(()=>{for(let[g]of pe.getEntitiesWith(hp)){if(R.has(g))return;R.add(g),yp.onChange(g,E=>{E?.hit&&mv.notifyObservers({userId:hp.getOrNull(g)?.address??"",ray:{direction:E.hit.direction,distance:E.hit.length,origin:E.hit.globalOrigin}})})}})}function f(){i_.onChange(pe.PlayerEntity,R=>{lv.notifyObservers({expressionId:R?.emoteUrn??""})})}function u(){r_.onChange(pe.PlayerEntity,()=>{m&&Zb.notifyObservers({ethAddress:m,version:0})}),a_.onChange(pe.PlayerEntity,()=>{m&&Zb.notifyObservers({ethAddress:m,version:0})})}let c=!1,m;function y(){if(c&&m)return pe.removeSystem(y);c||(c=!0,uv.notifyObservers({})),!m&&(m=hp.getOrNull(pe.PlayerEntity)?.address)}return pe.addSystem(y),{subscribe:n}}var $0={"assets/scene/main.composite":{version:1,components:[{name:"composite::root",jsonSchema:{type:"object",properties:{src:{type:"string",serializationType:"utf8-string"},entities:{type:"array",items:{type:"object",properties:{src:{type:"integer",serializationType:"entity"},dest:{type:"integer",serializationType:"entity"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{}},{name:"core::Transform",jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"},data:{512:{json:{position:{x:0,y:0,z:-33},scale:{x:23.600000381469727,y:10.899999618530273,z:10.399999618530273},rotation:{x:0,y:0,z:0,w:1},parent:513}},513:{json:{position:{x:40,y:28.25,z:40},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},514:{json:{position:{x:1.25,y:0,z:24.25},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},586:{json:{position:{x:40.382633209228516,y:10.010000228881836,z:14.59778118133545},scale:{x:23.600000381469727,y:5.599999904632568,z:6},rotation:{x:0,y:0,z:0,w:1},parent:0}},587:{json:{position:{x:40.347618103027344,y:6.993007659912109,z:38.44012451171875},scale:{x:73.80000305175781,y:.800000011920929,z:73.80000305175781},rotation:{x:0,y:0,z:0,w:1},parent:0}},600:{json:{position:{x:40,y:0,z:40},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},602:{json:{position:{x:28.39598846435547,y:0,z:53.00929260253906},scale:{x:11.100000381469727,y:1,z:11.100000381469727},rotation:{x:0,y:0,z:0,w:1},parent:0}}}},{name:"core::GltfContainer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"},data:{512:{json:{src:"assets/custom/chunkend01.glb/trigger_area.glb",visibleMeshesCollisionMask:0,invisibleMeshesCollisionMask:0}},513:{json:{src:"assets/custom/chunkend01.glb/ChunkEnd.glb",visibleMeshesCollisionMask:0,invisibleMeshesCollisionMask:3}},514:{json:{src:"assets/asset-packs/ambient_sound_-_crickets/ambient_sound.glb",visibleMeshesCollisionMask:1,invisibleMeshesCollisionMask:0}},586:{json:{src:"assets/asset-packs/trigger_area/trigger_area.glb",visibleMeshesCollisionMask:0,invisibleMeshesCollisionMask:0}},587:{json:{src:"assets/asset-packs/trigger_area/trigger_area.glb",visibleMeshesCollisionMask:0,invisibleMeshesCollisionMask:0}},600:{json:{src:"assets/chunks/ChunkStart.glb",visibleMeshesCollisionMask:0,invisibleMeshesCollisionMask:3}},602:{json:{src:"assets/asset-packs/button_panel/ButtonPanel_01/ButtonPanel_01.glb",visibleMeshesCollisionMask:0,invisibleMeshesCollisionMask:3}}}},{name:"core-schema::Name",jsonSchema:{type:"object",properties:{value:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},data:{512:{json:{value:"TriggerEnd"}},513:{json:{value:"ChunkEnd01"}},514:{json:{value:"Ambient Sound - Crickets"}},586:{json:{value:"TriggerStart"}},587:{json:{value:"TriggerDeath"}},600:{json:{value:"ChunkStart.glb"}},602:{json:{value:"Button Panel"}}}},{name:"core::VisibilityComponent",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"},data:{512:{json:{visible:!1}},514:{json:{visible:!1}},586:{json:{visible:!1}},587:{json:{visible:!1}}}},{name:"core-schema::Tags",jsonSchema:{type:"object",properties:{tags:{type:"array",items:{type:"string",serializationType:"utf8-string"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{tags:["Tag Group 1","Tag Group 2","Tag Group 3","Tag Group 4"]}}}},{name:"inspector::Selection",jsonSchema:{type:"object",properties:{gizmo:{type:"integer",serializationType:"int32"}},serializationType:"map"},data:{0:{json:{gizmo:0}}}},{name:"inspector::SceneMetadata-v1",jsonSchema:{type:"object",properties:{name:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},description:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},thumbnail:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},ageRating:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["T","A"],default:"T",serializationType:"enum-string",enumObject:{Teen:"T",Adult:"A"}}},categories:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"string",enum:["art","game","casino","social","music","fashion","crypto","education","shop","business","sports"],default:"game",serializationType:"enum-string",enumObject:{ART:"art",GAME:"game",CASINO:"casino",SOCIAL:"social",MUSIC:"music",FASHION:"fashion",CRYPTO:"crypto",EDUCATION:"education",SHOP:"shop",BUSINESS:"business",SPORTS:"sports"}},serializationType:"array"}},author:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},email:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},tags:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"string",serializationType:"utf8-string"},serializationType:"array"}},layout:{type:"object",properties:{base:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},parcels:{type:"array",items:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},silenceVoiceChat:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},disablePortableExperiences:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},spawnPoints:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},default:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},position:{type:"object",properties:{x:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"},y:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"},z:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"}},serializationType:"map"},cameraTarget:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"},z:{type:"integer",serializationType:"int32"}},serializationType:"map"}}},serializationType:"map"},serializationType:"array"}},skyboxConfig:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{fixedTime:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",serializationType:"int32"}},transitionMode:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",enum:[0,1],default:0,serializationType:"enum-int",enumObject:{0:"TM_FORWARD",1:"TM_BACKWARD",TM_FORWARD:0,TM_BACKWARD:1}}}},serializationType:"map"}}},serializationType:"map"},data:{0:{json:{name:"Tower of Madness",description:"Hehe",thumbnail:"",ageRating:"T",categories:[],author:"SDK",email:"",tags:[],layout:{parcels:[{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:3,y:4},{x:4,y:4},{x:0,y:3},{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:4,y:3},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:0,y:1},{x:1,y:1},{x:2,y:1},{x:3,y:1},{x:4,y:1},{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:3,y:0},{x:4,y:0}],base:{x:0,y:0}},silenceVoiceChat:!1,disablePortableExperiences:!1,spawnPoints:[{name:"Spawn Point 1",default:!0,position:{x:{$case:"range",value:[0,3]},y:{$case:"range",value:[0,0]},z:{$case:"range",value:[0,3]}},cameraTarget:{x:8,y:1,z:8}}],skyboxConfig:{fixedTime:43200}}}}},{name:"inspector::SceneMetadata-v2",jsonSchema:{type:"object",properties:{name:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},description:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},thumbnail:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},ageRating:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["T","A"],default:"T",serializationType:"enum-string",enumObject:{Teen:"T",Adult:"A"}}},categories:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"string",enum:["art","game","casino","social","music","fashion","crypto","education","shop","business","sports"],default:"game",serializationType:"enum-string",enumObject:{ART:"art",GAME:"game",CASINO:"casino",SOCIAL:"social",MUSIC:"music",FASHION:"fashion",CRYPTO:"crypto",EDUCATION:"education",SHOP:"shop",BUSINESS:"business",SPORTS:"sports"}},serializationType:"array"}},author:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},email:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},tags:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"string",serializationType:"utf8-string"},serializationType:"array"}},layout:{type:"object",properties:{base:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},parcels:{type:"array",items:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},silenceVoiceChat:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},disablePortableExperiences:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},spawnPoints:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},default:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},position:{type:"object",properties:{x:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"},y:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"},z:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"}},serializationType:"map"},cameraTarget:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"},z:{type:"integer",serializationType:"int32"}},serializationType:"map"}}},serializationType:"map"},serializationType:"array"}},skyboxConfig:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{fixedTime:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",serializationType:"int32"}},transitionMode:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",enum:[0,1],default:0,serializationType:"enum-int",enumObject:{0:"TM_FORWARD",1:"TM_BACKWARD",TM_FORWARD:0,TM_BACKWARD:1}}}},serializationType:"map"}},creator:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},data:{0:{json:{name:"Tower of Madness",description:"Multiplayer Tower Climbing Challenge - Race to the top!",thumbnail:"",ageRating:"T",categories:[],author:"SDK",email:"",tags:[],layout:{parcels:[{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:3,y:4},{x:4,y:4},{x:0,y:3},{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:4,y:3},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:0,y:1},{x:1,y:1},{x:2,y:1},{x:3,y:1},{x:4,y:1},{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:3,y:0},{x:4,y:0}],base:{x:0,y:0}},silenceVoiceChat:!1,disablePortableExperiences:!1,spawnPoints:[{name:"Spawn Point 1",default:!0,position:{x:{$case:"range",value:[0,3]},y:{$case:"range",value:[0,0]},z:{$case:"range",value:[0,3]}},cameraTarget:{x:8,y:1,z:8}}],skyboxConfig:{fixedTime:43200},creator:""}}}},{name:"inspector::Nodes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"entity"},open:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},children:{type:"array",items:{type:"integer",serializationType:"entity"},serializationType:"array"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{entity:0,open:!0,children:[586,587,600,602,513,514]},{entity:1,children:[]},{entity:2,children:[]},{entity:586,children:[]},{entity:587,children:[]},{entity:600,children:[]},{entity:602,children:[]},{entity:512,children:[]},{entity:513,open:!0,children:[512]},{entity:514,children:[]}]}}}},{name:"asset-packs::ActionTypes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{type:{type:"string",serializationType:"utf8-string"},jsonSchema:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{type:"play_animation",jsonSchema:'{"type":"object","properties":{"animation":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"stop_animation",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"set_state",jsonSchema:'{"type":"object","properties":{"state":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"start_tween",jsonSchema:'{"type":"object","properties":{"type":{"type":"string","enum":["move_item","rotate_item","scale_item","keep_rotating_item"],"default":"move_item","serializationType":"enum-string","enumObject":{"MOVE_ITEM":"move_item","ROTATE_ITEM":"rotate_item","SCALE_ITEM":"scale_item","KEEP_ROTATING_ITEM":"keep_rotating_item"}},"end":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"},"interpolationType":{"type":"string","enum":["linear","easeinquad","easeoutquad","easequad","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeinelastic","easeoutelastic","easeinoutelastic","easeinbounce","easeoutbounce","easeinoutbounce"],"default":"linear","serializationType":"enum-string","enumObject":{"LINEAR":"linear","EASEINQUAD":"easeinquad","EASEOUTQUAD":"easeoutquad","EASEQUAD":"easequad","EASEINSINE":"easeinsine","EASEOUTSINE":"easeoutsine","EASESINE":"easeinoutsine","EASEINEXPO":"easeinexpo","EASEOUTEXPO":"easeoutexpo","EASEEXPO":"easeinoutexpo","EASEINELASTIC":"easeinelastic","EASEOUTELASTIC":"easeoutelastic","EASEELASTIC":"easeinoutelastic","EASEINBOUNCE":"easeinbounce","EASEOUTEBOUNCE":"easeoutbounce","EASEBOUNCE":"easeinoutbounce"}},"duration":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"boolean"},"direction":{"type":"object","serializationType":"optional","optionalJsonSchema":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"}},"speed":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'},{type:"set_counter",jsonSchema:'{"type":"object","properties":{"counter":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"increment_counter",jsonSchema:'{"type":"object","properties":{"amount":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"decrease_counter",jsonSchema:'{"type":"object","properties":{"amount":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"play_sound",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"global":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"stop_sound",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"set_visibility",jsonSchema:'{"type":"object","properties":{"visible":{"type":"boolean","serializationType":"boolean"},"physicsCollider":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"collider":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","enum":[0,1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768],"default":1,"serializationType":"enum-int","enumObject":{"0":"CL_NONE","1":"CL_POINTER","2":"CL_PHYSICS","4":"CL_RESERVED1","8":"CL_RESERVED2","16":"CL_RESERVED3","32":"CL_RESERVED4","64":"CL_RESERVED5","128":"CL_RESERVED6","256":"CL_CUSTOM1","512":"CL_CUSTOM2","1024":"CL_CUSTOM3","2048":"CL_CUSTOM4","4096":"CL_CUSTOM5","8192":"CL_CUSTOM6","16384":"CL_CUSTOM7","32768":"CL_CUSTOM8","CL_NONE":0,"CL_POINTER":1,"CL_PHYSICS":2,"CL_RESERVED1":4,"CL_RESERVED2":8,"CL_RESERVED3":16,"CL_RESERVED4":32,"CL_RESERVED5":64,"CL_RESERVED6":128,"CL_CUSTOM1":256,"CL_CUSTOM2":512,"CL_CUSTOM3":1024,"CL_CUSTOM4":2048,"CL_CUSTOM5":4096,"CL_CUSTOM6":8192,"CL_CUSTOM7":16384,"CL_CUSTOM8":32768}}}},"serializationType":"map"}'},{type:"attach_to_player",jsonSchema:'{"type":"object","properties":{"anchorPointId":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"detach_from_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"play_video_stream",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","serializationType":"utf8-string"}},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"dclCast":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"stop_video_stream",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"play_audio_stream",jsonSchema:'{"type":"object","properties":{"url":{"type":"string","serializationType":"utf8-string"},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'},{type:"stop_audio_stream",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"teleport_player",jsonSchema:'{"type":"object","properties":{"x":{"type":"integer","serializationType":"int32"},"y":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"move_player",jsonSchema:'{"type":"object","properties":{"position":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"},"cameraTarget":{"type":"object","serializationType":"optional","optionalJsonSchema":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"}}},"serializationType":"map"}'},{type:"play_default_emote",jsonSchema:'{"type":"object","properties":{"emote":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"play_custom_emote",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"open_link",jsonSchema:'{"type":"object","properties":{"url":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"show_text",jsonSchema:'{"type":"object","properties":{"text":{"type":"string","serializationType":"utf8-string"},"hideAfterSeconds":{"type":"number","serializationType":"float32"},"font":{"type":"integer","enum":[0,1,2],"default":0,"serializationType":"enum-int","enumObject":{"0":"F_SANS_SERIF","1":"F_SERIF","2":"F_MONOSPACE","F_SANS_SERIF":0,"F_SERIF":1,"F_MONOSPACE":2}},"fontSize":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"textAlign":{"type":"integer","enum":[0,1,2,3,4,5,6,7,8],"default":4,"serializationType":"enum-int","enumObject":{"0":"TAM_TOP_LEFT","1":"TAM_TOP_CENTER","2":"TAM_TOP_RIGHT","3":"TAM_MIDDLE_LEFT","4":"TAM_MIDDLE_CENTER","5":"TAM_MIDDLE_RIGHT","6":"TAM_BOTTOM_LEFT","7":"TAM_BOTTOM_CENTER","8":"TAM_BOTTOM_RIGHT","TAM_TOP_LEFT":0,"TAM_TOP_CENTER":1,"TAM_TOP_RIGHT":2,"TAM_MIDDLE_LEFT":3,"TAM_MIDDLE_CENTER":4,"TAM_MIDDLE_RIGHT":5,"TAM_BOTTOM_LEFT":6,"TAM_BOTTOM_CENTER":7,"TAM_BOTTOM_RIGHT":8}}},"serializationType":"map"}'},{type:"hide_text",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"start_delay",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"},"timeout":{"type":"number","serializationType":"float32"}},"serializationType":"map"}'},{type:"stop_delay",jsonSchema:'{"type":"object","properties":{"action":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"start_loop",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"},"interval":{"type":"number","serializationType":"float32"}},"serializationType":"map"}'},{type:"stop_loop",jsonSchema:'{"type":"object","properties":{"action":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"clone_entity",jsonSchema:'{"type":"object","properties":{"position":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"}},"serializationType":"map"}'},{type:"remove_entity",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"show_image",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"align":{"type":"integer","enum":[0,1,2,3,4,5,6,7,8],"default":4,"serializationType":"enum-int","enumObject":{"0":"TAM_TOP_LEFT","1":"TAM_TOP_CENTER","2":"TAM_TOP_RIGHT","3":"TAM_MIDDLE_LEFT","4":"TAM_MIDDLE_CENTER","5":"TAM_MIDDLE_RIGHT","6":"TAM_BOTTOM_LEFT","7":"TAM_BOTTOM_CENTER","8":"TAM_BOTTOM_RIGHT","TAM_TOP_LEFT":0,"TAM_TOP_CENTER":1,"TAM_TOP_RIGHT":2,"TAM_MIDDLE_LEFT":3,"TAM_MIDDLE_CENTER":4,"TAM_MIDDLE_RIGHT":5,"TAM_BOTTOM_LEFT":6,"TAM_BOTTOM_CENTER":7,"TAM_BOTTOM_RIGHT":8}},"height":{"type":"number","serializationType":"float32"},"width":{"type":"number","serializationType":"float32"},"hideAfterSeconds":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"text":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","serializationType":"utf8-string"}},"fontSize":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'},{type:"hide_image",jsonSchema:'{"type":"object","properties":{"imageEntity":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"damage",jsonSchema:'{"type":"object","properties":{"radius":{"type":"number","serializationType":"float32"},"layer":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","enum":["all","player","non_player"],"default":"all","serializationType":"enum-string","enumObject":{"ALL":"all","PLAYER":"player","NON_PLAYER":"non_player"}}},"hits":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"move_player_here",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"place_on_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"rotate_as_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"place_on_camera",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"rotate_as_camera",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"set_position",jsonSchema:'{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"set_rotation",jsonSchema:'{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"set_scale",jsonSchema:'{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"follow_player",jsonSchema:'{"type":"object","properties":{"speed":{"type":"number","serializationType":"float32"},"x":{"type":"boolean","serializationType":"boolean"},"y":{"type":"boolean","serializationType":"boolean"},"z":{"type":"boolean","serializationType":"boolean"},"minDistance":{"type":"number","serializationType":"float32"}},"serializationType":"map"}'},{type:"stop_following_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"random",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"}},"serializationType":"map"}'},{type:"batch",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"}},"serializationType":"map"}'},{type:"heal_player",jsonSchema:'{"type":"object","properties":{"multiplier":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"claim_airdrop",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"lights_on",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"lights_off",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"lights_modify",jsonSchema:'{"type":"object","properties":{"active":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"color":{"type":"object","serializationType":"optional","optionalJsonSchema":{"type":"object","properties":{"r":{"type":"number"},"g":{"type":"number"},"b":{"type":"number"}},"serializationType":"color3"}},"intensity":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'},{type:"change_camera",jsonSchema:'{"type":"object","properties":{"virtualCameraEntity":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"entity"}}},"serializationType":"map"}'},{type:"change_text",jsonSchema:'{"type":"object","properties":{"text":{"type":"string","serializationType":"utf8-string"},"fontSize":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"color":{"type":"object","serializationType":"optional","optionalJsonSchema":{"type":"object","properties":{"r":{"type":"number"},"g":{"type":"number"},"b":{"type":"number"},"a":{"type":"number"}},"serializationType":"color4"}}},"serializationType":"map"}'},{type:"stop_tween",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"slide_texture",jsonSchema:'{"type":"object","properties":{"direction":{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"}},"serializationType":"map"},"speed":{"type":"number","serializationType":"float32"},"movementType":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","enum":[0,1],"default":0,"serializationType":"enum-int","enumObject":{"0":"TMT_OFFSET","1":"TMT_TILING","TMT_OFFSET":0,"TMT_TILING":1}}},"duration":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'}]}}}},{name:"asset-packs::Actions",jsonSchema:{type:"object",properties:{id:{type:"integer",serializationType:"int32"},value:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},type:{type:"string",serializationType:"utf8-string"},jsonPayload:{type:"string",serializationType:"utf8-string"},allowedInBasicView:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},default:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{514:{json:{id:1,value:[{name:"Play once",type:"play_sound",jsonPayload:'{"src":"assets/asset-packs/ambient_sound_-_crickets/Swamp.mp3","global":true}',allowedInBasicView:!0},{name:"Loop",type:"play_sound",jsonPayload:'{"loop":true,"src":"assets/scene/Audio/PixelSodaBar.mp3","global":true,"volume":0.3}',allowedInBasicView:!0,basicViewId:"loop-sound"},{name:"Stop",type:"stop_sound",jsonPayload:"{}",allowedInBasicView:!0}]}}}},{name:"asset-packs::Counter",jsonSchema:{type:"object",properties:{id:{type:"number",serializationType:"float32"},value:{type:"integer",serializationType:"int32"}},serializationType:"map"},data:{0:{json:{id:0,value:1}}}},{name:"asset-packs::Triggers",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["on_click","on_input_action","on_state_change","on_spawn","on_tween_end","on_counter_change","on_player_enters_area","on_player_leaves_area","on_delay","on_loop","on_clone","on_click_image","on_damage","on_global_click","on_global_primary","on_global_secondary","on_tick","on_heal_player","on_player_spawn"],default:"on_input_action",serializationType:"enum-string",enumObject:{ON_CLICK:"on_click",ON_INPUT_ACTION:"on_input_action",ON_STATE_CHANGE:"on_state_change",ON_SPAWN:"on_spawn",ON_TWEEN_END:"on_tween_end",ON_COUNTER_CHANGE:"on_counter_change",ON_PLAYER_ENTERS_AREA:"on_player_enters_area",ON_PLAYER_LEAVES_AREA:"on_player_leaves_area",ON_DELAY:"on_delay",ON_LOOP:"on_loop",ON_CLONE:"on_clone",ON_CLICK_IMAGE:"on_click_image",ON_DAMAGE:"on_damage",ON_GLOBAL_CLICK:"on_global_click",ON_GLOBAL_PRIMARY:"on_global_primary",ON_GLOBAL_SECONDARY:"on_global_secondary",ON_TICK:"on_tick",ON_HEAL_PLAYER:"on_heal_player",ON_PLAYER_SPAWN:"on_player_spawn"}},conditions:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{id:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",serializationType:"int32"}},type:{type:"string",enum:["when_state_is","when_state_is_not","when_counter_equals","when_counter_is_greater_than","when_counter_is_less_than","when_distance_to_player_less_than","when_distance_to_player_greater_than","when_previous_state_is","when_previous_state_is_not"],default:"when_state_is",serializationType:"enum-string",enumObject:{WHEN_STATE_IS:"when_state_is",WHEN_STATE_IS_NOT:"when_state_is_not",WHEN_COUNTER_EQUALS:"when_counter_equals",WHEN_COUNTER_IS_GREATER_THAN:"when_counter_is_greater_than",WHEN_COUNTER_IS_LESS_THAN:"when_counter_is_less_than",WHEN_DISTANCE_TO_PLAYER_LESS_THAN:"when_distance_to_player_less_than",WHEN_DISTANCE_TO_PLAYER_GREATER_THAN:"when_distance_to_player_greater_than",WHEN_PREVIOUS_STATE_IS:"when_previous_state_is",WHEN_PREVIOUS_STATE_IS_NOT:"when_previous_state_is_not"}},value:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},serializationType:"array"}},operation:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["and","or"],default:"and",serializationType:"enum-string",enumObject:{AND:"and",OR:"or"}}},actions:{type:"array",items:{type:"object",properties:{id:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",serializationType:"int32"}},name:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},serializationType:"array"},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{512:{json:{value:[{type:"on_player_enters_area",conditions:[],actions:[]},{type:"on_player_leaves_area",conditions:[],actions:[]}]}},514:{json:{value:[{type:"on_spawn",conditions:[],operation:"and",actions:[{id:1,name:"Loop"}]}]}},586:{json:{value:[{type:"on_player_enters_area",conditions:[],actions:[]},{type:"on_player_leaves_area",conditions:[],actions:[]}]}},587:{json:{value:[{type:"on_player_enters_area",conditions:[],actions:[]},{type:"on_player_leaves_area",conditions:[],actions:[]}]}}}},{name:"inspector::TransformConfig",jsonSchema:{type:"object",properties:{porportionalScaling:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}}},serializationType:"map"},data:{512:{json:{}},513:{json:{}},514:{json:{}},586:{json:{}},587:{json:{}},600:{json:{}},602:{json:{}}}},{name:"inspector::Hide",jsonSchema:{type:"object",properties:{value:{type:"boolean",serializationType:"boolean"}},serializationType:"map"},data:{586:{json:{value:!0}},587:{json:{value:!0}}}},{name:"inspector::Config",jsonSchema:{type:"object",properties:{isBasicViewEnabled:{type:"boolean",serializationType:"boolean"},componentName:{type:"string",serializationType:"utf8-string"},fields:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},type:{type:"string",enum:["core::Animator","core::AudioSource","core::AudioStream","core::AvatarAttach","core::Billboard","core::GltfContainer","core-schema::Network-Entity","core::Material","core::MeshCollider","core::MeshRenderer","core::NftShape","core::PointerEvents","core-schema::Sync-Components","core::TextShape","core::Transform","core::Tween","core::TweenSequence","core::VideoPlayer","core::VisibilityComponent","core::LightSource","core::GltfNodeModifiers","inspector::Selection","inspector::SceneMetadata-v2","inspector::Nodes","asset-packs::ActionTypes","asset-packs::Actions","asset-packs::Counter","asset-packs::CounterBar","asset-packs::Triggers","asset-packs::States","inspector::TransformConfig","inspector::Hide","inspector::Lock","inspector::Config","inspector::Ground","inspector::Tile","inspector::CustomAsset","asset-packs::AdminTools","asset-packs::Rewards","asset-packs::VideoScreen","inspector::UIState","asset-packs::Script"],default:"asset-packs::Actions",serializationType:"enum-string",enumObject:{ANIMATOR:"core::Animator",AUDIO_SOURCE:"core::AudioSource",AUDIO_STREAM:"core::AudioStream",AVATAR_ATTACH:"core::AvatarAttach",BILLBOARD:"core::Billboard",GLTF_CONTAINER:"core::GltfContainer",NETWORK_ENTITY:"core-schema::Network-Entity",MATERIAL:"core::Material",MESH_COLLIDER:"core::MeshCollider",MESH_RENDERER:"core::MeshRenderer",NFT_SHAPE:"core::NftShape",POINTER_EVENTS:"core::PointerEvents",SYNC_COMPONENTS:"core-schema::Sync-Components",TEXT_SHAPE:"core::TextShape",TRANSFORM:"core::Transform",TWEEN:"core::Tween",TWEEN_SEQUENCE:"core::TweenSequence",VIDEO_PLAYER:"core::VideoPlayer",VISIBILITY_COMPONENT:"core::VisibilityComponent",LIGHT_SOURCE:"core::LightSource",GLTF_NODE_MODIFIERS:"core::GltfNodeModifiers",Selection:"inspector::Selection",Scene:"inspector::SceneMetadata-v2",Nodes:"inspector::Nodes",ActionTypes:"asset-packs::ActionTypes",Actions:"asset-packs::Actions",Counter:"asset-packs::Counter",CounterBar:"asset-packs::CounterBar",Triggers:"asset-packs::Triggers",States:"asset-packs::States",TransformConfig:"inspector::TransformConfig",Hide:"inspector::Hide",Lock:"inspector::Lock",Config:"inspector::Config",Ground:"inspector::Ground",Tile:"inspector::Tile",CustomAsset:"inspector::CustomAsset",AdminTools:"asset-packs::AdminTools",Rewards:"asset-packs::Rewards",VideoScreen:"asset-packs::VideoScreen",InspectorUIState:"inspector::UIState",Script:"asset-packs::Script"}},layout:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},serializationType:"array"},assetId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},label:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},sections:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{id:{type:"string",serializationType:"utf8-string"},label:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},items:{type:"array",items:{type:"object",properties:{component:{type:"string",serializationType:"utf8-string"},widget:{type:"string",serializationType:"utf8-string"},label:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},type:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},path:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},props:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{basic:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}}},serializationType:"map"}},constraints:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{min:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},max:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},minExclusive:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},maxExclusive:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},step:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},multipleOf:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},minLength:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},maxLength:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},pattern:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},format:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},default:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"}},transform:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{in:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{steps:{type:"array",items:{type:"object",properties:{op:{type:"string",serializationType:"utf8-string"},onError:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["fail","skip","noop"],default:"noop",serializationType:"enum-string",enumObject:{FAIL:"fail",SKIP:"skip",NOOP:"noop"}}}},serializationType:"map"},serializationType:"array"}},serializationType:"map"}},out:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{steps:{type:"array",items:{type:"object",properties:{op:{type:"string",serializationType:"utf8-string"},onError:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["fail","skip","noop"],default:"noop",serializationType:"enum-string",enumObject:{FAIL:"fail",SKIP:"skip",NOOP:"noop"}}}},serializationType:"map"},serializationType:"array"}},serializationType:"map"}}},serializationType:"map"}},dataSource:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{kind:{type:"string",serializationType:"utf8-string"}},serializationType:"map"}}},serializationType:"map"},serializationType:"array"},columns:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},helpTooltip:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{text:{type:"string",serializationType:"utf8-string"},link:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"}}},serializationType:"map"},serializationType:"array"}},helpTooltip:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{text:{type:"string",serializationType:"utf8-string"},link:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"}},version:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}}},serializationType:"map"},data:{514:{json:{isBasicViewEnabled:!0,componentName:"",fields:[],assetId:"4b18276b-554d-4ec0-af44-3044d0e559d3",label:"Ambient Sound",sections:[{id:"sound",items:[{component:"asset-packs::Actions",widget:"FileUploadField",label:"Sound Path",path:"src",basicViewId:"loop-sound"},{component:"asset-packs::Actions",widget:"RangeField",label:"Volume",path:"volume",basicViewId:"loop-sound",constraints:{max:1,step:.009999999776482582,default:"1"},transform:{in:{steps:[{op:"toPercentage"}]},out:{steps:[{op:"fromPercentage"}]}}}]}],version:2}}}},{name:"inspector::CustomAsset",jsonSchema:{type:"object",properties:{assetId:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},data:{513:{json:{assetId:"4c1917b0-312d-4830-918a-2f3b2307d242"}}}}]}};var Em=[],J0={getCompositeOrNull(e,n){let a=$0[e];if(a){try{if(a instanceof Uint8Array){let t=qi.fromBinary(a);Em.push({src:e,composite:t})}else if(typeof a=="string"){let t=qi.fromJson(JSON.parse(a));Em.push({src:e,composite:t})}else if(typeof a=="object"){let t=qi.fromJson(a);Em.push({src:e,composite:t})}}catch(t){console.error(t)}delete $0[e]}return Em.find(t=>t.src===e)||null}};var Tm=Xb({crdtSendToRenderer:Xc.crdtSendToRenderer});pe.addTransport(Tm);async function Ev(e){pe.seal(),await pe.update(e),await t3(Xc.sendBatch)}async function Tv(){let e=await(0,Xc.crdtGetState)({data:new Uint8Array});if(!e.hasEntities){let n=J0.getCompositeOrNull("main.composite");if(n)try{qi.instance(pe,n,J0)}catch(a){console.log("Warning: main.composite couldn't be instanced."),console.error(a)}}if(Tm.onmessage&&e&&e.data&&e.data.length)for(let n of e.data)Tm.onmessage(n)}Qb(pe,{syncEntity:X2},al);if(tm!==void 0){let e=function(){try{let n=tm();n&&typeof n=="object"&&typeof n.then=="function"&&n.catch(console.error),pe}catch(n){console.error(n)}finally{pe.removeSystem(e)}};pe.addSystem(e,1/0)}
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler.production.min.js:
  (**
   * @license React
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
